var App=(()=>{var gs=Object.create;var je=Object.defineProperty,vs=Object.defineProperties,ws=Object.getOwnPropertyDescriptor,bs=Object.getOwnPropertyDescriptors,ys=Object.getOwnPropertyNames,ft=Object.getOwnPropertySymbols,xs=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty,Ss=Object.prototype.propertyIsEnumerable;var le=Math.pow,ut=(s,e,t)=>e in s?je(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,de=(s,e)=>{for(var t in e||(e={}))pt.call(e,t)&&ut(s,t,e[t]);if(ft)for(var t of ft(e))Ss.call(e,t)&&ut(s,t,e[t]);return s},Pe=(s,e)=>vs(s,bs(e));var O=(s,e)=>()=>(s&&(e=s(s=0)),e);var Fe=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var Es=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ys(e))!pt.call(s,a)&&a!==t&&je(s,a,{get:()=>e[a],enumerable:!(i=ws(e,a))||i.enumerable});return s};var mt=(s,e,t)=>(t=s!=null?gs(xs(s)):{},Es(e||!s||!s.__esModule?je(t,"default",{value:s,enumerable:!0}):t,s));var ht=Fe((Le,We)=>{(function(s,e){typeof Le=="object"&&typeof We=="object"?We.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Le=="object"?Le.AOS=e():s.AOS=e()})(Le,function(){return function(s){function e(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return s[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var t={};return e.m=s,e.c=t,e.p="dist/",e(0)}([function(s,e,t){"use strict";function i(C){return C&&C.__esModule?C:{default:C}}var a=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(C[I]=A[I])}return C},r=t(1),l=(i(r),t(6)),o=i(l),n=t(7),d=i(n),c=t(8),u=i(c),p=t(9),m=i(p),y=t(10),g=i(y),x=t(11),b=i(x),h=t(14),f=i(h),w=[],M=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},k=function(){var C=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(C&&(M=!0),M)return w=(0,b.default)(w,P),(0,g.default)(w,P.once),w},L=function(){w=(0,f.default)(),k()},S=function(){w.forEach(function(C,T){C.node.removeAttribute("data-aos"),C.node.removeAttribute("data-aos-easing"),C.node.removeAttribute("data-aos-duration"),C.node.removeAttribute("data-aos-delay")})},v=function(C){return C===!0||C==="mobile"&&m.default.mobile()||C==="phone"&&m.default.phone()||C==="tablet"&&m.default.tablet()||typeof C=="function"&&C()===!0},E=function(C){P=a(P,C),w=(0,f.default)();var T=document.all&&!window.atob;return v(P.disable)||T?S():(P.disableMutationObserver||u.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?k(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){k(!0)}):document.addEventListener(P.startEvent,function(){k(!0)}),window.addEventListener("resize",(0,d.default)(k,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(k,P.debounceDelay,!0)),window.addEventListener("scroll",(0,o.default)(function(){(0,g.default)(w,P.once)},P.throttleDelay)),P.disableMutationObserver||u.default.ready("[data-aos]",L),w)};s.exports={init:E,refresh:k,refreshHard:L}},function(s,e){},,,,,function(s,e){(function(t){"use strict";function i(v,E,C){function T(D){var Z=W,me=re;return W=re=void 0,ue=D,_=v.apply(me,Z)}function A(D){return ue=D,Y=setTimeout(J,E),pe?T(D):_}function I(D){var Z=D-ee,me=D-ue,ct=E-Z;return oe?L(ct,ae-me):ct}function B(D){var Z=D-ee,me=D-ue;return ee===void 0||Z>=E||Z<0||oe&&me>=ae}function J(){var D=S();return B(D)?z(D):void(Y=setTimeout(J,I(D)))}function z(D){return Y=void 0,G&&W?T(D):(W=re=void 0,_)}function R(){Y!==void 0&&clearTimeout(Y),ue=0,W=ee=re=Y=void 0}function H(){return Y===void 0?_:z(S())}function X(){var D=S(),Z=B(D);if(W=arguments,re=this,ee=D,Z){if(Y===void 0)return A(ee);if(oe)return Y=setTimeout(J,E),T(ee)}return Y===void 0&&(Y=setTimeout(J,E)),_}var W,re,ae,_,Y,ee,ue=0,pe=!1,oe=!1,G=!0;if(typeof v!="function")throw new TypeError(c);return E=n(E)||0,r(C)&&(pe=!!C.leading,oe="maxWait"in C,ae=oe?k(n(C.maxWait)||0,E):ae,G="trailing"in C?!!C.trailing:G),X.cancel=R,X.flush=H,X}function a(v,E,C){var T=!0,A=!0;if(typeof v!="function")throw new TypeError(c);return r(C)&&(T="leading"in C?!!C.leading:T,A="trailing"in C?!!C.trailing:A),i(v,E,{leading:T,maxWait:E,trailing:A})}function r(v){var E=typeof v=="undefined"?"undefined":d(v);return!!v&&(E=="object"||E=="function")}function l(v){return!!v&&(typeof v=="undefined"?"undefined":d(v))=="object"}function o(v){return(typeof v=="undefined"?"undefined":d(v))=="symbol"||l(v)&&P.call(v)==p}function n(v){if(typeof v=="number")return v;if(o(v))return u;if(r(v)){var E=typeof v.valueOf=="function"?v.valueOf():v;v=r(E)?E+"":E}if(typeof v!="string")return v===0?v:+v;v=v.replace(m,"");var C=g.test(v);return C||x.test(v)?b(v.slice(2),C?2:8):y.test(v)?u:+v}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c="Expected a function",u=NaN,p="[object Symbol]",m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,x=/^0o[0-7]+$/i,b=parseInt,h=(typeof t=="undefined"?"undefined":d(t))=="object"&&t&&t.Object===Object&&t,f=(typeof self=="undefined"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,w=h||f||Function("return this")(),M=Object.prototype,P=M.toString,k=Math.max,L=Math.min,S=function(){return w.Date.now()};s.exports=a}).call(e,function(){return this}())},function(s,e){(function(t){"use strict";function i(S,v,E){function C(G){var D=X,Z=W;return X=W=void 0,ee=G,ae=S.apply(Z,D)}function T(G){return ee=G,_=setTimeout(B,v),ue?C(G):ae}function A(G){var D=G-Y,Z=G-ee,me=v-D;return pe?k(me,re-Z):me}function I(G){var D=G-Y,Z=G-ee;return Y===void 0||D>=v||D<0||pe&&Z>=re}function B(){var G=L();return I(G)?J(G):void(_=setTimeout(B,A(G)))}function J(G){return _=void 0,oe&&X?C(G):(X=W=void 0,ae)}function z(){_!==void 0&&clearTimeout(_),ee=0,X=Y=W=_=void 0}function R(){return _===void 0?ae:J(L())}function H(){var G=L(),D=I(G);if(X=arguments,W=this,Y=G,D){if(_===void 0)return T(Y);if(pe)return _=setTimeout(B,v),C(Y)}return _===void 0&&(_=setTimeout(B,v)),ae}var X,W,re,ae,_,Y,ee=0,ue=!1,pe=!1,oe=!0;if(typeof S!="function")throw new TypeError(d);return v=o(v)||0,a(E)&&(ue=!!E.leading,pe="maxWait"in E,re=pe?P(o(E.maxWait)||0,v):re,oe="trailing"in E?!!E.trailing:oe),H.cancel=z,H.flush=R,H}function a(S){var v=typeof S=="undefined"?"undefined":n(S);return!!S&&(v=="object"||v=="function")}function r(S){return!!S&&(typeof S=="undefined"?"undefined":n(S))=="object"}function l(S){return(typeof S=="undefined"?"undefined":n(S))=="symbol"||r(S)&&M.call(S)==u}function o(S){if(typeof S=="number")return S;if(l(S))return c;if(a(S)){var v=typeof S.valueOf=="function"?S.valueOf():S;S=a(v)?v+"":v}if(typeof S!="string")return S===0?S:+S;S=S.replace(p,"");var E=y.test(S);return E||g.test(S)?x(S.slice(2),E?2:8):m.test(S)?c:+S}var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},d="Expected a function",c=NaN,u="[object Symbol]",p=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,g=/^0o[0-7]+$/i,x=parseInt,b=(typeof t=="undefined"?"undefined":n(t))=="object"&&t&&t.Object===Object&&t,h=(typeof self=="undefined"?"undefined":n(self))=="object"&&self&&self.Object===Object&&self,f=b||h||Function("return this")(),w=Object.prototype,M=w.toString,P=Math.max,k=Math.min,L=function(){return f.Date.now()};s.exports=i}).call(e,function(){return this}())},function(s,e){"use strict";function t(n){var d=void 0,c=void 0,u=void 0;for(d=0;d<n.length;d+=1)if(c=n[d],c.dataset&&c.dataset.aos||(u=c.children&&t(c.children)))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!i()}function r(n,d){var c=window.document,u=i(),p=new u(l);o=d,p.observe(c.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(n){n&&n.forEach(function(d){var c=Array.prototype.slice.call(d.addedNodes),u=Array.prototype.slice.call(d.removedNodes),p=c.concat(u);if(t(p))return o()})}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){};e.default={isSupported:a,ready:r}},function(s,e){"use strict";function t(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function c(u,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}return function(u,p,m){return p&&c(u.prototype,p),m&&c(u,m),u}}(),r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,n=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=function(){function c(){t(this,c)}return a(c,[{key:"phone",value:function(){var u=i();return!(!r.test(u)&&!l.test(u.substr(0,4)))}},{key:"mobile",value:function(){var u=i();return!(!o.test(u)&&!n.test(u.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),c}();e.default=new d},function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(a,r,l){var o=a.node.getAttribute("data-aos-once");r>a.position?a.node.classList.add("aos-animate"):typeof o!="undefined"&&(o==="false"||!l&&o!=="true")&&a.node.classList.remove("aos-animate")},i=function(a,r){var l=window.pageYOffset,o=window.innerHeight;a.forEach(function(n,d){t(n,o+l,r)})};e.default=i},function(s,e,t){"use strict";function i(o){return o&&o.__esModule?o:{default:o}}Object.defineProperty(e,"__esModule",{value:!0});var a=t(12),r=i(a),l=function(o,n){return o.forEach(function(d,c){d.node.classList.add("aos-init"),d.position=(0,r.default)(d.node,n.offset)}),o};e.default=l},function(s,e,t){"use strict";function i(o){return o&&o.__esModule?o:{default:o}}Object.defineProperty(e,"__esModule",{value:!0});var a=t(13),r=i(a),l=function(o,n){var d=0,c=0,u=window.innerHeight,p={offset:o.getAttribute("data-aos-offset"),anchor:o.getAttribute("data-aos-anchor"),anchorPlacement:o.getAttribute("data-aos-anchor-placement")};switch(p.offset&&!isNaN(p.offset)&&(c=parseInt(p.offset)),p.anchor&&document.querySelectorAll(p.anchor)&&(o=document.querySelectorAll(p.anchor)[0]),d=(0,r.default)(o).top,p.anchorPlacement){case"top-bottom":break;case"center-bottom":d+=o.offsetHeight/2;break;case"bottom-bottom":d+=o.offsetHeight;break;case"top-center":d+=u/2;break;case"bottom-center":d+=u/2+o.offsetHeight;break;case"center-center":d+=u/2+o.offsetHeight/2;break;case"top-top":d+=u;break;case"bottom-top":d+=o.offsetHeight+u;break;case"center-top":d+=o.offsetHeight/2+u}return p.anchorPlacement||p.offset||isNaN(n)||(c=n),d+c};e.default=l},function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(i){for(var a=0,r=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)a+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),r+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:r,left:a}};e.default=t},function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(a){return{node:a}})};e.default=t}])})});var gt=Fe((_e,Ue)=>{(function(s,e){typeof _e=="object"&&typeof Ue!="undefined"?Ue.exports=e():typeof define=="function"&&define.amd?define(e):s.lozad=e()})(_e,function(){"use strict";var s=typeof document!="undefined"&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(r){if(r.nodeName.toLowerCase()==="picture"){var l=r.querySelector("img"),o=!1;l===null&&(l=document.createElement("img"),o=!0),s&&r.getAttribute("data-iesrc")&&(l.src=r.getAttribute("data-iesrc")),r.getAttribute("data-alt")&&(l.alt=r.getAttribute("data-alt")),o&&r.append(l)}if(r.nodeName.toLowerCase()==="video"&&!r.getAttribute("data-src")&&r.children){for(var n=r.children,d=void 0,c=0;c<=n.length-1;c++)(d=n[c].getAttribute("data-src"))&&(n[c].src=d);r.load()}r.getAttribute("data-poster")&&(r.poster=r.getAttribute("data-poster")),r.getAttribute("data-src")&&(r.src=r.getAttribute("data-src")),r.getAttribute("data-srcset")&&r.setAttribute("srcset",r.getAttribute("data-srcset"));var u=",";if(r.getAttribute("data-background-delimiter")&&(u=r.getAttribute("data-background-delimiter")),r.getAttribute("data-background-image"))r.style.backgroundImage="url('"+r.getAttribute("data-background-image").split(u).join("'),url('")+"')";else if(r.getAttribute("data-background-image-set")){var p=r.getAttribute("data-background-image-set").split(u),m=p[0].substr(0,p[0].indexOf(" "))||p[0];m=m.indexOf("url(")===-1?"url("+m+")":m,p.length===1?r.style.backgroundImage=m:r.setAttribute("style",(r.getAttribute("style")||"")+"background-image: "+m+"; background-image: -webkit-image-set("+p+"); background-image: image-set("+p+")")}r.getAttribute("data-toggle-class")&&r.classList.toggle(r.getAttribute("data-toggle-class"))},loaded:function(){}};function t(r){r.setAttribute("data-loaded",!0)}var i=function(r){return r.getAttribute("data-loaded")==="true"},a=function(r){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return r instanceof Element?[r]:r instanceof NodeList?r:l.querySelectorAll(r)};return function(){var r,l,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:".lozad",n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},d=Object.assign({},e,n),c=d.root,u=d.rootMargin,p=d.threshold,m=d.load,y=d.loaded,g=void 0;typeof window!="undefined"&&window.IntersectionObserver&&(g=new IntersectionObserver((r=m,l=y,function(f,w){f.forEach(function(M){(0<M.intersectionRatio||M.isIntersecting)&&(w.unobserve(M.target),i(M.target)||(r(M.target),t(M.target),l(M.target)))})}),{root:c,rootMargin:u,threshold:p}));for(var x,b=a(o,c),h=0;h<b.length;h++)(x=b[h]).getAttribute("data-placeholder-background")&&(x.style.background=x.getAttribute("data-placeholder-background"));return{observe:function(){for(var f=a(o,c),w=0;w<f.length;w++)i(f[w])||(g?g.observe(f[w]):(m(f[w]),t(f[w]),y(f[w])))},triggerLoad:function(f){i(f)||(m(f),t(f),y(f))},observer:g}}})});function vt(){$("[setBackground]").each(function(){var s=$(this).attr("setBackground");$(this).css({"background-image":"url("+s+")","background-size":"cover","background-position":"center center"})})}function wt(){let s=$(window).height();$(document).on("scroll",function(){let e=$(window).scrollTop(),t=$(document).height();e+s>t-s?$(".button-to-top").addClass("active"):$(".button-to-top").removeClass("active")}),$(document).on("click",".button-to-top",function(){$("html, body").animate({scrollTop:0})})}function bt(){let s=$(".accordion-container");if(s.length){let e=s.find(".accordion-item");e.on("mouseenter",function(){window.innerWidth>=1024&&(e.removeClass("active"),$(this).addClass("active"))}),e.on("click",function(){window.innerWidth<1024&&(e.removeClass("active"),$(this).addClass("active"))})}}function yt(){var s=$("[stick-to-edge]");s.each(function(){let e=$(this),t=e.attr("edge-placement")?"inner":"screen",i=e.attr("stick-to-edge"),a=e.attr("unstick-min")||1200,r=($(window).width()-$(".default-container-js").width())/2;t==="inner"&&e.closest(".container")&&e.closest(".container").closest(".container-fluid")&&(r=Math.abs($(".wide-container-js").offset().left-$(".default-container-js").offset().left)),i==="left"&&e.css({"margin-left":`-${r}px`,"--ml":`${Math.abs(r)}`}),i==="right"&&e.css({"margin-right":`-${r}px`,"--mr":`${Math.abs(r)}`}),$(window).width()<a&&(e.removeAttr("style"),e.css({"--ml":"0","--mr":"0"}))})}function xt(){var s=document.querySelector("#menu-spy");let e,t=!1;var i=new MenuSpy(s,{activeClass:"active",threshold:300,callback:function(a){let r=$(".section-scrollTo-active");clearTimeout(e),t=!0,e=setTimeout(function(){$(r).scrollTo("li.active",800),t=!1},1e3)}})}var St=O(()=>{});var Et,Ts,Ms,Cs,Tt=O(()=>{Et={init:()=>{let s=document.querySelector(".header");if(!s)return;let e=document.querySelectorAll(".header .header-wrapper .menu li.has-sub"),t=window.scrollY,i=()=>{let u=window.scrollY;u>0?s.classList.add("active"):s.classList.remove("active"),u>t&&window.innerWidth>=1024&&e.forEach(p=>p.classList.remove("open-submenu")),t=u};window.addEventListener("scroll",i),i();let a=document.querySelector(".header-hambuger"),r=document.querySelector(".mobile-menu");a&&r&&a.addEventListener("click",()=>{r.classList.contains("active")?(a.classList.remove("active"),r.classList.remove("active"),document.body.classList.remove("overflow-hidden")):(a.classList.add("active"),r.classList.add("active"),document.body.classList.add("overflow-hidden"))}),e.forEach(u=>{let p=u.querySelector("a");p&&p.addEventListener("click",m=>{if(window.innerWidth>=1024){m.preventDefault();let y=u.classList.contains("open-submenu");e.forEach(g=>{g!==u&&g.classList.remove("open-submenu")}),y?u.classList.remove("open-submenu"):u.classList.add("open-submenu")}})}),document.querySelectorAll(".mobile-menu .has-sub > div > i, .mobile-menu .has-sub-2 > div > i").forEach(u=>{u.addEventListener("click",p=>{p.preventDefault();let m=u.closest("li"),y=m.querySelector(".submenu, .submenu-2");y&&(m.classList.toggle("active"),Ts(y))})}),document.addEventListener("click",u=>{window.innerWidth<1024||u.target.closest(".header .menu")||e.forEach(p=>p.classList.remove("open-submenu"))});let o=document.querySelector(".header .tools .language");o&&(o.addEventListener("click",u=>{u.stopPropagation(),o.classList.toggle("active")}),document.addEventListener("click",u=>{o.contains(u.target)||o.classList.remove("active")}));let n=document.querySelector(".header .tools .search"),d=document.querySelector(".header-search-form"),c=document.querySelector(".header-search-form .close-search");n&&d&&(n.addEventListener("click",()=>{d.classList.add("active"),document.body.classList.add("overflow-hidden")}),c&&c.addEventListener("click",()=>{d.classList.remove("active"),document.body.classList.remove("overflow-hidden")}),d.addEventListener("click",u=>{u.target===d&&(d.classList.remove("active"),document.body.classList.remove("overflow-hidden"))}),document.addEventListener("keydown",u=>{u.key==="Escape"&&d.classList.contains("active")&&(d.classList.remove("active"),document.body.classList.remove("overflow-hidden"))}))}},Ts=(s,e=300)=>window.getComputedStyle(s).display==="none"?Cs(s,e):Ms(s,e),Ms=(s,e=300)=>{s.style.transitionProperty="height, margin, padding",s.style.transitionDuration=e+"ms",s.style.boxSizing="border-box",s.style.height=s.offsetHeight+"px",s.offsetHeight,s.style.overflow="hidden",s.style.height=0,s.style.paddingTop=0,s.style.paddingBottom=0,s.style.marginTop=0,s.style.marginBottom=0,window.setTimeout(()=>{s.style.display="none",s.style.removeProperty("height"),s.style.removeProperty("padding-top"),s.style.removeProperty("padding-bottom"),s.style.removeProperty("margin-top"),s.style.removeProperty("margin-bottom"),s.style.removeProperty("overflow"),s.style.removeProperty("transition-duration"),s.style.removeProperty("transition-property")},e)},Cs=(s,e=300)=>{s.style.removeProperty("display");let t=window.getComputedStyle(s).display;t==="none"&&(t="block"),s.style.display=t;let i=s.offsetHeight;s.style.overflow="hidden",s.style.height=0,s.style.paddingTop=0,s.style.paddingBottom=0,s.style.marginTop=0,s.style.marginBottom=0,s.offsetHeight,s.style.transitionProperty="height, margin, padding",s.style.transitionDuration=e+"ms",s.style.height=i+"px",s.style.removeProperty("padding-top"),s.style.removeProperty("padding-bottom"),s.style.removeProperty("margin-top"),s.style.removeProperty("margin-bottom"),window.setTimeout(()=>{s.style.removeProperty("height"),s.style.removeProperty("overflow"),s.style.removeProperty("transition-duration"),s.style.removeProperty("transition-property")},e)}});function Mt(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function Ke(s,e){s===void 0&&(s={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof s[t]=="undefined"?s[t]=e[t]:Mt(e[t])&&Mt(s[t])&&Object.keys(e[t]).length>0&&Ke(s[t],e[t])})}function j(){let s=typeof document!="undefined"?document:{};return Ke(s,Ct),s}function q(){let s=typeof window!="undefined"?window:{};return Ke(s,Ps),s}var Ct,Ps,te=O(()=>{Ct={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};Ps={document:Ct,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout=="undefined"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout!="undefined"&&clearTimeout(s)}}});function Pt(s){return s===void 0&&(s=""),s.trim().split(" ").filter(e=>!!e.trim())}function Lt(s){let e=s;Object.keys(e).forEach(t=>{try{e[t]=null}catch(i){}try{delete e[t]}catch(i){}})}function ne(s,e){return e===void 0&&(e=0),setTimeout(s,e)}function K(){return Date.now()}function Ls(s){let e=q(),t;return e.getComputedStyle&&(t=e.getComputedStyle(s,null)),!t&&s.currentStyle&&(t=s.currentStyle),t||(t=s.style),t}function Ze(s,e){e===void 0&&(e="x");let t=q(),i,a,r,l=Ls(s);return t.WebKitCSSMatrix?(a=l.transform||l.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(o=>o.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(a==="none"?"":a)):(r=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=r.m41:i.length===16?a=parseFloat(i[12]):a=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?a=r.m42:i.length===16?a=parseFloat(i[13]):a=parseFloat(i[5])),a||0}function xe(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function As(s){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function Q(){let s=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){let i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!As(i)){let a=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,l=a.length;r<l;r+=1){let o=a[r],n=Object.getOwnPropertyDescriptor(i,o);n!==void 0&&n.enumerable&&(xe(s[o])&&xe(i[o])?i[o].__swiper__?s[o]=i[o]:Q(s[o],i[o]):!xe(s[o])&&xe(i[o])?(s[o]={},i[o].__swiper__?s[o]=i[o]:Q(s[o],i[o])):s[o]=i[o])}}}return s}function Se(s,e,t){s.style.setProperty(e,t)}function Qe(s){let{swiper:e,targetPosition:t,side:i}=s,a=q(),r=-e.translate,l=null,o,n=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);let d=t>r?"next":"prev",c=(p,m)=>d==="next"&&p>=m||d==="prev"&&p<=m,u=()=>{o=new Date().getTime(),l===null&&(l=o);let p=Math.max(Math.min((o-l)/n,1),0),m=.5-Math.cos(p*Math.PI)/2,y=r+m*(t-r);if(c(y,t)&&(y=t),e.wrapperEl.scrollTo({[i]:y}),c(y,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:y})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(u)};u()}function ce(s){return s.querySelector(".swiper-slide-transform")||s.shadowRoot&&s.shadowRoot.querySelector(".swiper-slide-transform")||s}function F(s,e){return e===void 0&&(e=""),[...s.children].filter(t=>t.matches(e))}function Ae(s){try{console.warn(s);return}catch(e){}}function ie(s,e){e===void 0&&(e=[]);let t=document.createElement(s);return t.classList.add(...Array.isArray(e)?e:Pt(e)),t}function At(s,e){let t=[];for(;s.previousElementSibling;){let i=s.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function It(s,e){let t=[];for(;s.nextElementSibling;){let i=s.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function fe(s,e){return q().getComputedStyle(s,null).getPropertyValue(e)}function we(s){let e=s,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Ee(s,e){let t=[],i=s.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function he(s,e){function t(i){i.target===s&&(e.call(s,i),s.removeEventListener("transitionend",t))}e&&s.addEventListener("transitionend",t)}function Ie(s,e,t){let i=q();return t?s[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):s.offsetWidth}var V=O(()=>{te()});function Is(){let s=q(),e=j();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}function Dt(){return Je||(Je=Is()),Je}function ks(s){let{userAgent:e}=s===void 0?{}:s,t=Dt(),i=q(),a=i.navigator.platform,r=e||i.navigator.userAgent,l={ios:!1,android:!1},o=i.screen.width,n=i.screen.height,d=r.match(/(Android);?[\s\/]+([\d.]+)?/),c=r.match(/(iPad).*OS\s([\d_]+)/),u=r.match(/(iPod)(.*OS\s([\d_]+))?/),p=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=a==="Win32",y=a==="MacIntel",g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&y&&t.touch&&g.indexOf(`${o}x${n}`)>=0&&(c=r.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),y=!1),d&&!m&&(l.os="android",l.android=!0),(c||p||u)&&(l.os="ios",l.ios=!0),l}function Os(s){return s===void 0&&(s={}),et||(et=ks(s)),et}function $s(){let s=q(),e=!1;function t(){let i=s.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(t()){let i=String(s.navigator.userAgent);if(i.includes("Version/")){let[a,r]=i.split("Version/")[1].split(" ")[0].split(".").map(l=>Number(l));e=a<16||a===16&&r<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent)}}function zs(){return tt||(tt=$s()),tt}function Ds(s){let{swiper:e,on:t,emit:i}=s,a=q(),r=null,l=null,o=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},n=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(u=>{l=a.requestAnimationFrame(()=>{let{width:p,height:m}=e,y=p,g=m;u.forEach(x=>{let{contentBoxSize:b,contentRect:h,target:f}=x;f&&f!==e.el||(y=h?h.width:(b[0]||b).inlineSize,g=h?h.height:(b[0]||b).blockSize)}),(y!==p||g!==m)&&o()})}),r.observe(e.el))},d=()=>{l&&a.cancelAnimationFrame(l),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},c=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver!="undefined"){n();return}a.addEventListener("resize",o),a.addEventListener("orientationchange",c)}),t("destroy",()=>{d(),a.removeEventListener("resize",o),a.removeEventListener("orientationchange",c)})}function Bs(s){let{swiper:e,extendParams:t,on:i,emit:a}=s,r=[],l=q(),o=function(c,u){u===void 0&&(u={});let p=l.MutationObserver||l.WebkitMutationObserver,m=new p(y=>{if(e.__preventObserver__)return;if(y.length===1){a("observerUpdate",y[0]);return}let g=function(){a("observerUpdate",y[0])};l.requestAnimationFrame?l.requestAnimationFrame(g):l.setTimeout(g,0)});m.observe(c,{attributes:typeof u.attributes=="undefined"?!0:u.attributes,childList:typeof u.childList=="undefined"?!0:u.childList,characterData:typeof u.characterData=="undefined"?!0:u.characterData}),r.push(m)},n=()=>{if(e.params.observer){if(e.params.observeParents){let c=Ee(e.hostEl);for(let u=0;u<c.length;u+=1)o(c[u])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},d=()=>{r.forEach(c=>{c.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",n),i("destroy",d)}function Vs(){let s=this,e,t,i=s.el;typeof s.params.width!="undefined"&&s.params.width!==null?e=s.params.width:e=i.clientWidth,typeof s.params.height!="undefined"&&s.params.height!==null?t=s.params.height:t=i.clientHeight,!(e===0&&s.isHorizontal()||t===0&&s.isVertical())&&(e=e-parseInt(fe(i,"padding-left")||0,10)-parseInt(fe(i,"padding-right")||0,10),t=t-parseInt(fe(i,"padding-top")||0,10)-parseInt(fe(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(s,{width:e,height:t,size:s.isHorizontal()?e:t}))}function Gs(){let s=this;function e(v,E){return parseFloat(v.getPropertyValue(s.getDirectionLabel(E))||0)}let t=s.params,{wrapperEl:i,slidesEl:a,size:r,rtlTranslate:l,wrongRTL:o}=s,n=s.virtual&&t.virtual.enabled,d=n?s.virtual.slides.length:s.slides.length,c=F(a,`.${s.params.slideClass}, swiper-slide`),u=n?s.virtual.slides.length:c.length,p=[],m=[],y=[],g=t.slidesOffsetBefore;typeof g=="function"&&(g=t.slidesOffsetBefore.call(s));let x=t.slidesOffsetAfter;typeof x=="function"&&(x=t.slidesOffsetAfter.call(s));let b=s.snapGrid.length,h=s.slidesGrid.length,f=t.spaceBetween,w=-g,M=0,P=0;if(typeof r=="undefined")return;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*r:typeof f=="string"&&(f=parseFloat(f)),s.virtualSize=-f,c.forEach(v=>{l?v.style.marginLeft="":v.style.marginRight="",v.style.marginBottom="",v.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Se(i,"--swiper-centered-offset-before",""),Se(i,"--swiper-centered-offset-after",""));let k=t.grid&&t.grid.rows>1&&s.grid;k?s.grid.initSlides(c):s.grid&&s.grid.unsetSlides();let L,S=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(v=>typeof t.breakpoints[v].slidesPerView!="undefined").length>0;for(let v=0;v<u;v+=1){L=0;let E;if(c[v]&&(E=c[v]),k&&s.grid.updateSlide(v,E,c),!(c[v]&&fe(E,"display")==="none")){if(t.slidesPerView==="auto"){S&&(c[v].style[s.getDirectionLabel("width")]="");let C=getComputedStyle(E),T=E.style.transform,A=E.style.webkitTransform;if(T&&(E.style.transform="none"),A&&(E.style.webkitTransform="none"),t.roundLengths)L=s.isHorizontal()?Ie(E,"width",!0):Ie(E,"height",!0);else{let I=e(C,"width"),B=e(C,"padding-left"),J=e(C,"padding-right"),z=e(C,"margin-left"),R=e(C,"margin-right"),H=C.getPropertyValue("box-sizing");if(H&&H==="border-box")L=I+z+R;else{let{clientWidth:X,offsetWidth:W}=E;L=I+B+J+z+R+(W-X)}}T&&(E.style.transform=T),A&&(E.style.webkitTransform=A),t.roundLengths&&(L=Math.floor(L))}else L=(r-(t.slidesPerView-1)*f)/t.slidesPerView,t.roundLengths&&(L=Math.floor(L)),c[v]&&(c[v].style[s.getDirectionLabel("width")]=`${L}px`);c[v]&&(c[v].swiperSlideSize=L),y.push(L),t.centeredSlides?(w=w+L/2+M/2+f,M===0&&v!==0&&(w=w-r/2-f),v===0&&(w=w-r/2-f),Math.abs(w)<1/1e3&&(w=0),t.roundLengths&&(w=Math.floor(w)),P%t.slidesPerGroup===0&&p.push(w),m.push(w)):(t.roundLengths&&(w=Math.floor(w)),(P-Math.min(s.params.slidesPerGroupSkip,P))%s.params.slidesPerGroup===0&&p.push(w),m.push(w),w=w+L+f),s.virtualSize+=L+f,M=L,P+=1}}if(s.virtualSize=Math.max(s.virtualSize,r)+x,l&&o&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${s.virtualSize+f}px`),t.setWrapperSize&&(i.style[s.getDirectionLabel("width")]=`${s.virtualSize+f}px`),k&&s.grid.updateWrapperSize(L,p),!t.centeredSlides){let v=[];for(let E=0;E<p.length;E+=1){let C=p[E];t.roundLengths&&(C=Math.floor(C)),p[E]<=s.virtualSize-r&&v.push(C)}p=v,Math.floor(s.virtualSize-r)-Math.floor(p[p.length-1])>1&&p.push(s.virtualSize-r)}if(n&&t.loop){let v=y[0]+f;if(t.slidesPerGroup>1){let E=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/t.slidesPerGroup),C=v*t.slidesPerGroup;for(let T=0;T<E;T+=1)p.push(p[p.length-1]+C)}for(let E=0;E<s.virtual.slidesBefore+s.virtual.slidesAfter;E+=1)t.slidesPerGroup===1&&p.push(p[p.length-1]+v),m.push(m[m.length-1]+v),s.virtualSize+=v}if(p.length===0&&(p=[0]),f!==0){let v=s.isHorizontal()&&l?"marginLeft":s.getDirectionLabel("marginRight");c.filter((E,C)=>!t.cssMode||t.loop?!0:C!==c.length-1).forEach(E=>{E.style[v]=`${f}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let v=0;y.forEach(C=>{v+=C+(f||0)}),v-=f;let E=v-r;p=p.map(C=>C<=0?-g:C>E?E+x:C)}if(t.centerInsufficientSlides){let v=0;if(y.forEach(E=>{v+=E+(f||0)}),v-=f,v<r){let E=(r-v)/2;p.forEach((C,T)=>{p[T]=C-E}),m.forEach((C,T)=>{m[T]=C+E})}}if(Object.assign(s,{slides:c,snapGrid:p,slidesGrid:m,slidesSizesGrid:y}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Se(i,"--swiper-centered-offset-before",`${-p[0]}px`),Se(i,"--swiper-centered-offset-after",`${s.size/2-y[y.length-1]/2}px`);let v=-s.snapGrid[0],E=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(C=>C+v),s.slidesGrid=s.slidesGrid.map(C=>C+E)}if(u!==d&&s.emit("slidesLengthChange"),p.length!==b&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),m.length!==h&&s.emit("slidesGridLengthChange"),t.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!n&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){let v=`${t.containerModifierClass}backface-hidden`,E=s.el.classList.contains(v);u<=t.maxBackfaceHiddenSlides?E||s.el.classList.add(v):E&&s.el.classList.remove(v)}}function Ns(s){let e=this,t=[],i=e.virtual&&e.params.virtual.enabled,a=0,r;typeof s=="number"?e.setTransition(s):s===!0&&e.setTransition(e.params.speed);let l=o=>i?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){let o=e.activeIndex+r;if(o>e.slides.length&&!i)break;t.push(l(o))}else t.push(l(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]!="undefined"){let o=t[r].offsetHeight;a=o>a?o:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function qs(){let s=this,e=s.slides,t=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(s.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-s.cssOverflowAdjustment()}function Rs(s){s===void 0&&(s=this&&this.translate||0);let e=this,t=e.params,{slides:i,rtlTranslate:a,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let l=-s;a&&(l=s),i.forEach(n=>{n.classList.remove(t.slideVisibleClass,t.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let n=0;n<i.length;n+=1){let d=i[n],c=d.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(c-=i[0].swiperSlideOffset);let u=(l+(t.centeredSlides?e.minTranslate():0)-c)/(d.swiperSlideSize+o),p=(l-r[0]+(t.centeredSlides?e.minTranslate():0)-c)/(d.swiperSlideSize+o),m=-(l-c),y=m+e.slidesSizesGrid[n],g=m>=0&&m<=e.size-e.slidesSizesGrid[n];(m>=0&&m<e.size-1||y>1&&y<=e.size||m<=0&&y>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(n),i[n].classList.add(t.slideVisibleClass)),g&&i[n].classList.add(t.slideFullyVisibleClass),d.progress=a?-u:u,d.originalProgress=a?-p:p}}function Ys(s){let e=this;if(typeof s=="undefined"){let c=e.rtlTranslate?-1:1;s=e&&e.translate&&e.translate*c||0}let t=e.params,i=e.maxTranslate()-e.minTranslate(),{progress:a,isBeginning:r,isEnd:l,progressLoop:o}=e,n=r,d=l;if(i===0)a=0,r=!0,l=!0;else{a=(s-e.minTranslate())/i;let c=Math.abs(s-e.minTranslate())<1,u=Math.abs(s-e.maxTranslate())<1;r=c||a<=0,l=u||a>=1,c&&(a=0),u&&(a=1)}if(t.loop){let c=e.getSlideIndexByData(0),u=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[c],m=e.slidesGrid[u],y=e.slidesGrid[e.slidesGrid.length-1],g=Math.abs(s);g>=p?o=(g-p)/y:o=(g+y-m)/y,o>1&&(o-=1)}Object.assign(e,{progress:a,progressLoop:o,isBeginning:r,isEnd:l}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(s),r&&!n&&e.emit("reachBeginning toEdge"),l&&!d&&e.emit("reachEnd toEdge"),(n&&!r||d&&!l)&&e.emit("fromEdge"),e.emit("progress",a)}function Xs(){let s=this,{slides:e,params:t,slidesEl:i,activeIndex:a}=s,r=s.virtual&&t.virtual.enabled,l=s.grid&&t.grid&&t.grid.rows>1,o=u=>F(i,`.${t.slideClass}${u}, swiper-slide${u}`)[0];e.forEach(u=>{u.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let n,d,c;if(r)if(t.loop){let u=a-s.virtual.slidesBefore;u<0&&(u=s.virtual.slides.length+u),u>=s.virtual.slides.length&&(u-=s.virtual.slides.length),n=o(`[data-swiper-slide-index="${u}"]`)}else n=o(`[data-swiper-slide-index="${a}"]`);else l?(n=e.filter(u=>u.column===a)[0],c=e.filter(u=>u.column===a+1)[0],d=e.filter(u=>u.column===a-1)[0]):n=e[a];n&&(n.classList.add(t.slideActiveClass),l?(c&&c.classList.add(t.slideNextClass),d&&d.classList.add(t.slidePrevClass)):(c=It(n,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c&&(c=e[0]),c&&c.classList.add(t.slideNextClass),d=At(n,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(t.slidePrevClass))),s.emitSlidesClasses()}function js(s){let{slidesGrid:e,params:t}=s,i=s.rtlTranslate?s.translate:-s.translate,a;for(let r=0;r<e.length;r+=1)typeof e[r+1]!="undefined"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?a=r:i>=e[r]&&i<e[r+1]&&(a=r+1):i>=e[r]&&(a=r);return t.normalizeSlideIndex&&(a<0||typeof a=="undefined")&&(a=0),a}function Fs(s){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:a,activeIndex:r,realIndex:l,snapIndex:o}=e,n=s,d,c=m=>{let y=m-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof n=="undefined"&&(n=js(e)),i.indexOf(t)>=0)d=i.indexOf(t);else{let m=Math.min(a.slidesPerGroupSkip,n);d=m+Math.floor((n-m)/a.slidesPerGroup)}if(d>=i.length&&(d=i.length-1),n===r&&!e.params.loop){d!==o&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(n===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(n);return}let u=e.grid&&a.grid&&a.grid.rows>1,p;if(e.virtual&&a.virtual.enabled&&a.loop)p=c(n);else if(u){let m=e.slides.filter(g=>g.column===n)[0],y=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(m),0)),p=Math.floor(y/a.grid.rows)}else if(e.slides[n]){let m=e.slides[n].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=n}else p=n;Object.assign(e,{previousSnapIndex:o,snapIndex:d,previousRealIndex:l,realIndex:p,previousIndex:r,activeIndex:n}),e.initialized&&at(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function Ws(s,e){let t=this,i=t.params,a=s.closest(`.${i.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach(o=>{!a&&o.matches&&o.matches(`.${i.slideClass}, swiper-slide`)&&(a=o)});let r=!1,l;if(a){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===a){r=!0,l=o;break}}if(a&&r)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=l;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}function Us(s){s===void 0&&(s=this.isHorizontal()?"x":"y");let e=this,{params:t,rtlTranslate:i,translate:a,wrapperEl:r}=e;if(t.virtualTranslate)return i?-a:a;if(t.cssMode)return a;let l=Ze(r,s);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function Ks(s,e){let t=this,{rtlTranslate:i,params:a,wrapperEl:r,progress:l}=t,o=0,n=0,d=0;t.isHorizontal()?o=i?-s:s:n=s,a.roundLengths&&(o=Math.floor(o),n=Math.floor(n)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:n,a.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-n:a.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():n-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${o}px, ${n}px, ${d}px)`);let c,u=t.maxTranslate()-t.minTranslate();u===0?c=0:c=(s-t.minTranslate())/u,c!==l&&t.updateProgress(s),t.emit("setTranslate",t.translate,e)}function Zs(){return-this.snapGrid[0]}function Qs(){return-this.snapGrid[this.snapGrid.length-1]}function Js(s,e,t,i,a){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);let r=this,{params:l,wrapperEl:o}=r;if(r.animating&&l.preventInteractionOnTransition)return!1;let n=r.minTranslate(),d=r.maxTranslate(),c;if(i&&s>n?c=n:i&&s<d?c=d:c=s,r.updateProgress(c),l.cssMode){let u=r.isHorizontal();if(e===0)o[u?"scrollLeft":"scrollTop"]=-c;else{if(!r.support.smoothScroll)return Qe({swiper:r,targetPosition:-c,side:u?"left":"top"}),!0;o.scrollTo({[u?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(c),t&&(r.emit("beforeTransitionStart",e,a),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(c),t&&(r.emit("beforeTransitionStart",e,a),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(p){!r||r.destroyed||p.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}function ti(s,e){let t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${s}ms`,t.wrapperEl.style.transitionDelay=s===0?"0ms":""),t.emit("setTransition",s,e)}function Bt(s){let{swiper:e,runCallbacks:t,direction:i,step:a}=s,{activeIndex:r,previousIndex:l}=e,o=i;if(o||(r>l?o="next":r<l?o="prev":o="reset"),e.emit(`transition${a}`),t&&r!==l){if(o==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),o==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function si(s,e){s===void 0&&(s=!0);let t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Bt({swiper:t,runCallbacks:s,direction:e,step:"Start"}))}function ii(s,e){s===void 0&&(s=!0);let t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Bt({swiper:t,runCallbacks:s,direction:e,step:"End"}))}function ai(s,e,t,i,a){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));let r=this,l=s;l<0&&(l=0);let{params:o,snapGrid:n,slidesGrid:d,previousIndex:c,activeIndex:u,rtlTranslate:p,wrapperEl:m,enabled:y}=r;if(r.animating&&o.preventInteractionOnTransition||!y&&!i&&!a)return!1;let g=Math.min(r.params.slidesPerGroupSkip,l),x=g+Math.floor((l-g)/r.params.slidesPerGroup);x>=n.length&&(x=n.length-1);let b=-n[x];if(o.normalizeSlideIndex)for(let f=0;f<d.length;f+=1){let w=-Math.floor(b*100),M=Math.floor(d[f]*100),P=Math.floor(d[f+1]*100);typeof d[f+1]!="undefined"?w>=M&&w<P-(P-M)/2?l=f:w>=M&&w<P&&(l=f+1):w>=M&&(l=f)}if(r.initialized&&l!==u&&(!r.allowSlideNext&&(p?b>r.translate&&b>r.minTranslate():b<r.translate&&b<r.minTranslate())||!r.allowSlidePrev&&b>r.translate&&b>r.maxTranslate()&&(u||0)!==l))return!1;l!==(c||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(b);let h;if(l>u?h="next":l<u?h="prev":h="reset",p&&-b===r.translate||!p&&b===r.translate)return r.updateActiveIndex(l),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),o.effect!=="slide"&&r.setTranslate(b),h!=="reset"&&(r.transitionStart(t,h),r.transitionEnd(t,h)),!1;if(o.cssMode){let f=r.isHorizontal(),w=p?b:-b;if(e===0){let M=r.virtual&&r.params.virtual.enabled;M&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),M&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[f?"scrollLeft":"scrollTop"]=w})):m[f?"scrollLeft":"scrollTop"]=w,M&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return Qe({swiper:r,targetPosition:w,side:f?"left":"top"}),!0;m.scrollTo({[f?"left":"top"]:w,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(b),r.updateActiveIndex(l),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(t,h),e===0?r.transitionEnd(t,h):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(w){!r||r.destroyed||w.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,h))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function ni(s,e,t,i){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));let a=this,r=a.grid&&a.params.grid&&a.params.grid.rows>1,l=s;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)l=l+a.virtual.slidesBefore;else{let o;if(r){let p=l*a.params.grid.rows;o=a.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===p)[0].column}else o=a.getSlideIndexByData(l);let n=r?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:d}=a.params,c=a.params.slidesPerView;c==="auto"?c=a.slidesPerViewDynamic():(c=Math.ceil(parseFloat(a.params.slidesPerView,10)),d&&c%2===0&&(c=c+1));let u=n-o<c;if(d&&(u=u||o<Math.ceil(c/2)),u){let p=d?o<a.activeIndex?"prev":"next":o-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?o+1:o-n+1,slideRealIndex:p==="next"?a.realIndex:void 0})}if(r){let p=l*a.params.grid.rows;l=a.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===p)[0].column}else l=a.getSlideIndexByData(l)}return requestAnimationFrame(()=>{a.slideTo(l,e,t,i)}),a}function oi(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);let i=this,{enabled:a,params:r,animating:l}=i;if(!a)return i;let o=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));let n=i.activeIndex<r.slidesPerGroupSkip?1:o,d=i.virtual&&r.virtual.enabled;if(r.loop){if(l&&!d&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+n,s,e,t)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,s,e,t):i.slideTo(i.activeIndex+n,s,e,t)}function li(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);let i=this,{params:a,snapGrid:r,slidesGrid:l,rtlTranslate:o,enabled:n,animating:d}=i;if(!n)return i;let c=i.virtual&&a.virtual.enabled;if(a.loop){if(d&&!c&&a.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let u=o?i.translate:-i.translate;function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}let m=p(u),y=r.map(b=>p(b)),g=r[y.indexOf(m)-1];if(typeof g=="undefined"&&a.cssMode){let b;r.forEach((h,f)=>{m>=h&&(b=f)}),typeof b!="undefined"&&(g=r[b>0?b-1:b])}let x=0;if(typeof g!="undefined"&&(x=l.indexOf(g),x<0&&(x=i.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(x=x-i.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),a.rewind&&i.isBeginning){let b=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(b,s,e,t)}else if(a.loop&&i.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{i.slideTo(x,s,e,t)}),!0;return i.slideTo(x,s,e,t)}function di(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);let i=this;return i.slideTo(i.activeIndex,s,e,t)}function ci(s,e,t,i){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);let a=this,r=a.activeIndex,l=Math.min(a.params.slidesPerGroupSkip,r),o=l+Math.floor((r-l)/a.params.slidesPerGroup),n=a.rtlTranslate?a.translate:-a.translate;if(n>=a.snapGrid[o]){let d=a.snapGrid[o],c=a.snapGrid[o+1];n-d>(c-d)*i&&(r+=a.params.slidesPerGroup)}else{let d=a.snapGrid[o-1],c=a.snapGrid[o];n-d<=(c-d)*i&&(r-=a.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,a.slidesGrid.length-1),a.slideTo(r,s,e,t)}function fi(){let s=this,{params:e,slidesEl:t}=s,i=e.slidesPerView==="auto"?s.slidesPerViewDynamic():e.slidesPerView,a=s.clickedIndex,r,l=s.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(s.animating)return;r=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<s.loopedSlides-i/2||a>s.slides.length-s.loopedSlides+i/2?(s.loopFix(),a=s.getSlideIndex(F(t,`${l}[data-swiper-slide-index="${r}"]`)[0]),ne(()=>{s.slideTo(a)})):s.slideTo(a):a>s.slides.length-i?(s.loopFix(),a=s.getSlideIndex(F(t,`${l}[data-swiper-slide-index="${r}"]`)[0]),ne(()=>{s.slideTo(a)})):s.slideTo(a)}else s.slideTo(a)}function pi(s){let e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;let a=()=>{F(i,`.${t.slideClass}, swiper-slide`).forEach((u,p)=>{u.setAttribute("data-swiper-slide-index",p)})},r=e.grid&&t.grid&&t.grid.rows>1,l=t.slidesPerGroup*(r?t.grid.rows:1),o=e.slides.length%l!==0,n=r&&e.slides.length%t.grid.rows!==0,d=c=>{for(let u=0;u<c;u+=1){let p=e.isElement?ie("swiper-slide",[t.slideBlankClass]):ie("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(p)}};if(o){if(t.loopAddBlankSlides){let c=l-e.slides.length%l;d(c),e.recalcSlides(),e.updateSlides()}else Ae("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(n){if(t.loopAddBlankSlides){let c=t.grid.rows-e.slides.length%t.grid.rows;d(c),e.recalcSlides(),e.updateSlides()}else Ae("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();e.loopFix({slideRealIndex:s,direction:t.centeredSlides?void 0:"next"})}function mi(s){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:a,activeSlideIndex:r,byController:l,byMousewheel:o}=s===void 0?{}:s,n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");let{slides:d,allowSlidePrev:c,allowSlideNext:u,slidesEl:p,params:m}=n,{centeredSlides:y}=m;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&m.virtual.enabled){t&&(!m.centeredSlides&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):m.centeredSlides&&n.snapIndex<m.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=c,n.allowSlideNext=u,n.emit("loopFix");return}let g=m.slidesPerView;g==="auto"?g=n.slidesPerViewDynamic():(g=Math.ceil(parseFloat(m.slidesPerView,10)),y&&g%2===0&&(g=g+1));let x=m.slidesPerGroupAuto?g:m.slidesPerGroup,b=x;b%x!==0&&(b+=x-b%x),b+=m.loopAdditionalSlides,n.loopedSlides=b;let h=n.grid&&m.grid&&m.grid.rows>1;d.length<g+b?Ae("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):h&&m.grid.fill==="row"&&Ae("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let f=[],w=[],M=n.activeIndex;typeof r=="undefined"?r=n.getSlideIndex(d.filter(T=>T.classList.contains(m.slideActiveClass))[0]):M=r;let P=i==="next"||!i,k=i==="prev"||!i,L=0,S=0,v=h?Math.ceil(d.length/m.grid.rows):d.length,C=(h?d[r].column:r)+(y&&typeof a=="undefined"?-g/2+.5:0);if(C<b){L=Math.max(b-C,x);for(let T=0;T<b-C;T+=1){let A=T-Math.floor(T/v)*v;if(h){let I=v-A-1;for(let B=d.length-1;B>=0;B-=1)d[B].column===I&&f.push(B)}else f.push(v-A-1)}}else if(C+g>v-b){S=Math.max(C-(v-b*2),x);for(let T=0;T<S;T+=1){let A=T-Math.floor(T/v)*v;h?d.forEach((I,B)=>{I.column===A&&w.push(B)}):w.push(A)}}if(n.__preventObserver__=!0,requestAnimationFrame(()=>{n.__preventObserver__=!1}),k&&f.forEach(T=>{d[T].swiperLoopMoveDOM=!0,p.prepend(d[T]),d[T].swiperLoopMoveDOM=!1}),P&&w.forEach(T=>{d[T].swiperLoopMoveDOM=!0,p.append(d[T]),d[T].swiperLoopMoveDOM=!1}),n.recalcSlides(),m.slidesPerView==="auto"?n.updateSlides():h&&(f.length>0&&k||w.length>0&&P)&&n.slides.forEach((T,A)=>{n.grid.updateSlide(A,T,n.slides)}),m.watchSlidesProgress&&n.updateSlidesOffset(),t){if(f.length>0&&k){if(typeof e=="undefined"){let T=n.slidesGrid[M],I=n.slidesGrid[M+L]-T;o?n.setTranslate(n.translate-I):(n.slideTo(M+L,0,!1,!0),a&&(n.touchEventsData.startTranslate=n.touchEventsData.startTranslate-I,n.touchEventsData.currentTranslate=n.touchEventsData.currentTranslate-I))}else if(a){let T=h?f.length/m.grid.rows:f.length;n.slideTo(n.activeIndex+T,0,!1,!0),n.touchEventsData.currentTranslate=n.translate}}else if(w.length>0&&P)if(typeof e=="undefined"){let T=n.slidesGrid[M],I=n.slidesGrid[M-S]-T;o?n.setTranslate(n.translate-I):(n.slideTo(M-S,0,!1,!0),a&&(n.touchEventsData.startTranslate=n.touchEventsData.startTranslate-I,n.touchEventsData.currentTranslate=n.touchEventsData.currentTranslate-I))}else{let T=h?w.length/m.grid.rows:w.length;n.slideTo(n.activeIndex-T,0,!1,!0)}}if(n.allowSlidePrev=c,n.allowSlideNext=u,n.controller&&n.controller.control&&!l){let T={slideRealIndex:e,direction:i,setTranslate:a,activeSlideIndex:r,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(A=>{!A.destroyed&&A.params.loop&&A.loopFix(Pe(de({},T),{slideTo:A.params.slidesPerView===m.slidesPerView?t:!1}))}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix(Pe(de({},T),{slideTo:n.controller.control.params.slidesPerView===m.slidesPerView?t:!1}))}n.emit("loopFix")}function hi(){let s=this,{params:e,slidesEl:t}=s;if(!e.loop||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();let i=[];s.slides.forEach(a=>{let r=typeof a.swiperSlideIndex=="undefined"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;i[r]=a}),s.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),i.forEach(a=>{t.append(a)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}function vi(s){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function wi(){let s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}function yi(s,e){e===void 0&&(e=this);function t(i){if(!i||i===j()||i===q())return null;i.assignedSlot&&(i=i.assignedSlot);let a=i.closest(s);return!a&&!i.getRootNode?null:a||t(i.getRootNode().host)}return t(e)}function kt(s,e,t){let i=q(),{params:a}=s,r=a.edgeSwipeDetection,l=a.edgeSwipeThreshold;return r&&(t<=l||t>=i.innerWidth-l)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function xi(s){let e=this,t=j(),i=s;i.originalEvent&&(i=i.originalEvent);let a=e.touchEventsData;if(i.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==i.pointerId)return;a.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(a.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){kt(e,i,i.targetTouches[0].pageX);return}let{params:r,touches:l,enabled:o}=e;if(!o||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let n=i.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(n)||"which"in i&&i.which===3||"button"in i&&i.button>0||a.isTouched&&a.isMoved)return;let d=!!r.noSwipingClass&&r.noSwipingClass!=="",c=i.composedPath?i.composedPath():i.path;d&&i.target&&i.target.shadowRoot&&c&&(n=c[0]);let u=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,p=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(p?yi(u,n):n.closest(u))){e.allowClick=!0;return}if(r.swipeHandler&&!n.closest(r.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;let m=l.currentX,y=l.currentY;if(!kt(e,i,m))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=m,l.startY=y,a.touchStartTime=K(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(a.allowThresholdMove=!1);let g=!0;n.matches(a.focusableElements)&&(g=!1,n.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==n&&t.activeElement.blur();let x=g&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||x)&&!n.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Si(s){let e=j(),t=this,i=t.touchEventsData,{params:a,touches:r,rtlTranslate:l,enabled:o}=t;if(!o||!a.simulateTouch&&s.pointerType==="mouse")return;let n=s;if(n.originalEvent&&(n=n.originalEvent),n.type==="pointermove"&&(i.touchId!==null||n.pointerId!==i.pointerId))return;let d;if(n.type==="touchmove"){if(d=[...n.changedTouches].filter(P=>P.identifier===i.touchId)[0],!d||d.identifier!==i.touchId)return}else d=n;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",n);return}let c=d.pageX,u=d.pageY;if(n.preventedByNestedSwiper){r.startX=c,r.startY=u;return}if(!t.allowTouchMove){n.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:c,startY:u,currentX:c,currentY:u}),i.touchStartTime=K());return}if(a.touchReleaseOnEdges&&!a.loop){if(t.isVertical()){if(u<r.startY&&t.translate<=t.maxTranslate()||u>r.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(c<r.startX&&t.translate<=t.maxTranslate()||c>r.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&n.target===e.activeElement&&n.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",n),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=c,r.currentY=u;let p=r.currentX-r.startX,m=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(le(p,2)+le(m,2))<t.params.threshold)return;if(typeof i.isScrolling=="undefined"){let P;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:p*p+m*m>=25&&(P=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,i.isScrolling=t.isHorizontal()?P>a.touchAngle:90-P>a.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",n),typeof i.startMoving=="undefined"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!a.cssMode&&n.cancelable&&n.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&n.stopPropagation();let y=t.isHorizontal()?p:m,g=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;a.oneWayMovement&&(y=Math.abs(y)*(l?1:-1),g=Math.abs(g)*(l?1:-1)),r.diff=y,y*=a.touchRatio,l&&(y=-y,g=-g);let x=t.touchesDirection;t.swipeDirection=y>0?"prev":"next",t.touchesDirection=g>0?"prev":"next";let b=t.params.loop&&!a.cssMode,h=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(b&&h&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){let P=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(P)}i.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",n)}let f;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&x!==t.touchesDirection&&b&&h&&Math.abs(y)>=1){Object.assign(r,{startX:c,startY:u,currentX:c,currentY:u,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",n),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let w=!0,M=a.resistanceRatio;if(a.touchReleaseOnEdges&&(M=0),y>0?(b&&h&&!f&&i.allowThresholdMove&&i.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(w=!1,a.resistance&&(i.currentTranslate=t.minTranslate()-1+le(-t.minTranslate()+i.startTranslate+y,M)))):y<0&&(b&&h&&!f&&i.allowThresholdMove&&i.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(w=!1,a.resistance&&(i.currentTranslate=t.maxTranslate()+1-le(t.maxTranslate()-i.startTranslate-y,M)))),w&&(n.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),a.threshold>0)if(Math.abs(y)>a.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Ei(s){let e=this,t=e.touchEventsData,i=s;i.originalEvent&&(i=i.originalEvent);let a;if(i.type==="touchend"||i.type==="touchcancel"){if(a=[...i.changedTouches].filter(M=>M.identifier===t.touchId)[0],!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;a=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;let{params:l,touches:o,rtlTranslate:n,slidesGrid:d,enabled:c}=e;if(!c||!l.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&l.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}l.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let u=K(),p=u-t.touchStartTime;if(e.allowClick){let M=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(M&&M[0]||i.target,M),e.emit("tap click",i),p<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=K(),ne(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||o.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let m;if(l.followFinger?m=n?e.translate:-e.translate:m=-t.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}let y=m>=-e.maxTranslate()&&!e.params.loop,g=0,x=e.slidesSizesGrid[0];for(let M=0;M<d.length;M+=M<l.slidesPerGroupSkip?1:l.slidesPerGroup){let P=M<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof d[M+P]!="undefined"?(y||m>=d[M]&&m<d[M+P])&&(g=M,x=d[M+P]-d[M]):(y||m>=d[M])&&(g=M,x=d[d.length-1]-d[d.length-2])}let b=null,h=null;l.rewind&&(e.isBeginning?h=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));let f=(m-d[g])/x,w=g<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(p>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(f>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?b:g+w):e.slideTo(g)),e.swipeDirection==="prev"&&(f>1-l.longSwipesRatio?e.slideTo(g+w):h!==null&&f<0&&Math.abs(f)>l.longSwipesRatio?e.slideTo(h):e.slideTo(g))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(g+w):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:g+w),e.swipeDirection==="prev"&&e.slideTo(h!==null?h:g))}}function Ot(){let s=this,{params:e,el:t}=s;if(t&&t.offsetWidth===0)return;e.breakpoints&&s.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:a,snapGrid:r}=s,l=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();let o=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!o?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!l?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=a,s.allowSlideNext=i,s.params.watchOverflow&&r!==s.snapGrid&&s.checkOverflow()}function Ti(s){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function Mi(){let s=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=s;if(!i)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-e.scrollLeft:s.translate=-e.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let a,r=s.maxTranslate()-s.minTranslate();r===0?a=0:a=(s.translate-s.minTranslate())/r,a!==s.progress&&s.updateProgress(t?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function Ci(s){let e=this;De(e,s.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Pi(){let s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}function Li(){let s=this,{params:e}=s;s.onTouchStart=xi.bind(s),s.onTouchMove=Si.bind(s),s.onTouchEnd=Ei.bind(s),s.onDocumentTouchStart=Pi.bind(s),e.cssMode&&(s.onScroll=Mi.bind(s)),s.onClick=Ti.bind(s),s.onLoad=Ci.bind(s),Ht(s,"on")}function Ai(){Ht(this,"off")}function ki(){let s=this,{realIndex:e,initialized:t,params:i,el:a}=s,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;let l=s.getBreakpoint(r,s.params.breakpointsBase,s.el);if(!l||s.currentBreakpoint===l)return;let n=(l in r?r[l]:void 0)||s.originalParams,d=$t(s,i),c=$t(s,n),u=i.enabled;d&&!c?(a.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),s.emitContainerClasses()):!d&&c&&(a.classList.add(`${i.containerModifierClass}grid`),(n.grid.fill&&n.grid.fill==="column"||!n.grid.fill&&i.grid.fill==="column")&&a.classList.add(`${i.containerModifierClass}grid-column`),s.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(b=>{if(typeof n[b]=="undefined")return;let h=i[b]&&i[b].enabled,f=n[b]&&n[b].enabled;h&&!f&&s[b].disable(),!h&&f&&s[b].enable()});let p=n.direction&&n.direction!==i.direction,m=i.loop&&(n.slidesPerView!==i.slidesPerView||p),y=i.loop;p&&t&&s.changeDirection(),Q(s.params,n);let g=s.params.enabled,x=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),u&&!g?s.disable():!u&&g&&s.enable(),s.currentBreakpoint=l,s.emit("_beforeBreakpoint",n),t&&(m?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!y&&x?(s.loopCreate(e),s.updateSlides()):y&&!x&&s.loopDestroy()),s.emit("breakpoint",n)}function Oi(s,e,t){if(e===void 0&&(e="window"),!s||e==="container"&&!t)return;let i=!1,a=q(),r=e==="window"?a.innerHeight:t.clientHeight,l=Object.keys(s).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){let n=parseFloat(o.substr(1));return{value:r*n,point:o}}return{value:o,point:o}});l.sort((o,n)=>parseInt(o.value,10)-parseInt(n.value,10));for(let o=0;o<l.length;o+=1){let{point:n,value:d}=l[o];e==="window"?a.matchMedia(`(min-width: ${d}px)`).matches&&(i=n):d<=t.clientWidth&&(i=n)}return i||"max"}function zi(s,e){let t=[];return s.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(a=>{i[a]&&t.push(e+a)}):typeof i=="string"&&t.push(e+i)}),t}function Di(){let s=this,{classNames:e,params:t,rtl:i,el:a,device:r}=s,l=zi(["initialized",t.direction,{"free-mode":s.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...l),a.classList.add(...e),s.emitContainerClasses()}function Bi(){let s=this,{el:e,classNames:t}=s;e.classList.remove(...t),s.emitContainerClasses()}function Vi(){let s=this,{isLocked:e,params:t}=s,{slidesOffsetBefore:i}=t;if(i){let a=s.slides.length-1,r=s.slidesGrid[a]+s.slidesSizesGrid[a]+i*2;s.isLocked=s.size>r}else s.isLocked=s.snapGrid.length===1;t.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),t.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}function Ni(s,e){return function(i){i===void 0&&(i={});let a=Object.keys(i)[0],r=i[a];if(typeof r!="object"||r===null){Q(e,i);return}if(s[a]===!0&&(s[a]={enabled:!0}),a==="navigation"&&s[a]&&s[a].enabled&&!s[a].prevEl&&!s[a].nextEl&&(s[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&s[a]&&s[a].enabled&&!s[a].el&&(s[a].auto=!0),!(a in s&&"enabled"in r)){Q(e,i);return}typeof s[a]=="object"&&!("enabled"in s[a])&&(s[a].enabled=!0),s[a]||(s[a]={enabled:!1}),Q(e,i)}}var Je,et,tt,Hs,De,st,at,_s,ei,ri,ui,gi,bi,Ht,Ii,$t,$i,Hi,Gi,zt,it,rt,N,Vt=O(()=>{te();V();Hs={on(s,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let a=t?"unshift":"push";return s.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][a](e)}),i},once(s,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function a(){i.off(s,a),a.__emitterProxy&&delete a.__emitterProxy;for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];e.apply(i,l)}return a.__emitterProxy=e,i.on(s,a,t)},onAny(s,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof s!="function")return t;let i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(s)<0&&t.eventsAnyListeners[i](s),t},offAny(s){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(s);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(s,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||s.split(" ").forEach(i=>{typeof e=="undefined"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((a,r)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[i].splice(r,1)})}),t},emit(){let s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let e,t,i;for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=s):(e=r[0].events,t=r[0].data,i=r[0].context||s),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(n=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(d=>{d.apply(i,[n,...t])}),s.eventsListeners&&s.eventsListeners[n]&&s.eventsListeners[n].forEach(d=>{d.apply(i,t)})}),s}};De=(s,e)=>{if(!s||s.destroyed||!s.params)return;let t=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,i=e.closest(t());if(i){let a=i.querySelector(`.${s.params.lazyPreloaderClass}`);!a&&s.isElement&&(i.shadowRoot?a=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(a=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},st=(s,e)=>{if(!s.slides[e])return;let t=s.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},at=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext,t=s.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);let i=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),a=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){let l=a,o=[l-e];o.push(...Array.from({length:e}).map((n,d)=>l+i+d)),s.slides.forEach((n,d)=>{o.includes(n.column)&&st(s,d)});return}let r=a+i-1;if(s.params.rewind||s.params.loop)for(let l=a-e;l<=r+e;l+=1){let o=(l%t+t)%t;(o<a||o>r)&&st(s,o)}else for(let l=Math.max(a-e,0);l<=Math.min(r+e,t-1);l+=1)l!==a&&(l>r||l<a)&&st(s,l)};_s={updateSize:Vs,updateSlides:Gs,updateAutoHeight:Ns,updateSlidesOffset:qs,updateSlidesProgress:Rs,updateProgress:Ys,updateSlidesClasses:Xs,updateActiveIndex:Fs,updateClickedSlide:Ws};ei={getTranslate:Us,setTranslate:Ks,minTranslate:Zs,maxTranslate:Qs,translateTo:Js};ri={setTransition:ti,transitionStart:si,transitionEnd:ii};ui={slideTo:ai,slideToLoop:ni,slideNext:oi,slidePrev:li,slideReset:di,slideToClosest:ci,slideToClickedSlide:fi};gi={loopCreate:pi,loopFix:mi,loopDestroy:hi};bi={setGrabCursor:vi,unsetGrabCursor:wi};Ht=(s,e)=>{let t=j(),{params:i,el:a,wrapperEl:r,device:l}=s,o=!!i.nested,n=e==="on"?"addEventListener":"removeEventListener",d=e;t[n]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:o}),a[n]("touchstart",s.onTouchStart,{passive:!1}),a[n]("pointerdown",s.onTouchStart,{passive:!1}),t[n]("touchmove",s.onTouchMove,{passive:!1,capture:o}),t[n]("pointermove",s.onTouchMove,{passive:!1,capture:o}),t[n]("touchend",s.onTouchEnd,{passive:!0}),t[n]("pointerup",s.onTouchEnd,{passive:!0}),t[n]("pointercancel",s.onTouchEnd,{passive:!0}),t[n]("touchcancel",s.onTouchEnd,{passive:!0}),t[n]("pointerout",s.onTouchEnd,{passive:!0}),t[n]("pointerleave",s.onTouchEnd,{passive:!0}),t[n]("contextmenu",s.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&a[n]("click",s.onClick,!0),i.cssMode&&r[n]("scroll",s.onScroll),i.updateOnWindowResize?s[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ot,!0):s[d]("observerUpdate",Ot,!0),a[n]("load",s.onLoad,{capture:!0})};Ii={attachEvents:Li,detachEvents:Ai},$t=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;$i={setBreakpoint:ki,getBreakpoint:Oi};Hi={addClasses:Di,removeClasses:Bi};Gi={checkOverflow:Vi},zt={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};it={eventsEmitter:Hs,update:_s,translate:ei,transition:ri,slide:ui,loop:gi,grabCursor:bi,events:Ii,breakpoints:$i,checkOverflow:Gi,classes:Hi},rt={},N=class s{constructor(){let e,t;for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Q({},t),e&&!t.el&&(t.el=e);let l=j();if(t.el&&typeof t.el=="string"&&l.querySelectorAll(t.el).length>1){let c=[];return l.querySelectorAll(t.el).forEach(u=>{let p=Q({},t,{el:u});c.push(new s(p))}),c}let o=this;o.__swiper__=!0,o.support=Dt(),o.device=Os({userAgent:t.userAgent}),o.browser=zs(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);let n={};o.modules.forEach(c=>{c({params:t,swiper:o,extendParams:Ni(t,n),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});let d=Q({},zt,n);return o.params=Q({},d,rt,t),o.originalParams=Q({},o.params),o.passedParams=Q({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/le(2,23))*le(2,23)},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:t,params:i}=this,a=F(t,`.${i.slideClass}, swiper-slide`),r=we(a[0]);return we(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){let e=this,{slidesEl:t,params:i}=e;e.slides=F(t,`.${i.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let i=this;e=Math.min(Math.max(e,0),1);let a=i.minTranslate(),l=(i.maxTranslate()-a)*e+a;i.translateTo(l,typeof t=="undefined"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(i=>{let a=e.getSlideClasses(i);t.push({slideEl:i,classNames:a}),e.emit("_slideClass",i,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);let i=this,{params:a,slides:r,slidesGrid:l,slidesSizesGrid:o,size:n,activeIndex:d}=i,c=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let u=r[d]?r[d].swiperSlideSize:0,p;for(let m=d+1;m<r.length;m+=1)r[m]&&!p&&(u+=r[m].swiperSlideSize,c+=1,u>n&&(p=!0));for(let m=d-1;m>=0;m-=1)r[m]&&!p&&(u+=r[m].swiperSlideSize,c+=1,u>n&&(p=!0))}else if(e==="current")for(let u=d+1;u<r.length;u+=1)(t?l[u]+o[u]-l[d]<n:l[u]-l[d]<n)&&(c+=1);else for(let u=d-1;u>=0;u-=1)l[d]-l[u]<n&&(c+=1);return c}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&De(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){let l=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)a(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){let l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(l.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||a()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);let i=this,a=i.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${a}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);let a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(a()):F(i,a())[0];return!l&&t.params.createElements&&(l=ie("div",t.params.wrapperClass),i.append(l),F(i,`.${t.params.slideClass}`).forEach(o=>{l.append(o)})),Object.assign(t,{el:i,wrapperEl:l,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||fe(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||fe(i,"direction")==="rtl"),wrongRTL:fe(l,"display")==="-webkit-box"}),!0}init(e){let t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();let a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(r=>{r.complete?De(t,r):r.addEventListener("load",l=>{De(t,l.target)})}),at(t),t.initialized=!0,at(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);let i=this,{params:a,el:r,wrapperEl:l,slides:o}=i;return typeof i.params=="undefined"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),a.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttribute("style"),l.removeAttribute("style"),o&&o.length&&o.forEach(n=>{n.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),n.removeAttribute("style"),n.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(n=>{i.off(n)}),e!==!1&&(i.el.swiper=null,Lt(i)),i.destroyed=!0),null}static extendDefaults(e){Q(rt,e)}static get extendedDefaults(){return rt}static get defaults(){return zt}static installModule(e){s.prototype.__modules__||(s.prototype.__modules__=[]);let t=s.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>s.installModule(t)),s):(s.installModule(e),s)}};Object.keys(it).forEach(s=>{Object.keys(it[s]).forEach(e=>{N.prototype[e]=it[s][e]})});N.use([Ds,Bs])});var Be=O(()=>{Vt()});var Gt=O(()=>{te();V()});var qt=O(()=>{te();V()});function He(s){let{swiper:e,extendParams:t,on:i,emit:a}=s,r=q();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let l,o=K(),n,d=[];function c(f){let k=0,L=0,S=0,v=0;return"detail"in f&&(L=f.detail),"wheelDelta"in f&&(L=-f.wheelDelta/120),"wheelDeltaY"in f&&(L=-f.wheelDeltaY/120),"wheelDeltaX"in f&&(k=-f.wheelDeltaX/120),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(k=L,L=0),S=k*10,v=L*10,"deltaY"in f&&(v=f.deltaY),"deltaX"in f&&(S=f.deltaX),f.shiftKey&&!S&&(S=v,v=0),(S||v)&&f.deltaMode&&(f.deltaMode===1?(S*=40,v*=40):(S*=800,v*=800)),S&&!k&&(k=S<1?-1:1),v&&!L&&(L=v<1?-1:1),{spinX:k,spinY:L,pixelX:S,pixelY:v}}function u(){e.enabled&&(e.mouseEntered=!0)}function p(){e.enabled&&(e.mouseEntered=!1)}function m(f){return e.params.mousewheel.thresholdDelta&&f.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&K()-o<e.params.mousewheel.thresholdTime?!1:f.delta>=6&&K()-o<60?!0:(f.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),a("scroll",f.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),a("scroll",f.raw)),o=new r.Date().getTime(),!1)}function y(f){let w=e.params.mousewheel;if(f.direction<0){if(e.isEnd&&!e.params.loop&&w.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&w.releaseOnEdges)return!0;return!1}function g(f){let w=f,M=!0;if(!e.enabled||f.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let P=e.params.mousewheel;e.params.cssMode&&w.preventDefault();let k=e.el;e.params.mousewheel.eventsTarget!=="container"&&(k=document.querySelector(e.params.mousewheel.eventsTarget));let L=k&&k.contains(w.target);if(!e.mouseEntered&&!L&&!P.releaseOnEdges)return!0;w.originalEvent&&(w=w.originalEvent);let S=0,v=e.rtlTranslate?-1:1,E=c(w);if(P.forceToAxis)if(e.isHorizontal())if(Math.abs(E.pixelX)>Math.abs(E.pixelY))S=-E.pixelX*v;else return!0;else if(Math.abs(E.pixelY)>Math.abs(E.pixelX))S=-E.pixelY;else return!0;else S=Math.abs(E.pixelX)>Math.abs(E.pixelY)?-E.pixelX*v:-E.pixelY;if(S===0)return!0;P.invert&&(S=-S);let C=e.getTranslate()+S*P.sensitivity;if(C>=e.minTranslate()&&(C=e.minTranslate()),C<=e.maxTranslate()&&(C=e.maxTranslate()),M=e.params.loop?!0:!(C===e.minTranslate()||C===e.maxTranslate()),M&&e.params.nested&&w.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let T={time:K(),delta:Math.abs(S),direction:Math.sign(S),raw:f};d.length>=2&&d.shift();let A=d.length?d[d.length-1]:void 0;if(d.push(T),A?(T.direction!==A.direction||T.delta>A.delta||T.time>A.time+150)&&m(T):m(T),y(T))return!0}else{let T={time:K(),delta:Math.abs(S),direction:Math.sign(S)},A=n&&T.time<n.time+500&&T.delta<=n.delta&&T.direction===n.direction;if(!A){n=void 0;let I=e.getTranslate()+S*P.sensitivity,B=e.isBeginning,J=e.isEnd;if(I>=e.minTranslate()&&(I=e.minTranslate()),I<=e.maxTranslate()&&(I=e.maxTranslate()),e.setTransition(0),e.setTranslate(I),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!B&&e.isBeginning||!J&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:T.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(l),l=void 0,d.length>=15&&d.shift();let z=d.length?d[d.length-1]:void 0,R=d[0];if(d.push(T),z&&(T.delta>z.delta||T.direction!==z.direction))d.splice(0);else if(d.length>=15&&T.time-R.time<500&&R.delta-T.delta>=1&&T.delta<=6){let H=S>0?.8:.2;n=T,d.splice(0),l=ne(()=>{e.slideToClosest(e.params.speed,!0,void 0,H)},0)}l||(l=ne(()=>{n=T,d.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(A||a("scroll",w),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),P.releaseOnEdges&&(I===e.minTranslate()||I===e.maxTranslate()))return!0}}return w.preventDefault?w.preventDefault():w.returnValue=!1,!1}function x(f){let w=e.el;e.params.mousewheel.eventsTarget!=="container"&&(w=document.querySelector(e.params.mousewheel.eventsTarget)),w[f]("mouseenter",u),w[f]("mouseleave",p),w[f]("wheel",g)}function b(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",g),!0):e.mousewheel.enabled?!1:(x("addEventListener"),e.mousewheel.enabled=!0,!0)}function h(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,g),!0):e.mousewheel.enabled?(x("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&h(),e.params.mousewheel.enabled&&b()}),i("destroy",()=>{e.params.cssMode&&b(),e.mousewheel.enabled&&h()}),Object.assign(e.mousewheel,{enable:b,disable:h})}var Rt=O(()=>{te();V()});function ke(s,e,t,i){return s.params.createElements&&Object.keys(i).forEach(a=>{if(!t[a]&&t.auto===!0){let r=F(s.el,`.${i[a]}`)[0];r||(r=ie("div",i[a]),r.className=i[a],s.el.append(r)),t[a]=r,e[a]=r}}),t}var Ve=O(()=>{V()});function U(s){let{swiper:e,extendParams:t,on:i,emit:a}=s;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};let r=g=>(Array.isArray(g)?g:[g]).filter(x=>!!x);function l(g){let x;return g&&typeof g=="string"&&e.isElement&&(x=e.el.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&x.length>1&&e.el.querySelectorAll(g).length===1&&(x=e.el.querySelector(g))),g&&!x?g:x)}function o(g,x){let b=e.params.navigation;g=r(g),g.forEach(h=>{h&&(h.classList[x?"add":"remove"](...b.disabledClass.split(" ")),h.tagName==="BUTTON"&&(h.disabled=x),e.params.watchOverflow&&e.enabled&&h.classList[e.isLocked?"add":"remove"](b.lockClass))})}function n(){let{nextEl:g,prevEl:x}=e.navigation;if(e.params.loop){o(x,!1),o(g,!1);return}o(x,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function d(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function u(){let g=e.params.navigation;if(e.params.navigation=ke(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=l(g.nextEl),b=l(g.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:b}),x=r(x),b=r(b);let h=(f,w)=>{f&&f.addEventListener("click",w==="next"?c:d),!e.enabled&&f&&f.classList.add(...g.lockClass.split(" "))};x.forEach(f=>h(f,"next")),b.forEach(f=>h(f,"prev"))}function p(){let{nextEl:g,prevEl:x}=e.navigation;g=r(g),x=r(x);let b=(h,f)=>{h.removeEventListener("click",f==="next"?c:d),h.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(h=>b(h,"next")),x.forEach(h=>b(h,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?y():(u(),n())}),i("toEdge fromEdge lock unlock",()=>{n()}),i("destroy",()=>{p()}),i("enable disable",()=>{let{nextEl:g,prevEl:x}=e.navigation;if(g=r(g),x=r(x),e.enabled){n();return}[...g,...x].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),i("click",(g,x)=>{let{nextEl:b,prevEl:h}=e.navigation;b=r(b),h=r(h);let f=x.target;if(e.params.navigation.hideOnClick&&!h.includes(f)&&!b.includes(f)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===f||e.pagination.el.contains(f)))return;let w;b.length?w=b[0].classList.contains(e.params.navigation.hiddenClass):h.length&&(w=h[0].classList.contains(e.params.navigation.hiddenClass)),a(w===!0?"navigationShow":"navigationHide"),[...b,...h].filter(M=>!!M).forEach(M=>M.classList.toggle(e.params.navigation.hiddenClass))}});let m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),n()},y=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:m,disable:y,update:n,init:u,destroy:p})}var Yt=O(()=>{Ve()});function ge(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}var Ge=O(()=>{});function Te(s){let{swiper:e,extendParams:t,on:i,emit:a}=s,r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:h=>h,formatFractionTotal:h=>h,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let l,o=0,n=h=>(Array.isArray(h)?h:[h]).filter(f=>!!f);function d(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(h,f){let{bulletActiveClass:w}=e.params.pagination;h&&(h=h[`${f==="prev"?"previous":"next"}ElementSibling`],h&&(h.classList.add(`${w}-${f}`),h=h[`${f==="prev"?"previous":"next"}ElementSibling`],h&&h.classList.add(`${w}-${f}-${f}`)))}function u(h){let f=h.target.closest(ge(e.params.pagination.bulletClass));if(!f)return;h.preventDefault();let w=we(f)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;e.slideToLoop(w)}else e.slideTo(w)}function p(){let h=e.rtl,f=e.params.pagination;if(d())return;let w=e.pagination.el;w=n(w);let M,P,k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,L=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(P=e.previousRealIndex||0,M=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex!="undefined"?(M=e.snapIndex,P=e.previousSnapIndex):(P=e.previousIndex||0,M=e.activeIndex||0),f.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let S=e.pagination.bullets,v,E,C;if(f.dynamicBullets&&(l=Ie(S[0],e.isHorizontal()?"width":"height",!0),w.forEach(T=>{T.style[e.isHorizontal()?"width":"height"]=`${l*(f.dynamicMainBullets+4)}px`}),f.dynamicMainBullets>1&&P!==void 0&&(o+=M-(P||0),o>f.dynamicMainBullets-1?o=f.dynamicMainBullets-1:o<0&&(o=0)),v=Math.max(M-o,0),E=v+(Math.min(S.length,f.dynamicMainBullets)-1),C=(E+v)/2),S.forEach(T=>{let A=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${f.bulletActiveClass}${I}`)].map(I=>typeof I=="string"&&I.includes(" ")?I.split(" "):I).flat();T.classList.remove(...A)}),w.length>1)S.forEach(T=>{let A=we(T);A===M?T.classList.add(...f.bulletActiveClass.split(" ")):e.isElement&&T.setAttribute("part","bullet"),f.dynamicBullets&&(A>=v&&A<=E&&T.classList.add(...`${f.bulletActiveClass}-main`.split(" ")),A===v&&c(T,"prev"),A===E&&c(T,"next"))});else{let T=S[M];if(T&&T.classList.add(...f.bulletActiveClass.split(" ")),e.isElement&&S.forEach((A,I)=>{A.setAttribute("part",I===M?"bullet-active":"bullet")}),f.dynamicBullets){let A=S[v],I=S[E];for(let B=v;B<=E;B+=1)S[B]&&S[B].classList.add(...`${f.bulletActiveClass}-main`.split(" "));c(A,"prev"),c(I,"next")}}if(f.dynamicBullets){let T=Math.min(S.length,f.dynamicMainBullets+4),A=(l*T-l)/2-C*l,I=h?"right":"left";S.forEach(B=>{B.style[e.isHorizontal()?I:"top"]=`${A}px`})}}w.forEach((S,v)=>{if(f.type==="fraction"&&(S.querySelectorAll(ge(f.currentClass)).forEach(E=>{E.textContent=f.formatFractionCurrent(M+1)}),S.querySelectorAll(ge(f.totalClass)).forEach(E=>{E.textContent=f.formatFractionTotal(L)})),f.type==="progressbar"){let E;f.progressbarOpposite?E=e.isHorizontal()?"vertical":"horizontal":E=e.isHorizontal()?"horizontal":"vertical";let C=(M+1)/L,T=1,A=1;E==="horizontal"?T=C:A=C,S.querySelectorAll(ge(f.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${T}) scaleY(${A})`,I.style.transitionDuration=`${e.params.speed}ms`})}f.type==="custom"&&f.renderCustom?(S.innerHTML=f.renderCustom(e,M+1,L),v===0&&a("paginationRender",S)):(v===0&&a("paginationRender",S),a("paginationUpdate",S)),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](f.lockClass)})}function m(){let h=e.params.pagination;if(d())return;let f=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,w=e.pagination.el;w=n(w);let M="";if(h.type==="bullets"){let P=e.params.loop?Math.ceil(f/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&P>f&&(P=f);for(let k=0;k<P;k+=1)h.renderBullet?M+=h.renderBullet.call(e,k,h.bulletClass):M+=`<${h.bulletElement} ${e.isElement?'part="bullet"':""} class="${h.bulletClass}"></${h.bulletElement}>`}h.type==="fraction"&&(h.renderFraction?M=h.renderFraction.call(e,h.currentClass,h.totalClass):M=`<span class="${h.currentClass}"></span> / <span class="${h.totalClass}"></span>`),h.type==="progressbar"&&(h.renderProgressbar?M=h.renderProgressbar.call(e,h.progressbarFillClass):M=`<span class="${h.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(P=>{h.type!=="custom"&&(P.innerHTML=M||""),h.type==="bullets"&&e.pagination.bullets.push(...P.querySelectorAll(ge(h.bulletClass)))}),h.type!=="custom"&&a("paginationRender",w[0])}function y(){e.params.pagination=ke(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let h=e.params.pagination;if(!h.el)return;let f;typeof h.el=="string"&&e.isElement&&(f=e.el.querySelector(h.el)),!f&&typeof h.el=="string"&&(f=[...document.querySelectorAll(h.el)]),f||(f=h.el),!(!f||f.length===0)&&(e.params.uniqueNavElements&&typeof h.el=="string"&&Array.isArray(f)&&f.length>1&&(f=[...e.el.querySelectorAll(h.el)],f.length>1&&(f=f.filter(w=>Ee(w,".swiper")[0]===e.el)[0])),Array.isArray(f)&&f.length===1&&(f=f[0]),Object.assign(e.pagination,{el:f}),f=n(f),f.forEach(w=>{h.type==="bullets"&&h.clickable&&w.classList.add(...(h.clickableClass||"").split(" ")),w.classList.add(h.modifierClass+h.type),w.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.type==="bullets"&&h.dynamicBullets&&(w.classList.add(`${h.modifierClass}${h.type}-dynamic`),o=0,h.dynamicMainBullets<1&&(h.dynamicMainBullets=1)),h.type==="progressbar"&&h.progressbarOpposite&&w.classList.add(h.progressbarOppositeClass),h.clickable&&w.addEventListener("click",u),e.enabled||w.classList.add(h.lockClass)}))}function g(){let h=e.params.pagination;if(d())return;let f=e.pagination.el;f&&(f=n(f),f.forEach(w=>{w.classList.remove(h.hiddenClass),w.classList.remove(h.modifierClass+h.type),w.classList.remove(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.clickable&&(w.classList.remove(...(h.clickableClass||"").split(" ")),w.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...h.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let h=e.params.pagination,{el:f}=e.pagination;f=n(f),f.forEach(w=>{w.classList.remove(h.horizontalClass,h.verticalClass),w.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?b():(y(),m(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex=="undefined"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{m(),p()}),i("destroy",()=>{g()}),i("enable disable",()=>{let{el:h}=e.pagination;h&&(h=n(h),h.forEach(f=>f.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(h,f)=>{let w=f.target,M=n(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&M&&M.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;let P=M[0].classList.contains(e.params.pagination.hiddenClass);a(P===!0?"paginationShow":"paginationHide"),M.forEach(k=>k.classList.toggle(e.params.pagination.hiddenClass))}});let x=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=n(h),h.forEach(f=>f.classList.remove(e.params.pagination.paginationDisabledClass))),y(),m(),p()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=n(h),h.forEach(f=>f.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:x,disable:b,render:m,update:p,init:y,destroy:g})}var Xt=O(()=>{Ge();Ve();V()});var jt=O(()=>{te();V();Ve();Ge()});var Ft=O(()=>{V()});var Wt=O(()=>{te();V()});function Ne(s){let{swiper:e,extendParams:t,on:i}=s;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function a(d,c){let u=function(){let g,x,b;return(h,f)=>{for(x=-1,g=h.length;g-x>1;)b=g+x>>1,h[b]<=f?x=b:g=b;return g}}();this.x=d,this.y=c,this.lastIndex=d.length-1;let p,m;return this.interpolate=function(g){return g?(m=u(this.x,g),p=m-1,(g-this.x[p])*(this.y[m]-this.y[p])/(this.x[m]-this.x[p])+this.y[p]):0},this}function r(d){e.controller.spline=e.params.loop?new a(e.slidesGrid,d.slidesGrid):new a(e.snapGrid,d.snapGrid)}function l(d,c){let u=e.controller.control,p,m,y=e.constructor;function g(x){if(x.destroyed)return;let b=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(r(x),m=-e.controller.spline.interpolate(-b)),(!m||e.params.controller.by==="container")&&(p=(x.maxTranslate()-x.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),m=(b-e.minTranslate())*p+x.minTranslate()),e.params.controller.inverse&&(m=x.maxTranslate()-m),x.updateProgress(m),x.setTranslate(m,e),x.updateActiveIndex(),x.updateSlidesClasses()}if(Array.isArray(u))for(let x=0;x<u.length;x+=1)u[x]!==c&&u[x]instanceof y&&g(u[x]);else u instanceof y&&c!==u&&g(u)}function o(d,c){let u=e.constructor,p=e.controller.control,m;function y(g){g.destroyed||(g.setTransition(d,e),d!==0&&(g.transitionStart(),g.params.autoHeight&&ne(()=>{g.updateAutoHeight()}),he(g.wrapperEl,()=>{p&&g.transitionEnd()})))}if(Array.isArray(p))for(m=0;m<p.length;m+=1)p[m]!==c&&p[m]instanceof u&&y(p[m]);else p instanceof u&&c!==p&&y(p)}function n(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window!="undefined"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){let d=document.querySelector(e.params.controller.control);if(d&&d.swiper)e.controller.control=d.swiper;else if(d){let c=u=>{e.controller.control=u.detail[0],e.update(),d.removeEventListener("init",c)};d.addEventListener("init",c)}return}e.controller.control=e.params.controller.control}),i("update",()=>{n()}),i("resize",()=>{n()}),i("observerUpdate",()=>{n()}),i("setTranslate",(d,c,u)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(c,u)}),i("setTransition",(d,c,u)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(c,u)}),Object.assign(e.controller,{setTranslate:l,setTransition:o})}var _t=O(()=>{V()});var Ut=O(()=>{Ge();V()});var Kt=O(()=>{te()});var Zt=O(()=>{te();V()});function se(s){let{swiper:e,extendParams:t,on:i,emit:a,params:r}=s;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,o,n=r&&r.autoplay?r.autoplay.delay:3e3,d=r&&r.autoplay?r.autoplay.delay:3e3,c,u=new Date().getTime(),p,m,y,g,x,b,h;function f(z){!e||e.destroyed||!e.wrapperEl||z.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",f),!h&&v())}let w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(d=c,p=!1);let z=e.autoplay.paused?c:u+d-new Date().getTime();e.autoplay.timeLeft=z,a("autoplayTimeLeft",z,z/n),o=requestAnimationFrame(()=>{w()})},M=()=>{let z;return e.virtual&&e.params.virtual.enabled?z=e.slides.filter(H=>H.classList.contains("swiper-slide-active"))[0]:z=e.slides[e.activeIndex],z?parseInt(z.getAttribute("data-swiper-autoplay"),10):void 0},P=z=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),w();let R=typeof z=="undefined"?e.params.autoplay.delay:z;n=e.params.autoplay.delay,d=e.params.autoplay.delay;let H=M();!Number.isNaN(H)&&H>0&&typeof z=="undefined"&&(R=H,n=H,d=H),c=R;let X=e.params.speed,W=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(X,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,X,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(X,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,X,!0,!0),a("autoplay")),e.params.cssMode&&(u=new Date().getTime(),requestAnimationFrame(()=>{P()})))};return R>0?(clearTimeout(l),l=setTimeout(()=>{W()},R)):requestAnimationFrame(()=>{W()}),R},k=()=>{u=new Date().getTime(),e.autoplay.running=!0,P(),a("autoplayStart")},L=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(o),a("autoplayStop")},S=(z,R)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),z||(b=!0);let H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",f):v()};if(e.autoplay.paused=!0,R){x&&(c=e.params.autoplay.delay),x=!1,H();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-u),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),H())},v=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(u=new Date().getTime(),b?(b=!1,P(c)):P(),e.autoplay.paused=!1,a("autoplayResume"))},E=()=>{if(e.destroyed||!e.autoplay.running)return;let z=j();z.visibilityState==="hidden"&&(b=!0,S(!0)),z.visibilityState==="visible"&&v()},C=z=>{z.pointerType==="mouse"&&(b=!0,h=!0,!(e.animating||e.autoplay.paused)&&S(!0))},T=z=>{z.pointerType==="mouse"&&(h=!1,e.autoplay.paused&&v())},A=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",T))},I=()=>{e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",T)},B=()=>{j().addEventListener("visibilitychange",E)},J=()=>{j().removeEventListener("visibilitychange",E)};i("init",()=>{e.params.autoplay.enabled&&(A(),B(),k())}),i("destroy",()=>{I(),J(),e.autoplay.running&&L()}),i("_freeModeStaticRelease",()=>{(y||b)&&v()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?L():S(!0,!0)}),i("beforeTransitionStart",(z,R,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?S(!0,!0):L())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){L();return}m=!0,y=!1,b=!1,g=setTimeout(()=>{b=!0,y=!0,S(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(g),clearTimeout(l),e.params.autoplay.disableOnInteraction){y=!1,m=!1;return}y&&e.params.cssMode&&v(),y=!1,m=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(x=!0)}),Object.assign(e.autoplay,{start:k,stop:L,pause:S,resume:v})}var Qt=O(()=>{te()});function qe(s){let{swiper:e,extendParams:t,on:i}=s;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,r=!1;e.thumbs={swiper:null};function l(){let d=e.thumbs.swiper;if(!d||d.destroyed)return;let c=d.clickedIndex,u=d.clickedSlide;if(u&&u.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof c=="undefined"||c===null)return;let p;d.params.loop?p=parseInt(d.clickedSlide.getAttribute("data-swiper-slide-index"),10):p=c,e.params.loop?e.slideToLoop(p):e.slideTo(p)}function o(){let{thumbs:d}=e.params;if(a)return!1;a=!0;let c=e.constructor;if(d.swiper instanceof c)e.thumbs.swiper=d.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(xe(d.swiper)){let u=Object.assign({},d.swiper);Object.assign(u,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new c(u),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",l),!0}function n(d){let c=e.thumbs.swiper;if(!c||c.destroyed)return;let u=c.params.slidesPerView==="auto"?c.slidesPerViewDynamic():c.params.slidesPerView,p=1,m=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(p=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),c.slides.forEach(x=>x.classList.remove(m)),c.params.loop||c.params.virtual&&c.params.virtual.enabled)for(let x=0;x<p;x+=1)F(c.slidesEl,`[data-swiper-slide-index="${e.realIndex+x}"]`).forEach(b=>{b.classList.add(m)});else for(let x=0;x<p;x+=1)c.slides[e.realIndex+x]&&c.slides[e.realIndex+x].classList.add(m);let y=e.params.thumbs.autoScrollOffset,g=y&&!c.params.loop;if(e.realIndex!==c.realIndex||g){let x=c.activeIndex,b,h;if(c.params.loop){let f=c.slides.filter(w=>w.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];b=c.slides.indexOf(f),h=e.activeIndex>e.previousIndex?"next":"prev"}else b=e.realIndex,h=b>e.previousIndex?"next":"prev";g&&(b+=h==="next"?y:-1*y),c.visibleSlidesIndexes&&c.visibleSlidesIndexes.indexOf(b)<0&&(c.params.centeredSlides?b>x?b=b-Math.floor(u/2)+1:b=b+Math.floor(u/2)-1:b>x&&c.params.slidesPerGroup,c.slideTo(b,d?0:void 0))}}i("beforeInit",()=>{let{thumbs:d}=e.params;if(!(!d||!d.swiper))if(typeof d.swiper=="string"||d.swiper instanceof HTMLElement){let c=j(),u=()=>{let m=typeof d.swiper=="string"?c.querySelector(d.swiper):d.swiper;if(m&&m.swiper)d.swiper=m.swiper,o(),n(!0);else if(m){let y=g=>{d.swiper=g.detail[0],m.removeEventListener("init",y),o(),n(!0),d.swiper.update(),e.update()};m.addEventListener("init",y)}return m},p=()=>{if(e.destroyed)return;u()||requestAnimationFrame(p)};requestAnimationFrame(p)}else o(),n(!0)}),i("slideChange update resize observerUpdate",()=>{n()}),i("setTransition",(d,c)=>{let u=e.thumbs.swiper;!u||u.destroyed||u.setTransition(c)}),i("beforeDestroy",()=>{let d=e.thumbs.swiper;!d||d.destroyed||r&&d.destroy()}),Object.assign(e.thumbs,{init:o,update:n})}var Jt=O(()=>{te();V()});function nt(s){let{swiper:e,extendParams:t,emit:i,once:a}=s;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;let n=e.getTranslate();e.setTranslate(n),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function l(){if(e.params.cssMode)return;let{touchEventsData:n,touches:d}=e;n.velocities.length===0&&n.velocities.push({position:d[e.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:d[e.isHorizontal()?"currentX":"currentY"],time:K()})}function o(n){let{currentPos:d}=n;if(e.params.cssMode)return;let{params:c,wrapperEl:u,rtlTranslate:p,snapGrid:m,touchEventsData:y}=e,x=K()-y.touchStartTime;if(d<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(d>-e.maxTranslate()){e.slides.length<m.length?e.slideTo(m.length-1):e.slideTo(e.slides.length-1);return}if(c.freeMode.momentum){if(y.velocities.length>1){let L=y.velocities.pop(),S=y.velocities.pop(),v=L.position-S.position,E=L.time-S.time;e.velocity=v/E,e.velocity/=2,Math.abs(e.velocity)<c.freeMode.minimumVelocity&&(e.velocity=0),(E>150||K()-L.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=c.freeMode.momentumVelocityRatio,y.velocities.length=0;let b=1e3*c.freeMode.momentumRatio,h=e.velocity*b,f=e.translate+h;p&&(f=-f);let w=!1,M,P=Math.abs(e.velocity)*20*c.freeMode.momentumBounceRatio,k;if(f<e.maxTranslate())c.freeMode.momentumBounce?(f+e.maxTranslate()<-P&&(f=e.maxTranslate()-P),M=e.maxTranslate(),w=!0,y.allowMomentumBounce=!0):f=e.maxTranslate(),c.loop&&c.centeredSlides&&(k=!0);else if(f>e.minTranslate())c.freeMode.momentumBounce?(f-e.minTranslate()>P&&(f=e.minTranslate()+P),M=e.minTranslate(),w=!0,y.allowMomentumBounce=!0):f=e.minTranslate(),c.loop&&c.centeredSlides&&(k=!0);else if(c.freeMode.sticky){let L;for(let S=0;S<m.length;S+=1)if(m[S]>-f){L=S;break}Math.abs(m[L]-f)<Math.abs(m[L-1]-f)||e.swipeDirection==="next"?f=m[L]:f=m[L-1],f=-f}if(k&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(p?b=Math.abs((-f-e.translate)/e.velocity):b=Math.abs((f-e.translate)/e.velocity),c.freeMode.sticky){let L=Math.abs((p?-f:f)-e.translate),S=e.slidesSizesGrid[e.activeIndex];L<S?b=c.speed:L<2*S?b=c.speed*1.5:b=c.speed*2.5}}else if(c.freeMode.sticky){e.slideToClosest();return}c.freeMode.momentumBounce&&w?(e.updateProgress(M),e.setTransition(b),e.setTranslate(f),e.transitionStart(!0,e.swipeDirection),e.animating=!0,he(u,()=>{!e||e.destroyed||!y.allowMomentumBounce||(i("momentumBounce"),e.setTransition(c.speed),setTimeout(()=>{e.setTranslate(M),he(u,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(f),e.setTransition(b),e.setTranslate(f),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,he(u,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(f),e.updateActiveIndex(),e.updateSlidesClasses()}else if(c.freeMode.sticky){e.slideToClosest();return}else c.freeMode&&i("_freeModeNoMomentumRelease");(!c.freeMode.momentum||x>=c.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:l,onTouchEnd:o}})}var es=O(()=>{V()});var ts=O(()=>{});var ss=O(()=>{});function be(s){let{effect:e,swiper:t,on:i,setTranslate:a,setTransition:r,overwriteParams:l,perspective:o,recreateShadows:n,getEffectParams:d}=s;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),o&&o()&&t.classNames.push(`${t.params.containerModifierClass}3d`);let u=l?l():{};Object.assign(t.params,u),Object.assign(t.originalParams,u)}),i("setTranslate",()=>{t.params.effect===e&&a()}),i("setTransition",(u,p)=>{t.params.effect===e&&r(p)}),i("transitionEnd",()=>{if(t.params.effect===e&&n){if(!d||!d().slideShadows)return;t.slides.forEach(u=>{u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),n()}});let c;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(c=!0),requestAnimationFrame(()=>{c&&t.slides&&t.slides.length&&(a(),c=!1)}))})}var ye=O(()=>{});function Me(s,e){let t=ce(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}var Ce=O(()=>{V()});function Oe(s){let{swiper:e,duration:t,transformElements:i,allSlides:a}=s,{activeIndex:r}=e,l=o=>o.parentElement?o.parentElement:e.slides.filter(d=>d.shadowRoot&&d.shadowRoot===o.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let o=!1,n;a?n=i:n=i.filter(d=>{let c=d.classList.contains("swiper-slide-transform")?l(d):d;return e.getSlideIndex(c)===r}),n.forEach(d=>{he(d,()=>{if(o||!e||e.destroyed)return;o=!0,e.animating=!1;let c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(c)})})}}var $e=O(()=>{V()});function ve(s){let{swiper:e,extendParams:t,on:i}=s;t({fadeEffect:{crossFade:!1}}),be({effect:"fade",swiper:e,on:i,setTranslate:()=>{let{slides:l}=e,o=e.params.fadeEffect;for(let n=0;n<l.length;n+=1){let d=e.slides[n],u=-d.swiperSlideOffset;e.params.virtualTranslate||(u-=e.translate);let p=0;e.isHorizontal()||(p=u,u=0);let m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(d.progress),0):1+Math.min(Math.max(d.progress,-1),0),y=Me(o,d);y.style.opacity=m,y.style.transform=`translate3d(${u}px, ${p}px, 0px)`}},setTransition:l=>{let o=e.slides.map(n=>ce(n));o.forEach(n=>{n.style.transitionDuration=`${l}ms`}),Oe({swiper:e,duration:l,transformElements:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}var is=O(()=>{ye();Ce();$e();V()});var rs=O(()=>{ye();V()});var ze=O(()=>{V()});var as=O(()=>{ze();ye();Ce();$e();V()});var ns=O(()=>{ze();ye();Ce();V()});var os=O(()=>{ze();ye();Ce();$e();V()});var ls=O(()=>{ze();ye();Ce();$e();V()});var Re=O(()=>{Gt();qt();Rt();Yt();Xt();jt();Ft();Wt();_t();Ut();Kt();Zt();Qt();Jt();es();ts();ss();is();rs();as();ns();os();ls()});function ds(){if(qi(),$(".swiper-column-auto").each(function(s){let e=$(this),t={loop:e.hasClass("swiper-loop"),touchMove:e.hasClass("allow-touchMove")||!0,mouseWheel:e.hasClass("allow-mouseWheel")?{forceToAxis:!0}:!1,autoHeight:e.hasClass("auto-height"),hasVideo:e.hasClass("auto-detect-video"),progressbar:e.hasClass("progressbar"),time:e.attr("data-time")||3500,autoplay:e.hasClass("autoplay")};e.addClass(`swiper-column-auto-id-${s}`),new N(`.swiper-column-auto-id-${s} .swiper`,Pe(de({modules:[U,Te,He],speed:500,observer:!0,observeParents:!0,spaceBetween:0,loop:t.loop},t.autoplay&&{autoplay:{delay:t.time}}),{slidesPerView:"auto",pagination:de({el:`.swiper-column-auto-id-${s} .swiper-pagination`,clickable:!0},t.progressbar&&{type:"progressbar"}),mousewheel:t.mouseWheel,allowTouchMove:t.touchMove,navigation:{prevEl:`.swiper-column-auto-id-${s} .btn-prev`,nextEl:`.swiper-column-auto-id-${s} .btn-next`},watchSlidesProgress:!0,autoHeight:t.autoHeight,on:{init:function(){},slideChange:function(){}}}))}),new N(".section-home-banner .swiper",{slidesPerView:1,spaceBetween:0,speed:1e3,loop:!0,effect:"fade",autoplay:{delay:3500},modules:[Te,U,se,ve],pagination:{el:".section-home-banner .swiper-pagination",clickable:!0,renderBullet:function(s,e){let i=this.slides[s].getAttribute("data-title")||`Slide ${s+1}`;return`<span class="${e}">${i}</span>`}},navigation:{nextEl:".section-home-banner .btn-next",prevEl:".section-home-banner .btn-prev"}}),new N(".page-banner .banner-swiper",{slidesPerView:1,spaceBetween:0,speed:300,loop:!0,effect:"fade",modules:[Te,U,se,ve],pagination:{el:".page-banner .banner-pagination",clickable:!0},navigation:{nextEl:".page-banner .banner-next",prevEl:".page-banner .banner-prev"}}),new N(".home-3 .customer-slider",{slidesPerView:2,spaceBetween:16,speed:500,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},modules:[Te,se,ve],navigation:{nextEl:".home-3 .btn-next",prevEl:".home-3 .btn-prev"},pagination:{el:".home-3 .home-3-pagination",clickable:!0},breakpoints:{640:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:4,spaceBetween:24},1024:{slidesPerView:5,spaceBetween:30}}}),$(".swiper-services-detail .swiper").length>0){let s=function(e){e.slides.forEach(t=>{t.classList.contains("swiper-slide-active")?t.style.zIndex="2":t.style.zIndex="1"})};new N(".swiper-services-detail .swiper",{modules:[U,se],slidesPerView:"auto",centeredSlides:!0,spaceBetween:8,loop:!0,speed:600,navigation:{nextEl:".swiper-services-detail .swiper-button-deGallery-next",prevEl:".swiper-services-detail .swiper-button-deGallery-prev"},breakpoints:{320:{slidesPerView:1.2,spaceBetween:8},640:{slidesPerView:1.3,spaceBetween:8},768:{slidesPerView:1.4,spaceBetween:8},1024:{slidesPerView:1.5,spaceBetween:8},1280:{slidesPerView:1.6,spaceBetween:8},1536:{slidesPerView:1.8,spaceBetween:8}},on:{init:function(){s(this)},slideChange:function(){s(this)},transitionEnd:function(){s(this)}}})}$(".swiper-services-other .swiper").length>0&&new N(".swiper-services-other .swiper",{modules:[U,se,He],slidesPerView:1,spaceBetween:10,loop:!0,speed:800,mousewheel:{forceToAxis:!0},navigation:{nextEl:".swiper-services-other .swiper-button-other-next",prevEl:".swiper-services-other .swiper-button-other-prev"},breakpoints:{576:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:40}}})}function qi(){if($(".history-timeline .swiper").length>0&&$(".history-main .swiper").length>0){let s=new N(".history-timeline .swiper",{modules:[U,Ne],slidesPerView:3,spaceBetween:20,centeredSlides:!0,centeredSlidesBounds:!0,slideToClickedSlide:!0,watchSlidesProgress:!0,loop:!1,breakpoints:{768:{slidesPerView:5,spaceBetween:40},1024:{slidesPerView:7,spaceBetween:0}},on:{click:function(t){e.slideTo(t.clickedIndex)}}}),e=new N(".history-main .swiper",{modules:[U,Ne],slidesPerView:1,spaceBetween:30,speed:800,centeredSlides:!0,centeredSlidesBounds:!1,watchSlidesProgress:!0,breakpoints:{768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:40}},on:{setTranslate:function(t){if(window.innerWidth>=1024){let i=t.virtualSize,a=t.width,r=-(i-a),l=t.translate;l>0&&(l=0),l<r&&(l=r),t.wrapperEl.style.transform=`translate3d(${l}px, 0, 0)`}},slideChange:function(t){let i=t.activeIndex;s.slideTo(i),$(".history-timeline .swiper-slide").removeClass("swiper-slide-thumb-active"),$(s.slides[i]).addClass("swiper-slide-thumb-active")},init:function(t){$(s.slides[t.activeIndex]).addClass("swiper-slide-thumb-active")}}});$(".history-nav .btn-next").off("click").on("click",function(t){t.preventDefault(),e.activeIndex===e.slides.length-1?e.slideTo(0):e.slideNext()}),$(".history-nav .btn-prev").off("click").on("click",function(t){t.preventDefault(),e.activeIndex===0?e.slideTo(e.slides.length-1):e.slidePrev()})}$(".machine-slider .swiper").length>0&&new N(".machine-slider .swiper",{modules:[U,se,ve],slidesPerView:1,spaceBetween:30,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".machine-nav .btn-next",prevEl:".machine-nav .btn-prev"}})}var cs=O(()=>{Be();Re()});function lt(){"use strict";if($(".swiper-product-gallery").length>0&&$(".thumbs-slider").length>0){let t=new N(".thumbs-slider",{modules:[nt,U,qe],spaceBetween:8,breakpoints:{0:{direction:"horizontal",slidesPerView:5},768:{direction:"vertical",slidesPerView:4}},freeMode:!0,watchSlidesProgress:!0}),i=new N(".swiper-product-gallery",{modules:[U,qe,ve],slidesPerView:1,spaceBetween:0,speed:600,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:t},navigation:{nextEl:".thumb-next",prevEl:".thumb-prev"}})}let s=document.querySelectorAll(".tab-btn"),e=document.querySelectorAll(".tab-pane");s.length>0&&e.length>0&&(s.forEach(t=>{t.addEventListener("click",function(){let i=this.dataset.tab;s.forEach(a=>a.classList.remove("active")),this.classList.add("active"),e.forEach(a=>{a.classList.remove("active")}),setTimeout(()=>{let a=document.getElementById(i);a&&a.classList.add("active")},100)})}),s.forEach((t,i)=>{t.addEventListener("keydown",function(a){let r;a.key==="ArrowRight"?(a.preventDefault(),r=(i+1)%s.length,s[r].click(),s[r].focus()):a.key==="ArrowLeft"&&(a.preventDefault(),r=(i-1+s.length)%s.length,s[r].click(),s[r].focus())})})),$(".swiper-related-products").length>0&&new N(".swiper-related-products",{modules:[U,se],slidesPerView:1,spaceBetween:0,loop:!0,speed:600,navigation:{nextEl:".wrapper-related-products .btn-relative-next",prevEl:".wrapper-related-products .btn-relative-prev"},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4},1280:{slidesPerView:4}}})}var fs=O(()=>{Be();Re()});function dt(){"use strict";let s=document.querySelector(".wrapper-content-tab"),e=document.querySelector(".btn-view-more");if(!s||!e)return;let t="80vh";s.classList.contains("collapsed")&&(s.style.maxHeight=t),e.addEventListener("click",function(){let a=this.querySelector("span");s.classList.contains("collapsed")?(s.classList.remove("collapsed"),s.style.maxHeight=s.scrollHeight+"px",this.classList.add("active"),a&&(a.textContent="Thu g\u1ECDn")):(s.style.maxHeight=t,s.classList.add("collapsed"),this.classList.remove("active"),a&&(a.textContent="Xem th\xEAm"),s.scrollIntoView({behavior:"smooth",block:"start"}))});let i=new N(".swiper-related-customers",{modules:[U,se],slidesPerView:1,spaceBetween:16,loop:!0,speed:800,autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:".section-related-customers .btn-next",prevEl:".section-related-customers .btn-prev"},breakpoints:{576:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16},1280:{slidesPerView:4,spaceBetween:40}}})}var us=O(()=>{Be();Re()});var Ri=Fe((qn,Ye)=>{var ps=mt(ht()),ms=mt(gt());St();Tt();cs();fs();us();$(document).ready(function(){vt(),yt(),xt(),wt(),bt(),Et.init(),lt(),dt(),ds()});ps.default.init({offset:100,once:!0});var hs=(0,ms.default)();hs.observe();window.FE={lozad:hs.observe};(function(s){"use strict";s("#product-orderby").on("change",function(){let e=s(this).val(),t=new URL(window.location);e?t.searchParams.set("orderby",e):t.searchParams.delete("orderby"),window.location=t.toString()}),s(".category-item .toggle-icon").on("click",function(e){e.preventDefault(),console.log("Click");let i=s(this).closest(".category-item").find(".sub-category");i.length&&(i.slideToggle(300),s(this).html(s(this).html()==='<i class="fa-solid fa-plus"></i>'?'<i class="fa-solid fa-minus"></i>':'<i class="fa-solid fa-plus"></i>'))}),s(".product-pagination a").on("click",function(e){s("html, body").animate({scrollTop:s(".product-header").offset().top-100},500)})})(jQuery);var Xe=class s{constructor(e,t={}){this.element=e,this.options=de({onChange:t.onChange||null,onOpen:t.onOpen||null,onClose:t.onClose||null,closeOnSelect:t.closeOnSelect!==!1,searchable:t.searchable||!1,placeholder:t.placeholder||"Select an option"},t),this.trigger=this.element.querySelector(".select-trigger"),this.dropdown=this.element.querySelector(".select-dropdown"),this.selectOptions=this.element.querySelectorAll(".select-option"),this.selectedValue=this.element.querySelector(".selected-value"),this.name=this.element.dataset.name||"",this.isOpen=!1,this.selectedOption=null,this.focusedIndex=-1,this.init()}init(){this.bindEvents(),this.setInitialValue()}bindEvents(){this.trigger.addEventListener("click",e=>{e.stopPropagation(),this.toggle()}),this.selectOptions.forEach((e,t)=>{e.addEventListener("click",i=>{i.stopPropagation(),this.selectOption(e,t)}),e.setAttribute("tabindex","0"),e.addEventListener("keydown",i=>{this.handleOptionKeydown(i,e,t)})}),document.addEventListener("click",e=>{!this.element.contains(e.target)&&this.isOpen&&this.close()}),this.trigger.addEventListener("keydown",e=>{this.handleTriggerKeydown(e)}),this.dropdown.addEventListener("keydown",e=>{["ArrowUp","ArrowDown","Space"].includes(e.key)&&e.preventDefault()})}setInitialValue(){let e=this.element.querySelector(".select-option.active");e&&(this.selectedOption=e,this.selectedValue.textContent=e.textContent.trim())}toggle(){this.isOpen?this.close():this.open()}open(){var t;s.closeAll(this),this.element.classList.add("open"),this.isOpen=!0,this.trigger.setAttribute("aria-expanded","true"),this.dropdown.setAttribute("aria-hidden","false");let e=this.element.querySelector(".select-option.active");e?(this.focusedIndex=Array.from(this.selectOptions).indexOf(e),e.focus()):(this.focusedIndex=0,(t=this.selectOptions[0])==null||t.focus()),typeof this.options.onOpen=="function"&&this.options.onOpen(this),this.element.dispatchEvent(new CustomEvent("select:open",{detail:{select:this}}))}close(){this.element.classList.remove("open"),this.isOpen=!1,this.focusedIndex=-1,this.trigger.setAttribute("aria-expanded","false"),this.dropdown.setAttribute("aria-hidden","true"),this.trigger.focus(),typeof this.options.onClose=="function"&&this.options.onClose(this),this.element.dispatchEvent(new CustomEvent("select:close",{detail:{select:this}}))}selectOption(e,t){let i=e.dataset.value,a=e.textContent.trim();this.selectOptions.forEach(r=>r.classList.remove("active")),e.classList.add("active"),this.selectedOption=e,this.selectedValue.textContent=a,this.options.closeOnSelect&&this.close(),typeof this.options.onChange=="function"&&this.options.onChange(i,a,this),this.element.dispatchEvent(new CustomEvent("select:change",{detail:{value:i,text:a,name:this.name,select:this}}))}handleTriggerKeydown(e){switch(e.key){case"Enter":case" ":case"ArrowDown":e.preventDefault(),this.isOpen||this.open();break;case"ArrowUp":e.preventDefault(),this.isOpen||this.open();break;case"Escape":e.preventDefault(),this.isOpen&&this.close();break}}handleOptionKeydown(e,t,i){var a,r;switch(e.key){case"Enter":case" ":e.preventDefault(),this.selectOption(t,i);break;case"ArrowDown":e.preventDefault(),this.focusNextOption();break;case"ArrowUp":e.preventDefault(),this.focusPreviousOption();break;case"Escape":e.preventDefault(),this.close();break;case"Home":e.preventDefault(),this.focusedIndex=0,(a=this.selectOptions[0])==null||a.focus();break;case"End":e.preventDefault(),this.focusedIndex=this.selectOptions.length-1,(r=this.selectOptions[this.focusedIndex])==null||r.focus();break}}focusNextOption(){var e;this.focusedIndex=Math.min(this.focusedIndex+1,this.selectOptions.length-1),(e=this.selectOptions[this.focusedIndex])==null||e.focus()}focusPreviousOption(){var e;this.focusedIndex=Math.max(this.focusedIndex-1,0),(e=this.selectOptions[this.focusedIndex])==null||e.focus()}getValue(){return this.selectedOption?this.selectedOption.dataset.value:null}getText(){return this.selectedValue.textContent.trim()}setValue(e){let t=Array.from(this.selectOptions).find(i=>i.dataset.value===e);if(t){let i=Array.from(this.selectOptions).indexOf(t);this.selectOption(t,i)}}disable(){this.element.classList.add("disabled"),this.trigger.setAttribute("disabled","true")}enable(){this.element.classList.remove("disabled"),this.trigger.removeAttribute("disabled")}destroy(){this.element.removeEventListener("click",this.toggle),this.element=null}static closeAll(e=null){document.querySelectorAll(".custom-select.open").forEach(t=>{t!==(e==null?void 0:e.element)&&t.classList.remove("open")})}static initAll(e=".custom-select",t={}){let i=[];return document.querySelectorAll(e).forEach(a=>{i.push(new s(a,t))}),i}};document.addEventListener("DOMContentLoaded",()=>{let s=Xe.initAll(".custom-select"),e={orderby:"",perpage:"12",category:""};document.querySelectorAll(".custom-select").forEach(r=>{r.addEventListener("select:change",l=>{let{name:o,value:n,text:d}=l.detail;e[o]=n,console.log("Filter changed:",{name:o,value:n,text:d}),console.log("Current filters:",e),t(e)})});function t(r){let l=new URL(window.location);Object.keys(r).forEach(o=>{r[o]?l.searchParams.set(o,r[o]):l.searchParams.delete(o)}),window.location=l.toString()}function i(r){let l=document.querySelector(".product-grid");fetch(wpAjax.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(de({action:"filter_products"},r))}).then(o=>o.json()).then(o=>{o.success&&(l.innerHTML=o.data.html,updatePagination(o.data.pagination))}).catch(o=>{console.error("Filter error:",o)})}function a(){let r={};return s.forEach(l=>{let o=l.name,n=l.getValue();o&&n&&(r[o]=n)}),r}});typeof Ye!="undefined"&&Ye.exports&&(Ye.exports=Xe);(function(){"use strict";let s=document.querySelectorAll(".manufacturer-tabs .tab-btn"),e=document.querySelectorAll(".manufacturer-tabs .tab-pane");s.length>0&&e.length>0&&(s.forEach(t=>{t.addEventListener("click",function(){let i=this.dataset.tab;s.forEach(a=>a.classList.remove("active")),this.classList.add("active"),e.forEach(a=>{a.classList.remove("active")}),setTimeout(()=>{let a=document.getElementById(i);a&&(a.classList.add("active"),a.scrollIntoView({behavior:"smooth",block:"nearest"}))},100)})}),s.forEach((t,i)=>{t.addEventListener("keydown",function(a){let r;a.key==="ArrowRight"?(a.preventDefault(),r=(i+1)%s.length,s[r].click(),s[r].focus()):a.key==="ArrowLeft"&&(a.preventDefault(),r=(i-1+s.length)%s.length,s[r].click(),s[r].focus())})}))})()});return Ri();})();
/*! Bundled license information:

lozad/dist/lozad.min.js:
  (*! lozad.js - v1.16.0 - 2020-09-06
  * https://github.com/ApoorvSaxena/lozad.js
  * Copyright (c) 2020 Apoorv Saxena; Licensed MIT *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2Fvcy9kaXN0L2Fvcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbG96YWQvZGlzdC9sb3phZC5taW4uanMiLCAiLi4vLi4vc3JjL2pzL2hlbHBlci5qcyIsICIuLi8uLi9zcmMvanMvaGVhZGVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC91dGlscy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvc3dpcGVyLWNvcmUubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc3dpcGVyLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvdmlydHVhbC5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2tleWJvYXJkLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvbW91c2V3aGVlbC5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9uYXZpZ2F0aW9uLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9jbGFzc2VzLXRvLXNlbGVjdG9yLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvcGFnaW5hdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL3Njcm9sbGJhci5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL3BhcmFsbGF4Lm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvem9vbS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2NvbnRyb2xsZXIubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9hMTF5Lm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvaGlzdG9yeS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2hhc2gtbmF2aWdhdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2F1dG9wbGF5Lm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvdGh1bWJzLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZnJlZS1tb2RlLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZ3JpZC5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL21hbmlwdWxhdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LWluaXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWZhZGUubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9lZmZlY3QtY3ViZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY3JlYXRlLXNoYWRvdy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1mbGlwLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWNvdmVyZmxvdy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1jcmVhdGl2ZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1jYXJkcy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2luZGV4Lm1qcyIsICIuLi8uLi9zcmMvanMvc3dpcGVyLmpzIiwgIi4uLy4uL3NyYy9qcy9wcm9kdWN0RGV0YWlsLmpzIiwgIi4uLy4uL3NyYy9qcy9jdXN0b21lcnNEZXRhaWwuanMiLCAiLi4vLi4vc3JjL2pzL21haW4uanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQU9TPXQoKTplLkFPUz10KCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChvKXtpZihuW29dKXJldHVybiBuW29dLmV4cG9ydHM7dmFyIGk9bltvXT17ZXhwb3J0czp7fSxpZDpvLGxvYWRlZDohMX07cmV0dXJuIGVbb10uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsdCksaS5sb2FkZWQ9ITAsaS5leHBvcnRzfXZhciBuPXt9O3JldHVybiB0Lm09ZSx0LmM9bix0LnA9XCJkaXN0L1wiLHQoMCl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgbyBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pJiYoZVtvXT1uW29dKX1yZXR1cm4gZX0scj1uKDEpLGE9KG8ociksbig2KSksdT1vKGEpLGM9big3KSxzPW8oYyksZj1uKDgpLGQ9byhmKSxsPW4oOSkscD1vKGwpLG09bigxMCksYj1vKG0pLHY9bigxMSkseT1vKHYpLGc9bigxNCksaD1vKGcpLHc9W10saz0hMSx4PXtvZmZzZXQ6MTIwLGRlbGF5OjAsZWFzaW5nOlwiZWFzZVwiLGR1cmF0aW9uOjQwMCxkaXNhYmxlOiExLG9uY2U6ITEsc3RhcnRFdmVudDpcIkRPTUNvbnRlbnRMb2FkZWRcIix0aHJvdHRsZURlbGF5Ojk5LGRlYm91bmNlRGVsYXk6NTAsZGlzYWJsZU11dGF0aW9uT2JzZXJ2ZXI6ITF9LGo9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO2lmKGUmJihrPSEwKSxrKXJldHVybiB3PSgwLHkuZGVmYXVsdCkodyx4KSwoMCxiLmRlZmF1bHQpKHcseC5vbmNlKSx3fSxPPWZ1bmN0aW9uKCl7dz0oMCxoLmRlZmF1bHQpKCksaigpfSxNPWZ1bmN0aW9uKCl7dy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zXCIpLGUubm9kZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWFvcy1lYXNpbmdcIiksZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zLWR1cmF0aW9uXCIpLGUubm9kZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWFvcy1kZWxheVwiKX0pfSxTPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09ITB8fFwibW9iaWxlXCI9PT1lJiZwLmRlZmF1bHQubW9iaWxlKCl8fFwicGhvbmVcIj09PWUmJnAuZGVmYXVsdC5waG9uZSgpfHxcInRhYmxldFwiPT09ZSYmcC5kZWZhdWx0LnRhYmxldCgpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKCk9PT0hMH0sXz1mdW5jdGlvbihlKXt4PWkoeCxlKSx3PSgwLGguZGVmYXVsdCkoKTt2YXIgdD1kb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYjtyZXR1cm4gUyh4LmRpc2FibGUpfHx0P00oKTooeC5kaXNhYmxlTXV0YXRpb25PYnNlcnZlcnx8ZC5kZWZhdWx0LmlzU3VwcG9ydGVkKCl8fChjb25zb2xlLmluZm8oJ1xcbiAgICAgIGFvczogTXV0YXRpb25PYnNlcnZlciBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlcixcXG4gICAgICBjb2RlIG11dGF0aW9ucyBvYnNlcnZpbmcgaGFzIGJlZW4gZGlzYWJsZWQuXFxuICAgICAgWW91IG1heSBoYXZlIHRvIGNhbGwgXCJyZWZyZXNoSGFyZCgpXCIgYnkgeW91cnNlbGYuXFxuICAgICcpLHguZGlzYWJsZU11dGF0aW9uT2JzZXJ2ZXI9ITApLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnNldEF0dHJpYnV0ZShcImRhdGEtYW9zLWVhc2luZ1wiLHguZWFzaW5nKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1kdXJhdGlvblwiLHguZHVyYXRpb24pLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnNldEF0dHJpYnV0ZShcImRhdGEtYW9zLWRlbGF5XCIseC5kZWxheSksXCJET01Db250ZW50TG9hZGVkXCI9PT14LnN0YXJ0RXZlbnQmJltcImNvbXBsZXRlXCIsXCJpbnRlcmFjdGl2ZVwiXS5pbmRleE9mKGRvY3VtZW50LnJlYWR5U3RhdGUpPi0xP2ooITApOlwibG9hZFwiPT09eC5zdGFydEV2ZW50P3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKHguc3RhcnRFdmVudCxmdW5jdGlvbigpe2ooITApfSk6ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih4LnN0YXJ0RXZlbnQsZnVuY3Rpb24oKXtqKCEwKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsKDAscy5kZWZhdWx0KShqLHguZGVib3VuY2VEZWxheSwhMCkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwoMCxzLmRlZmF1bHQpKGoseC5kZWJvdW5jZURlbGF5LCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwoMCx1LmRlZmF1bHQpKGZ1bmN0aW9uKCl7KDAsYi5kZWZhdWx0KSh3LHgub25jZSl9LHgudGhyb3R0bGVEZWxheSkpLHguZGlzYWJsZU11dGF0aW9uT2JzZXJ2ZXJ8fGQuZGVmYXVsdC5yZWFkeShcIltkYXRhLWFvc11cIixPKSx3KX07ZS5leHBvcnRzPXtpbml0Ol8scmVmcmVzaDpqLHJlZnJlc2hIYXJkOk99fSxmdW5jdGlvbihlLHQpe30sLCwsLGZ1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LG4pe2Z1bmN0aW9uIG8odCl7dmFyIG49YixvPXY7cmV0dXJuIGI9dj12b2lkIDAsaz10LGc9ZS5hcHBseShvLG4pfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGs9ZSxoPXNldFRpbWVvdXQoZix0KSxNP28oZSk6Z31mdW5jdGlvbiBhKGUpe3ZhciBuPWUtdyxvPWUtayxpPXQtbjtyZXR1cm4gUz9qKGkseS1vKTppfWZ1bmN0aW9uIGMoZSl7dmFyIG49ZS13LG89ZS1rO3JldHVybiB2b2lkIDA9PT13fHxuPj10fHxuPDB8fFMmJm8+PXl9ZnVuY3Rpb24gZigpe3ZhciBlPU8oKTtyZXR1cm4gYyhlKT9kKGUpOnZvaWQoaD1zZXRUaW1lb3V0KGYsYShlKSkpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGg9dm9pZCAwLF8mJmI/byhlKTooYj12PXZvaWQgMCxnKX1mdW5jdGlvbiBsKCl7dm9pZCAwIT09aCYmY2xlYXJUaW1lb3V0KGgpLGs9MCxiPXc9dj1oPXZvaWQgMH1mdW5jdGlvbiBwKCl7cmV0dXJuIHZvaWQgMD09PWg/ZzpkKE8oKSl9ZnVuY3Rpb24gbSgpe3ZhciBlPU8oKSxuPWMoZSk7aWYoYj1hcmd1bWVudHMsdj10aGlzLHc9ZSxuKXtpZih2b2lkIDA9PT1oKXJldHVybiByKHcpO2lmKFMpcmV0dXJuIGg9c2V0VGltZW91dChmLHQpLG8odyl9cmV0dXJuIHZvaWQgMD09PWgmJihoPXNldFRpbWVvdXQoZix0KSksZ312YXIgYix2LHksZyxoLHcsaz0wLE09ITEsUz0hMSxfPSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihzKTtyZXR1cm4gdD11KHQpfHwwLGkobikmJihNPSEhbi5sZWFkaW5nLFM9XCJtYXhXYWl0XCJpbiBuLHk9Uz94KHUobi5tYXhXYWl0KXx8MCx0KTp5LF89XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6XyksbS5jYW5jZWw9bCxtLmZsdXNoPXAsbX1mdW5jdGlvbiBvKGUsdCxvKXt2YXIgcj0hMCxhPSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihzKTtyZXR1cm4gaShvKSYmKHI9XCJsZWFkaW5nXCJpbiBvPyEhby5sZWFkaW5nOnIsYT1cInRyYWlsaW5nXCJpbiBvPyEhby50cmFpbGluZzphKSxuKGUsdCx7bGVhZGluZzpyLG1heFdhaXQ6dCx0cmFpbGluZzphfSl9ZnVuY3Rpb24gaShlKXt2YXIgdD1cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmMoZSk7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiByKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6YyhlKSl9ZnVuY3Rpb24gYShlKXtyZXR1cm5cInN5bWJvbFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpjKGUpKXx8cihlKSYmay5jYWxsKGUpPT1kfWZ1bmN0aW9uIHUoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoYShlKSlyZXR1cm4gZjtpZihpKGUpKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnZhbHVlT2Y/ZS52YWx1ZU9mKCk6ZTtlPWkodCk/dCtcIlwiOnR9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1lLnJlcGxhY2UobCxcIlwiKTt2YXIgbj1tLnRlc3QoZSk7cmV0dXJuIG58fGIudGVzdChlKT92KGUuc2xpY2UoMiksbj8yOjgpOnAudGVzdChlKT9mOitlfXZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHM9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsZj1OYU4sZD1cIltvYmplY3QgU3ltYm9sXVwiLGw9L15cXHMrfFxccyskL2cscD0vXlstK10weFswLTlhLWZdKyQvaSxtPS9eMGJbMDFdKyQvaSxiPS9eMG9bMC03XSskL2ksdj1wYXJzZUludCx5PVwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOmModCkpJiZ0JiZ0Lk9iamVjdD09PU9iamVjdCYmdCxnPVwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZj9cInVuZGVmaW5lZFwiOmMoc2VsZikpJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixoPXl8fGd8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSx3PU9iamVjdC5wcm90b3R5cGUsaz13LnRvU3RyaW5nLHg9TWF0aC5tYXgsaj1NYXRoLm1pbixPPWZ1bmN0aW9uKCl7cmV0dXJuIGguRGF0ZS5ub3coKX07ZS5leHBvcnRzPW99KS5jYWxsKHQsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LG4pe2Z1bmN0aW9uIGkodCl7dmFyIG49YixvPXY7cmV0dXJuIGI9dj12b2lkIDAsTz10LGc9ZS5hcHBseShvLG4pfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIE89ZSxoPXNldFRpbWVvdXQoZix0KSxNP2koZSk6Z31mdW5jdGlvbiB1KGUpe3ZhciBuPWUtdyxvPWUtTyxpPXQtbjtyZXR1cm4gUz94KGkseS1vKTppfWZ1bmN0aW9uIHMoZSl7dmFyIG49ZS13LG89ZS1PO3JldHVybiB2b2lkIDA9PT13fHxuPj10fHxuPDB8fFMmJm8+PXl9ZnVuY3Rpb24gZigpe3ZhciBlPWooKTtyZXR1cm4gcyhlKT9kKGUpOnZvaWQoaD1zZXRUaW1lb3V0KGYsdShlKSkpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGg9dm9pZCAwLF8mJmI/aShlKTooYj12PXZvaWQgMCxnKX1mdW5jdGlvbiBsKCl7dm9pZCAwIT09aCYmY2xlYXJUaW1lb3V0KGgpLE89MCxiPXc9dj1oPXZvaWQgMH1mdW5jdGlvbiBwKCl7cmV0dXJuIHZvaWQgMD09PWg/ZzpkKGooKSl9ZnVuY3Rpb24gbSgpe3ZhciBlPWooKSxuPXMoZSk7aWYoYj1hcmd1bWVudHMsdj10aGlzLHc9ZSxuKXtpZih2b2lkIDA9PT1oKXJldHVybiByKHcpO2lmKFMpcmV0dXJuIGg9c2V0VGltZW91dChmLHQpLGkodyl9cmV0dXJuIHZvaWQgMD09PWgmJihoPXNldFRpbWVvdXQoZix0KSksZ312YXIgYix2LHksZyxoLHcsTz0wLE09ITEsUz0hMSxfPSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihjKTtyZXR1cm4gdD1hKHQpfHwwLG8obikmJihNPSEhbi5sZWFkaW5nLFM9XCJtYXhXYWl0XCJpbiBuLHk9Uz9rKGEobi5tYXhXYWl0KXx8MCx0KTp5LF89XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6XyksbS5jYW5jZWw9bCxtLmZsdXNoPXAsbX1mdW5jdGlvbiBvKGUpe3ZhciB0PVwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6dShlKTtyZXR1cm4hIWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjp1KGUpKX1mdW5jdGlvbiByKGUpe3JldHVyblwic3ltYm9sXCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOnUoZSkpfHxpKGUpJiZ3LmNhbGwoZSk9PWZ9ZnVuY3Rpb24gYShlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihyKGUpKXJldHVybiBzO2lmKG8oZSkpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZj9lLnZhbHVlT2YoKTplO2U9byh0KT90K1wiXCI6dH1pZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShkLFwiXCIpO3ZhciBuPXAudGVzdChlKTtyZXR1cm4gbnx8bS50ZXN0KGUpP2IoZS5zbGljZSgyKSxuPzI6OCk6bC50ZXN0KGUpP3M6K2V9dmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sYz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixzPU5hTixmPVwiW29iamVjdCBTeW1ib2xdXCIsZD0vXlxccyt8XFxzKyQvZyxsPS9eWy0rXTB4WzAtOWEtZl0rJC9pLHA9L14wYlswMV0rJC9pLG09L14wb1swLTddKyQvaSxiPXBhcnNlSW50LHY9XCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6dSh0KSkmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0LHk9XCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP1widW5kZWZpbmVkXCI6dShzZWxmKSkmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGc9dnx8eXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGg9T2JqZWN0LnByb3RvdHlwZSx3PWgudG9TdHJpbmcsaz1NYXRoLm1heCx4PU1hdGgubWluLGo9ZnVuY3Rpb24oKXtyZXR1cm4gZy5EYXRlLm5vdygpfTtlLmV4cG9ydHM9bn0pLmNhbGwodCxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3ZhciB0PXZvaWQgMCxvPXZvaWQgMCxpPXZvaWQgMDtmb3IodD0wO3Q8ZS5sZW5ndGg7dCs9MSl7aWYobz1lW3RdLG8uZGF0YXNldCYmby5kYXRhc2V0LmFvcylyZXR1cm4hMDtpZihpPW8uY2hpbGRyZW4mJm4oby5jaGlsZHJlbikpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbygpe3JldHVybiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyfWZ1bmN0aW9uIGkoKXtyZXR1cm4hIW8oKX1mdW5jdGlvbiByKGUsdCl7dmFyIG49d2luZG93LmRvY3VtZW50LGk9bygpLHI9bmV3IGkoYSk7dT10LHIub2JzZXJ2ZShuLmRvY3VtZW50RWxlbWVudCx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITAscmVtb3ZlZE5vZGVzOiEwfSl9ZnVuY3Rpb24gYShlKXtlJiZlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5hZGRlZE5vZGVzKSxvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUucmVtb3ZlZE5vZGVzKSxpPXQuY29uY2F0KG8pO2lmKG4oaSkpcmV0dXJuIHUoKX0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PWZ1bmN0aW9uKCl7fTt0LmRlZmF1bHQ9e2lzU3VwcG9ydGVkOmkscmVhZHk6cn19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbygpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmF8fFwiXCJ9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxyPS8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaSxhPS8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLHU9LyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLGM9LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtuKHRoaXMsZSl9cmV0dXJuIGkoZSxbe2tleTpcInBob25lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1vKCk7cmV0dXJuISghci50ZXN0KGUpJiYhYS50ZXN0KGUuc3Vic3RyKDAsNCkpKX19LHtrZXk6XCJtb2JpbGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW8oKTtyZXR1cm4hKCF1LnRlc3QoZSkmJiFjLnRlc3QoZS5zdWJzdHIoMCw0KSkpfX0se2tleTpcInRhYmxldFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9iaWxlKCkmJiF0aGlzLnBob25lKCl9fV0pLGV9KCk7dC5kZWZhdWx0PW5ldyBzfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lLm5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hb3Mtb25jZVwiKTt0PmUucG9zaXRpb24/ZS5ub2RlLmNsYXNzTGlzdC5hZGQoXCJhb3MtYW5pbWF0ZVwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbyYmKFwiZmFsc2VcIj09PW98fCFuJiZcInRydWVcIiE9PW8pJiZlLm5vZGUuY2xhc3NMaXN0LnJlbW92ZShcImFvcy1hbmltYXRlXCIpfSxvPWZ1bmN0aW9uKGUsdCl7dmFyIG89d2luZG93LnBhZ2VZT2Zmc2V0LGk9d2luZG93LmlubmVySGVpZ2h0O2UuZm9yRWFjaChmdW5jdGlvbihlLHIpe24oZSxpK28sdCl9KX07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDEyKSxyPW8oaSksYT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxuKXtlLm5vZGUuY2xhc3NMaXN0LmFkZChcImFvcy1pbml0XCIpLGUucG9zaXRpb249KDAsci5kZWZhdWx0KShlLm5vZGUsdC5vZmZzZXQpfSksZX07dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDEzKSxyPW8oaSksYT1mdW5jdGlvbihlLHQpe3ZhciBuPTAsbz0wLGk9d2luZG93LmlubmVySGVpZ2h0LGE9e29mZnNldDplLmdldEF0dHJpYnV0ZShcImRhdGEtYW9zLW9mZnNldFwiKSxhbmNob3I6ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1hbmNob3JcIiksYW5jaG9yUGxhY2VtZW50OmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hb3MtYW5jaG9yLXBsYWNlbWVudFwiKX07c3dpdGNoKGEub2Zmc2V0JiYhaXNOYU4oYS5vZmZzZXQpJiYobz1wYXJzZUludChhLm9mZnNldCkpLGEuYW5jaG9yJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGEuYW5jaG9yKSYmKGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhLmFuY2hvcilbMF0pLG49KDAsci5kZWZhdWx0KShlKS50b3AsYS5hbmNob3JQbGFjZW1lbnQpe2Nhc2VcInRvcC1ib3R0b21cIjpicmVhaztjYXNlXCJjZW50ZXItYm90dG9tXCI6bis9ZS5vZmZzZXRIZWlnaHQvMjticmVhaztjYXNlXCJib3R0b20tYm90dG9tXCI6bis9ZS5vZmZzZXRIZWlnaHQ7YnJlYWs7Y2FzZVwidG9wLWNlbnRlclwiOm4rPWkvMjticmVhaztjYXNlXCJib3R0b20tY2VudGVyXCI6bis9aS8yK2Uub2Zmc2V0SGVpZ2h0O2JyZWFrO2Nhc2VcImNlbnRlci1jZW50ZXJcIjpuKz1pLzIrZS5vZmZzZXRIZWlnaHQvMjticmVhaztjYXNlXCJ0b3AtdG9wXCI6bis9aTticmVhaztjYXNlXCJib3R0b20tdG9wXCI6bis9ZS5vZmZzZXRIZWlnaHQraTticmVhaztjYXNlXCJjZW50ZXItdG9wXCI6bis9ZS5vZmZzZXRIZWlnaHQvMitpfXJldHVybiBhLmFuY2hvclBsYWNlbWVudHx8YS5vZmZzZXR8fGlzTmFOKHQpfHwobz10KSxuK299O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49MDtlJiYhaXNOYU4oZS5vZmZzZXRMZWZ0KSYmIWlzTmFOKGUub2Zmc2V0VG9wKTspdCs9ZS5vZmZzZXRMZWZ0LShcIkJPRFlcIiE9ZS50YWdOYW1lP2Uuc2Nyb2xsTGVmdDowKSxuKz1lLm9mZnNldFRvcC0oXCJCT0RZXCIhPWUudGFnTmFtZT9lLnNjcm9sbFRvcDowKSxlPWUub2Zmc2V0UGFyZW50O3JldHVybnt0b3A6bixsZWZ0OnR9fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW9zXVwiKSxBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZSxmdW5jdGlvbihlKXtyZXR1cm57bm9kZTplfX0pfTt0LmRlZmF1bHQ9bn1dKX0pOyIsICIvKiEgbG96YWQuanMgLSB2MS4xNi4wIC0gMjAyMC0wOS0wNlxuKiBodHRwczovL2dpdGh1Yi5jb20vQXBvb3J2U2F4ZW5hL2xvemFkLmpzXG4qIENvcHlyaWdodCAoYykgMjAyMCBBcG9vcnYgU2F4ZW5hOyBMaWNlbnNlZCBNSVQgKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOnQubG96YWQ9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAgICogRGV0ZWN0IElFIGJyb3dzZXJcbiAgICogQGNvbnN0IHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi92YXIgZz1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50TW9kZSxmPXtyb290TWFyZ2luOlwiMHB4XCIsdGhyZXNob2xkOjAsbG9hZDpmdW5jdGlvbih0KXtpZihcInBpY3R1cmVcIj09PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGU9dC5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpLHI9ITE7bnVsbD09PWUmJihlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikscj0hMCksZyYmdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWllc3JjXCIpJiYoZS5zcmM9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWllc3JjXCIpKSx0LmdldEF0dHJpYnV0ZShcImRhdGEtYWx0XCIpJiYoZS5hbHQ9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFsdFwiKSksciYmdC5hcHBlbmQoZSl9aWYoXCJ2aWRlb1wiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKSYmdC5jaGlsZHJlbil7Zm9yKHZhciBhPXQuY2hpbGRyZW4sbz12b2lkIDAsaT0wO2k8PWEubGVuZ3RoLTE7aSsrKShvPWFbaV0uZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIikpJiYoYVtpXS5zcmM9byk7dC5sb2FkKCl9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBvc3RlclwiKSYmKHQucG9zdGVyPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wb3N0ZXJcIikpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIikmJih0LnNyYz10LmdldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIpKSx0LmdldEF0dHJpYnV0ZShcImRhdGEtc3Jjc2V0XCIpJiZ0LnNldEF0dHJpYnV0ZShcInNyY3NldFwiLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNzZXRcIikpO3ZhciBuPVwiLFwiO2lmKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWRlbGltaXRlclwiKSYmKG49dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtZGVsaW1pdGVyXCIpKSx0LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1pbWFnZVwiKSl0LnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybCgnXCIrdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtaW1hZ2VcIikuc3BsaXQobikuam9pbihcIicpLHVybCgnXCIpK1wiJylcIjtlbHNlIGlmKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWltYWdlLXNldFwiKSl7dmFyIGQ9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtaW1hZ2Utc2V0XCIpLnNwbGl0KG4pLHU9ZFswXS5zdWJzdHIoMCxkWzBdLmluZGV4T2YoXCIgXCIpKXx8ZFswXTsvLyBTdWJzdHJpbmcgYmVmb3JlIC4uLiAxeFxudT0tMT09PXUuaW5kZXhPZihcInVybChcIik/XCJ1cmwoXCIrdStcIilcIjp1LDE9PT1kLmxlbmd0aD90LnN0eWxlLmJhY2tncm91bmRJbWFnZT11OnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwodC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIikrXCJiYWNrZ3JvdW5kLWltYWdlOiBcIit1K1wiOyBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWltYWdlLXNldChcIitkK1wiKTsgYmFja2dyb3VuZC1pbWFnZTogaW1hZ2Utc2V0KFwiK2QrXCIpXCIpfXQuZ2V0QXR0cmlidXRlKFwiZGF0YS10b2dnbGUtY2xhc3NcIikmJnQuY2xhc3NMaXN0LnRvZ2dsZSh0LmdldEF0dHJpYnV0ZShcImRhdGEtdG9nZ2xlLWNsYXNzXCIpKX0sbG9hZGVkOmZ1bmN0aW9uKCl7fX07ZnVuY3Rpb24gQSh0KXt0LnNldEF0dHJpYnV0ZShcImRhdGEtbG9hZGVkXCIsITApfXZhciBtPWZ1bmN0aW9uKHQpe3JldHVyblwidHJ1ZVwiPT09dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxvYWRlZFwiKX0sdj1mdW5jdGlvbih0KXt2YXIgZT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZG9jdW1lbnQ7cmV0dXJuIHQgaW5zdGFuY2VvZiBFbGVtZW50P1t0XTp0IGluc3RhbmNlb2YgTm9kZUxpc3Q/dDplLnF1ZXJ5U2VsZWN0b3JBbGwodCl9O3JldHVybiBmdW5jdGlvbigpe3ZhciByLGEsbz0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCIubG96YWRcIix0PTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxlPU9iamVjdC5hc3NpZ24oe30sZix0KSxpPWUucm9vdCxuPWUucm9vdE1hcmdpbixkPWUudGhyZXNob2xkLHU9ZS5sb2FkLGc9ZS5sb2FkZWQscz12b2lkIDA7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyJiYocz1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKHI9dSxhPWcsZnVuY3Rpb24odCxlKXt0LmZvckVhY2goZnVuY3Rpb24odCl7KDA8dC5pbnRlcnNlY3Rpb25SYXRpb3x8dC5pc0ludGVyc2VjdGluZykmJihlLnVub2JzZXJ2ZSh0LnRhcmdldCksbSh0LnRhcmdldCl8fChyKHQudGFyZ2V0KSxBKHQudGFyZ2V0KSxhKHQudGFyZ2V0KSkpfSl9KSx7cm9vdDppLHJvb3RNYXJnaW46bix0aHJlc2hvbGQ6ZH0pKTtmb3IodmFyIGMsbD12KG8saSksYj0wO2I8bC5sZW5ndGg7YisrKShjPWxbYl0pLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXItYmFja2dyb3VuZFwiKSYmKGMuc3R5bGUuYmFja2dyb3VuZD1jLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXItYmFja2dyb3VuZFwiKSk7cmV0dXJue29ic2VydmU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dihvLGkpLGU9MDtlPHQubGVuZ3RoO2UrKyltKHRbZV0pfHwocz9zLm9ic2VydmUodFtlXSk6KHUodFtlXSksQSh0W2VdKSxnKHRbZV0pKSl9LHRyaWdnZXJMb2FkOmZ1bmN0aW9uKHQpe20odCl8fCh1KHQpLEEodCksZyh0KSl9LG9ic2VydmVyOnN9fX0pO1xuIiwgImV4cG9ydCBmdW5jdGlvbiBzZXRCYWNrZ3JvdW5kRWxlbWVudCgpIHtcbiAgJChcIltzZXRCYWNrZ3JvdW5kXVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmFja2dyb3VuZCA9ICQodGhpcykuYXR0cihcInNldEJhY2tncm91bmRcIik7XG4gICAgJCh0aGlzKS5jc3Moe1xuICAgICAgXCJiYWNrZ3JvdW5kLWltYWdlXCI6IFwidXJsKFwiICsgYmFja2dyb3VuZCArIFwiKVwiLFxuICAgICAgXCJiYWNrZ3JvdW5kLXNpemVcIjogXCJjb3ZlclwiLFxuICAgICAgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IFwiY2VudGVyIGNlbnRlclwiLFxuICAgIH0pO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RDbG9zZUVsZW1lbnQoeyBib3gsIGJ1dHRvbiwgZnVuY0Nsb3NlIH0pIHtcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChcbiAgICAgICEkKGUudGFyZ2V0KS5jbG9zZXN0KGJveCkubGVuZ3RoICYmXG4gICAgICAhJChlLnRhcmdldCkuaXMoYnV0dG9uKSAmJlxuICAgICAgISQoZS50YXJnZXQpLmNsb3Nlc3QoYnV0dG9uKS5sZW5ndGhcbiAgICApIHtcbiAgICAgIGZ1bmNDbG9zZSgpO1xuICAgIH1cbiAgfSk7XG4gIC8vIGVzY1xuICAkKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgZnVuY0Nsb3NlKCk7XG4gICAgfVxuICB9KTtcbiAgLy8gb3ZlcmxheS1ibHVyXG59XG5leHBvcnQgZnVuY3Rpb24gYnV0dG9uVG9Ub3AoKSB7XG4gIGxldCB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICQoZG9jdW1lbnQpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgIGxldCBkb2N1bWVudEhlaWdodCA9ICQoZG9jdW1lbnQpLmhlaWdodCgpO1xuICAgIGlmIChzY3JvbGxUb3AgKyB3aW5kb3dIZWlnaHQgPiBkb2N1bWVudEhlaWdodCAtIHdpbmRvd0hlaWdodCkge1xuICAgICAgJChcIi5idXR0b24tdG8tdG9wXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKFwiLmJ1dHRvbi10by10b3BcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfVxuICB9KTtcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5idXR0b24tdG8tdG9wXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRvZ2dsZUl0ZW0oKSB7XG4gIGNvbnN0IG5vZGVQYXJlbnQgPSAkKFwiLndyYXAtaXRlbS10b2dnbGVcIik7XG4gIGNvbnN0IG5vZGVJdGVtID0gbm9kZVBhcmVudC5maW5kKFwiLml0ZW0tdG9nZ2xlXCIpO1xuICBjb25zdCBub2RlVGl0bGUgPSBub2RlSXRlbS5maW5kKFwiLnRpdGxlXCIpO1xuICBub2RlVGl0bGUub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKVxuICAgICAgLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpXG4gICAgICAubmV4dCgpXG4gICAgICAuc2xpZGVUb2dnbGUoKVxuICAgICAgLmNsb3Nlc3QoXCIuaXRlbS10b2dnbGVcIilcbiAgICAgIC5zaWJsaW5ncygpXG4gICAgICAuZmluZChcIi50aXRsZVwiKVxuICAgICAgLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpXG4gICAgICAubmV4dCgpXG4gICAgICAuc2xpZGVVcCgpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRBY2NvcmRpb24oKSB7XG4gIGNvbnN0ICRhY2NvcmRpb24gPSAkKFwiLmFjY29yZGlvbi1jb250YWluZXJcIik7XG4gIGlmICgkYWNjb3JkaW9uLmxlbmd0aCkge1xuICAgIGNvbnN0ICRpdGVtcyA9ICRhY2NvcmRpb24uZmluZChcIi5hY2NvcmRpb24taXRlbVwiKTtcblxuICAgIC8vIERlc2t0b3AgaG92ZXJcbiAgICAkaXRlbXMub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSAxMDI0KSB7XG4gICAgICAgICRpdGVtcy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIE1vYmlsZSBjbGlja1xuICAgICRpdGVtcy5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwMjQpIHtcbiAgICAgICAgJGl0ZW1zLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogcGFyZW50LCBjaGlsZHJlbiwgaXRlbSwgYnV0dG9uLCBpbml0SXRlbVxuICogQHBhcmFtIHsgcGFyZW50LCBjaGlsZHJlbiwgaXRlbSwgYnV0dG9uLCBpbml0SXRlbX0gbGlzdE5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZ1bmNFeHBhbmRDb250ZW50KGxpc3ROb2RlKSB7XG4gIGNvbnN0IHsgcGFyZW50LCBjaGlsZHJlbiwgaXRlbSwgYnV0dG9uLCBpbml0SXRlbSwgZ2FwID0gMCB9ID0gbGlzdE5vZGU7XG4gIGlmICghJChwYXJlbnQpLmxlbmd0aCkgcmV0dXJuO1xuICBsZXQgaXRlbUhlaWdodCA9ICQoaXRlbSkub3V0ZXJIZWlnaHQoKTtcbiAgbGV0IGdhcENhbGN1bGF0ZSA9IGdhcFxuICAgID8gTnVtYmVyKCQocGFyZW50KS5maW5kKGNoaWxkcmVuKS5jc3MoXCJjb2x1bW4tZ2FwXCIpLnNsaWNlKDAsIC0yKSkgKiBnYXBcbiAgICA6IDA7XG4gIGxldCBpbml0SGVpZ2h0ID0gaXRlbUhlaWdodCAqIGluaXRJdGVtICsgZ2FwQ2FsY3VsYXRlO1xuICBsZXQgb3JpZ2luYWxIZWlnaHQgPSAkKHBhcmVudCkuZmluZChjaGlsZHJlbikub3V0ZXJIZWlnaHQoKTtcbiAgaWYgKG9yaWdpbmFsSGVpZ2h0IDwgaW5pdEhlaWdodCkge1xuICAgICQoYnV0dG9uKS5yZW1vdmUoKTtcbiAgfSBlbHNlIHtcbiAgICAkKHBhcmVudCkuY3NzKFwiaGVpZ2h0XCIsIGluaXRIZWlnaHQpO1xuICB9XG4gICQoYnV0dG9uKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImV4cGFuZFwiKSkge1xuICAgICAgJChwYXJlbnQpLmNzcyhcImhlaWdodFwiLCBpbml0SGVpZ2h0KTtcbiAgICAgICQodGhpcykuZmluZChcInNwYW5cIikudGV4dChcIlhlbSB0aFx1MDBFQW1cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICQocGFyZW50KS5jc3MoXCJoZWlnaHRcIiwgb3JpZ2luYWxIZWlnaHQpO1xuICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBcdCQocGFyZW50KS5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpO1xuICAgICAgLy8gfSwgMTAwMCk7XG4gICAgICAkKHRoaXMpLmZpbmQoXCJzcGFuXCIpLnRleHQoXCJSXHUwMEZBdCBnXHUxRUNEblwiKTtcbiAgICB9XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImV4cGFuZFwiKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlja1Njcm9sbFRvRGl2KG5vZGVFbGUsIGhlaWdodFNwYWNpbmcgPSAoKSA9PiB7fSkge1xuICAkKG5vZGVFbGUpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbGV0IGhlaWdodCA9IDA7XG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgIGlmIChoZWlnaHRTcGFjaW5nKSB7XG4gICAgICBoZWlnaHQgPSBoZWlnaHRTcGFjaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCA9IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLmhhc2ggIT09IFwiXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgaGFzaCA9IHRoaXMuaGFzaDtcbiAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoXG4gICAgICAgIHtcbiAgICAgICAgICBzY3JvbGxUb3A6ICQoaGFzaCkub2Zmc2V0KCkudG9wIC0gaGVpZ2h0LFxuICAgICAgICB9LFxuICAgICAgICA4MDBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZENhcHRjaGFBU1AoKSB7XG4gIGlmICghJChcIiNjdGwwMF9tYWluQ29udGVudF9jdGwwMV9wbmxGb3JtV2l6YXJkXCIpLmxlbmd0aCkgcmV0dXJuO1xuICAvLyBTZWxlY3QgdGhlIGRpdiBlbGVtZW50IHlvdSB3YW50IHRvIG9ic2VydmVcbiAgY29uc3QgbXlEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgIFwiI2N0bDAwX21haW5Db250ZW50X2N0bDAxX3BubEZvcm1XaXphcmRcIlxuICApO1xuICAvLyBDcmVhdGUgYSBuZXcgTXV0YXRpb25PYnNlcnZlciBvYmplY3RcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7XG4gICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlJ1blwiKTtcbiAgICAgIGFwcGVuZENhcHRjaGEoKTtcbiAgICB9KTtcbiAgfSk7XG4gIC8vIENvbmZpZ3VyZSB0aGUgb2JzZXJ2ZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIHRvIHRoZSBcImNsYXNzXCIgYXR0cmlidXRlXG4gIGNvbnN0IGNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlIH07XG4gIC8vIFN0YXJ0IG9ic2VydmluZyB0aGUgdGFyZ2V0IGRpdiBlbGVtZW50XG4gIG9ic2VydmVyLm9ic2VydmUobXlEaXYsIGNvbmZpZyk7XG4gIGZ1bmN0aW9uIGFwcGVuZENhcHRjaGEoKSB7XG4gICAgJChcIi5mb3JtLWdyb3VwLmZybS1jYXB0Y2hhXCIpLmFwcGVuZFRvKFwiLndyYXAtZm9ybS1zdWJtaXRcIik7XG4gICAgJChcIi5mb3JtLWdyb3VwLmZybS1idG53cmFwXCIpLmFwcGVuZFRvKFwiLndyYXAtZm9ybS1zdWJtaXRcIik7XG4gIH1cbiAgYXBwZW5kQ2FwdGNoYSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VTdmdJbWFnZXMoKSB7XG4gICQoXCIuaW1nLXN2Z1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCAkaW1nID0gJCh0aGlzKTtcbiAgICBjb25zdCBpbWdVUkwgPSAkaW1nLmF0dHIoXCJzcmNcIik7XG4gICAgY29uc3QgaW1nQ2xhc3MgPSAkaW1nLmF0dHIoXCJjbGFzc1wiKTtcbiAgICBjb25zdCBpbWdXaWR0aCA9ICRpbWcuYXR0cihcIndpZHRoXCIpO1xuICAgIGNvbnN0IGltZ0hlaWdodCA9ICRpbWcuYXR0cihcImhlaWdodFwiKTtcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6IGltZ1VSTCxcbiAgICAgIGRhdGFUeXBlOiBcInRleHRcIixcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdmdDb250ZW50KSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBkaXYgdG8gaG9sZCB0aGUgU1ZHIGNvbnRlbnRcbiAgICAgICAgY29uc3QgJHN2Z0RpdiA9ICQoXCI8ZGl2PlwiKS5odG1sKHN2Z0NvbnRlbnQpO1xuICAgICAgICBjb25zdCAkc3ZnID0gJHN2Z0Rpdi5maW5kKFwic3ZnXCIpO1xuXG4gICAgICAgIC8vIEFwcGx5IG9yaWdpbmFsIGltYWdlIGF0dHJpYnV0ZXMgdG8gU1ZHXG4gICAgICAgIGlmIChpbWdDbGFzcykge1xuICAgICAgICAgICRzdmcuYWRkQ2xhc3MoaW1nQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgaW1hZ2Ugd2l0aCB0aGUgU1ZHXG4gICAgICAgICRpbWcucmVwbGFjZVdpdGgoJHN2Zyk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgU1ZHOlwiLCBlcnJvcik7XG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbmRpY2F0b3JTbGlkZSgpIHtcbiAgaWYgKCQoXCIuaW5kaWNhdG9yLXN3aXBlXCIpLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgICB2YXIgYW5pbWF0aW9uSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmluZGljYXRvci1zd2lwZVwiKTtcbiAgICBhbmltYXRpb25JdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFVwSW5pdCgpIHtcbiAgY29uc3QgY291bnRVcEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb3VudHVwXCIpO1xuICBsZXQgY291bnRVcDtcbiAgY291bnRVcEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB0YXJnZXROdW1iZXIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbnVtYmVyXCIpO1xuICAgIC8vIENoZWNrIGlmIG51bWJlciBpcyBkZWNpbWFsIHZhbHVlc1xuICAgIGNvbnN0IGlzX2RlY2ltYWwgPSB0YXJnZXROdW1iZXI/LmluY2x1ZGVzKFwiLlwiKTtcbiAgICBjb3VudFVwID0gbmV3IENvdW50VXAoZWxlbWVudCwgdGFyZ2V0TnVtYmVyLCB7XG4gICAgICBkdXJhdGlvbjogNCxcbiAgICAgIHNlcGFyYXRvcjogXCIuXCIsXG4gICAgICBkZWNpbWFsOiBcIixcIixcbiAgICAgIGVuYWJsZVNjcm9sbFNweTogdHJ1ZSxcbiAgICAgIGRlY2ltYWxQbGFjZXM6IGlzX2RlY2ltYWwgPyAyIDogMCxcbiAgICB9KTtcbiAgICBpZiAoIWNvdW50VXAuZXJyb3IpIHtcbiAgICAgIGNvdW50VXAuc3RhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihjb3VudFVwLmVycm9yKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICBjb3VudFVwLnJlc2V0KCk7XG4gICAgfSxcbiAgICBzdGFydDogKCkgPT4ge1xuICAgICAgY291bnRVcC5zdGFydCgpO1xuICAgIH0sXG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RpY2tFbGVtZW50VG9FZGdlKCkge1xuICB2YXIgdGFyZ2V0ID0gJChcIltzdGljay10by1lZGdlXVwiKTtcbiAgdGFyZ2V0LmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICBjb25zdCBlZGdlUG9zaXRpb24gPSAkdGhpcy5hdHRyKFwiZWRnZS1wbGFjZW1lbnRcIikgPyBcImlubmVyXCIgOiBcInNjcmVlblwiO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gJHRoaXMuYXR0cihcInN0aWNrLXRvLWVkZ2VcIik7XG4gICAgY29uc3QgdW5zdGljayA9ICR0aGlzLmF0dHIoXCJ1bnN0aWNrLW1pblwiKSB8fCAxMjAwO1xuICAgIGxldCBvZmZzZXQgPSAoJCh3aW5kb3cpLndpZHRoKCkgLSAkKFwiLmRlZmF1bHQtY29udGFpbmVyLWpzXCIpLndpZHRoKCkpIC8gMjtcbiAgICBpZiAoZWRnZVBvc2l0aW9uID09PSBcImlubmVyXCIpIHtcbiAgICAgIGlmIChcbiAgICAgICAgJHRoaXMuY2xvc2VzdChcIi5jb250YWluZXJcIikgJiZcbiAgICAgICAgJHRoaXMuY2xvc2VzdChcIi5jb250YWluZXJcIikuY2xvc2VzdChcIi5jb250YWluZXItZmx1aWRcIilcbiAgICAgICkge1xuICAgICAgICBjb25zdCBuZXdPZmZzZXQgPSBNYXRoLmFicyhcbiAgICAgICAgICAkKFwiLndpZGUtY29udGFpbmVyLWpzXCIpLm9mZnNldCgpLmxlZnQgLVxuICAgICAgICAgICAgJChcIi5kZWZhdWx0LWNvbnRhaW5lci1qc1wiKS5vZmZzZXQoKS5sZWZ0XG4gICAgICAgICk7XG4gICAgICAgIG9mZnNldCA9IG5ld09mZnNldDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uID09PSBcImxlZnRcIikge1xuICAgICAgJHRoaXMuY3NzKHtcbiAgICAgICAgXCJtYXJnaW4tbGVmdFwiOiBgLSR7b2Zmc2V0fXB4YCxcbiAgICAgICAgXCItLW1sXCI6IGAke01hdGguYWJzKG9mZnNldCl9YCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgJHRoaXMuY3NzKHtcbiAgICAgICAgXCJtYXJnaW4tcmlnaHRcIjogYC0ke29mZnNldH1weGAsXG4gICAgICAgIFwiLS1tclwiOiBgJHtNYXRoLmFicyhvZmZzZXQpfWAsXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgdW5zdGljaykge1xuICAgICAgJHRoaXMucmVtb3ZlQXR0cihcInN0eWxlXCIpO1xuICAgICAgJHRoaXMuY3NzKHtcbiAgICAgICAgXCItLW1sXCI6IFwiMFwiLFxuICAgICAgICBcIi0tbXJcIjogXCIwXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lbnVTcHkoKSB7XG4gIHZhciBlbG0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21lbnUtc3B5XCIpO1xuICBsZXQgZGVib3VuY2VUaW1lcjtcbiAgbGV0IGlzQWN0aXZlID0gZmFsc2U7XG5cbiAgdmFyIG1zID0gbmV3IE1lbnVTcHkoZWxtLCB7XG4gICAgYWN0aXZlQ2xhc3M6IFwiYWN0aXZlXCIsXG4gICAgdGhyZXNob2xkOiAzMDAsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChjdXJyZW50SXRlbSkge1xuICAgICAgY29uc3Qgbm9kZVBhcmVudCA9ICQoXCIuc2VjdGlvbi1zY3JvbGxUby1hY3RpdmVcIik7XG4gICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lcik7XG4gICAgICBpc0FjdGl2ZSA9IHRydWU7XG4gICAgICBkZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQobm9kZVBhcmVudCkuc2Nyb2xsVG8oXCJsaS5hY3RpdmVcIiwgODAwKTtcbiAgICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH0sXG4gIH0pO1xufVxuIiwgImV4cG9ydCBjb25zdCBoZWFkZXIgPSB7XHJcbiAgaW5pdDogKCkgPT4ge1xyXG4gICAgY29uc3QgaGVhZGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcclxuICAgIGlmICghaGVhZGVyRWwpIHJldHVybjtcclxuICAgIGNvbnN0IGRlc2t0b3BNZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICBcIi5oZWFkZXIgLmhlYWRlci13cmFwcGVyIC5tZW51IGxpLmhhcy1zdWJcIlxyXG4gICAgKTtcclxuICAgIGxldCBsYXN0U2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgIC8vIFN0aWNreSBIZWFkZXJcclxuICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudFNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgICAgIC8vIFN0aWNreSBoZWFkZXJcclxuICAgICAgaWYgKGN1cnJlbnRTY3JvbGxZID4gMCkge1xyXG4gICAgICAgIGhlYWRlckVsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVhZGVyRWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gXHVEODNEXHVEQzQ5IFNjcm9sbCBVUCBcdTIxOTIgY2xvc2UgZGVza3RvcCBzdWJtZW51XHJcbiAgICAgIGlmIChjdXJyZW50U2Nyb2xsWSA+IGxhc3RTY3JvbGxZICYmIHdpbmRvdy5pbm5lcldpZHRoID49IDEwMjQpIHtcclxuICAgICAgICBkZXNrdG9wTWVudUl0ZW1zLmZvckVhY2goKGl0ZW0pID0+XHJcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLXN1Ym1lbnVcIilcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsYXN0U2Nyb2xsWSA9IGN1cnJlbnRTY3JvbGxZO1xyXG4gICAgfTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCk7XHJcbiAgICBoYW5kbGVTY3JvbGwoKTtcclxuICAgIC8vIE1vYmlsZSBNZW51IFRvZ2dsZVxyXG4gICAgY29uc3QgaGFtYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItaGFtYnVnZXJcIik7XHJcbiAgICBjb25zdCBtb2JpbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtbWVudVwiKTtcclxuXHJcbiAgICBpZiAoaGFtYnVyZ2VyICYmIG1vYmlsZU1lbnUpIHtcclxuICAgICAgaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1vYmlsZU1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAvLyBDbG9zZVxyXG4gICAgICAgICAgaGFtYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICBtb2JpbGVNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJvdmVyZmxvdy1oaWRkZW5cIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE9wZW5cclxuICAgICAgICAgIGhhbWJ1cmdlci5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgbW9iaWxlTWVudS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwib3ZlcmZsb3ctaGlkZGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVza3RvcE1lbnVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpbmsgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpO1xyXG4gICAgICBpZiAobGluaykge1xyXG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gMTAyNCkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzT3BlbiA9IGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwib3Blbi1zdWJtZW51XCIpO1xyXG4gICAgICAgICAgICAvLyBDbG9zZSBvdGhlcnNcclxuICAgICAgICAgICAgZGVza3RvcE1lbnVJdGVtcy5mb3JFYWNoKChvdGhlcikgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChvdGhlciAhPT0gaXRlbSkgb3RoZXIuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tc3VibWVudVwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFRvZ2dsZVxyXG4gICAgICAgICAgICBpZiAoaXNPcGVuKSBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLXN1Ym1lbnVcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaXRlbS5jbGFzc0xpc3QuYWRkKFwib3Blbi1zdWJtZW51XCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNb2JpbGUgU3VibWVudSBMb2dpYyAoQWNjb3JkaW9uKVxyXG4gICAgY29uc3QgbW9iaWxlU3ViVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICBcIi5tb2JpbGUtbWVudSAuaGFzLXN1YiA+IGRpdiA+IGksIC5tb2JpbGUtbWVudSAuaGFzLXN1Yi0yID4gZGl2ID4gaVwiXHJcbiAgICApO1xyXG5cclxuICAgIG1vYmlsZVN1YlRyaWdnZXJzLmZvckVhY2goKHRyaWdnZXIpID0+IHtcclxuICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50TGkgPSB0cmlnZ2VyLmNsb3Nlc3QoXCJsaVwiKTtcclxuICAgICAgICBjb25zdCBzdWJtZW51ID0gcGFyZW50TGkucXVlcnlTZWxlY3RvcihcIi5zdWJtZW51LCAuc3VibWVudS0yXCIpO1xyXG5cclxuICAgICAgICBpZiAoc3VibWVudSkge1xyXG4gICAgICAgICAgcGFyZW50TGkuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIHNsaWRlVG9nZ2xlKHN1Ym1lbnUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDbGljayBPdXRzaWRlIChEZXNrdG9wKVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwMjQpIHJldHVybjtcclxuICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KFwiLmhlYWRlciAubWVudVwiKSkge1xyXG4gICAgICAgIGRlc2t0b3BNZW51SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT5cclxuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tc3VibWVudVwiKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIExhbmd1YWdlIERyb3Bkb3duXHJcbiAgICBjb25zdCBsYW5nVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyIC50b29scyAubGFuZ3VhZ2VcIik7XHJcblxyXG4gICAgaWYgKGxhbmdUcmlnZ2VyKSB7XHJcbiAgICAgIGxhbmdUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQgaW1tZWRpYXRlIGNsb3NpbmdcclxuICAgICAgICBsYW5nVHJpZ2dlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmICghbGFuZ1RyaWdnZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XHJcbiAgICAgICAgICBsYW5nVHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VhcmNoIFRvZ2dsZVxyXG4gICAgY29uc3Qgc2VhcmNoVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyIC50b29scyAuc2VhcmNoXCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLXNlYXJjaC1mb3JtXCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5oZWFkZXItc2VhcmNoLWZvcm0gLmNsb3NlLXNlYXJjaFwiXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChzZWFyY2hUcmlnZ2VyICYmIHNlYXJjaE92ZXJsYXkpIHtcclxuICAgICAgc2VhcmNoVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHNlYXJjaE92ZXJsYXkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJvdmVyZmxvdy1oaWRkZW5cIik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHNlYXJjaENsb3NlKSB7XHJcbiAgICAgICAgc2VhcmNoQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgIHNlYXJjaE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJmbG93LWhpZGRlblwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2xvc2Ugd2hlbiBjbGlja2luZyBvdXRzaWRlIHRoZSBmb3JtXHJcbiAgICAgIHNlYXJjaE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBzZWFyY2hPdmVybGF5KSB7XHJcbiAgICAgICAgICBzZWFyY2hPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJvdmVyZmxvdy1oaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIENsb3NlIG9uIEVzY2FwZSBrZXlcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIgJiYgc2VhcmNoT3ZlcmxheS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgIHNlYXJjaE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJmbG93LWhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZm9yIHNtb290aCBzbGlkZSBhbmltYXRpb25cclxuY29uc3Qgc2xpZGVUb2dnbGUgPSAodGFyZ2V0LCBkdXJhdGlvbiA9IDMwMCkgPT4ge1xyXG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XHJcbiAgICByZXR1cm4gc2xpZGVEb3duKHRhcmdldCwgZHVyYXRpb24pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gc2xpZGVVcCh0YXJnZXQsIGR1cmF0aW9uKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBzbGlkZVVwID0gKHRhcmdldCwgZHVyYXRpb24gPSAzMDApID0+IHtcclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJoZWlnaHQsIG1hcmdpbiwgcGFkZGluZ1wiO1xyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArIFwibXNcIjtcclxuICB0YXJnZXQuc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCI7XHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQgKyBcInB4XCI7XHJcbiAgdGFyZ2V0Lm9mZnNldEhlaWdodDsgLy8gZm9yY2UgcmVwYWludFxyXG4gIHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nQm90dG9tID0gMDtcclxuICB0YXJnZXQuc3R5bGUubWFyZ2luVG9wID0gMDtcclxuICB0YXJnZXQuc3R5bGUubWFyZ2luQm90dG9tID0gMDtcclxuICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICB0YXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwicGFkZGluZy10b3BcIik7XHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJwYWRkaW5nLWJvdHRvbVwiKTtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcIm1hcmdpbi10b3BcIik7XHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJtYXJnaW4tYm90dG9tXCIpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwib3ZlcmZsb3dcIik7XHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiKTtcclxuICB9LCBkdXJhdGlvbik7XHJcbn07XHJcblxyXG5jb25zdCBzbGlkZURvd24gPSAodGFyZ2V0LCBkdXJhdGlvbiA9IDMwMCkgPT4ge1xyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImRpc3BsYXlcIik7XHJcbiAgbGV0IGRpc3BsYXkgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXk7XHJcbiAgaWYgKGRpc3BsYXkgPT09IFwibm9uZVwiKSBkaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcclxuICBsZXQgaGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuICB0YXJnZXQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSAwO1xyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpblRvcCA9IDA7XHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDA7XHJcbiAgdGFyZ2V0Lm9mZnNldEhlaWdodDsgLy8gZm9yY2UgcmVwYWludFxyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSBcImhlaWdodCwgbWFyZ2luLCBwYWRkaW5nXCI7XHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgXCJtc1wiO1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwicGFkZGluZy10b3BcIik7XHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwicGFkZGluZy1ib3R0b21cIik7XHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibWFyZ2luLXRvcFwiKTtcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJtYXJnaW4tYm90dG9tXCIpO1xyXG4gIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKTtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcIm92ZXJmbG93XCIpO1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidHJhbnNpdGlvbi1kdXJhdGlvblwiKTtcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRyYW5zaXRpb24tcHJvcGVydHlcIik7XHJcbiAgfSwgZHVyYXRpb24pO1xyXG59O1xyXG4iLCAiLyoqXG4gKiBTU1IgV2luZG93IDQuMC4yXG4gKiBCZXR0ZXIgaGFuZGxpbmcgZm9yIHdpbmRvdyBvYmplY3QgaW4gU1NSIGVudmlyb25tZW50XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9saW1pdHM0d2ViL3Nzci13aW5kb3dcbiAqXG4gKiBDb3B5cmlnaHQgMjAyMSwgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVRcbiAqXG4gKiBSZWxlYXNlZCBvbjogRGVjZW1iZXIgMTMsIDIwMjFcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICdjb25zdHJ1Y3RvcicgaW4gb2JqICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc3JjKSB7XG4gIGlmICh0YXJnZXQgPT09IHZvaWQgMCkge1xuICAgIHRhcmdldCA9IHt9O1xuICB9XG4gIGlmIChzcmMgPT09IHZvaWQgMCkge1xuICAgIHNyYyA9IHt9O1xuICB9XG4gIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gPT09ICd1bmRlZmluZWQnKSB0YXJnZXRba2V5XSA9IHNyY1trZXldO2Vsc2UgaWYgKGlzT2JqZWN0KHNyY1trZXldKSAmJiBpc09iamVjdCh0YXJnZXRba2V5XSkgJiYgT2JqZWN0LmtleXMoc3JjW2tleV0pLmxlbmd0aCA+IDApIHtcbiAgICAgIGV4dGVuZCh0YXJnZXRba2V5XSwgc3JjW2tleV0pO1xuICAgIH1cbiAgfSk7XG59XG5jb25zdCBzc3JEb2N1bWVudCA9IHtcbiAgYm9keToge30sXG4gIGFkZEV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHt9LFxuICBhY3RpdmVFbGVtZW50OiB7XG4gICAgYmx1cigpIHt9LFxuICAgIG5vZGVOYW1lOiAnJ1xuICB9LFxuICBxdWVyeVNlbGVjdG9yKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBxdWVyeVNlbGVjdG9yQWxsKCkge1xuICAgIHJldHVybiBbXTtcbiAgfSxcbiAgZ2V0RWxlbWVudEJ5SWQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGNyZWF0ZUV2ZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbml0RXZlbnQoKSB7fVxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIGNoaWxkTm9kZXM6IFtdLFxuICAgICAgc3R5bGU6IHt9LFxuICAgICAgc2V0QXR0cmlidXRlKCkge30sXG4gICAgICBnZXRFbGVtZW50c0J5VGFnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnROUygpIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG4gIGltcG9ydE5vZGUoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGxvY2F0aW9uOiB7XG4gICAgaGFzaDogJycsXG4gICAgaG9zdDogJycsXG4gICAgaG9zdG5hbWU6ICcnLFxuICAgIGhyZWY6ICcnLFxuICAgIG9yaWdpbjogJycsXG4gICAgcGF0aG5hbWU6ICcnLFxuICAgIHByb3RvY29sOiAnJyxcbiAgICBzZWFyY2g6ICcnXG4gIH1cbn07XG5mdW5jdGlvbiBnZXREb2N1bWVudCgpIHtcbiAgY29uc3QgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDoge307XG4gIGV4dGVuZChkb2MsIHNzckRvY3VtZW50KTtcbiAgcmV0dXJuIGRvYztcbn1cbmNvbnN0IHNzcldpbmRvdyA9IHtcbiAgZG9jdW1lbnQ6IHNzckRvY3VtZW50LFxuICBuYXZpZ2F0b3I6IHtcbiAgICB1c2VyQWdlbnQ6ICcnXG4gIH0sXG4gIGxvY2F0aW9uOiB7XG4gICAgaGFzaDogJycsXG4gICAgaG9zdDogJycsXG4gICAgaG9zdG5hbWU6ICcnLFxuICAgIGhyZWY6ICcnLFxuICAgIG9yaWdpbjogJycsXG4gICAgcGF0aG5hbWU6ICcnLFxuICAgIHByb3RvY29sOiAnJyxcbiAgICBzZWFyY2g6ICcnXG4gIH0sXG4gIGhpc3Rvcnk6IHtcbiAgICByZXBsYWNlU3RhdGUoKSB7fSxcbiAgICBwdXNoU3RhdGUoKSB7fSxcbiAgICBnbygpIHt9LFxuICAgIGJhY2soKSB7fVxuICB9LFxuICBDdXN0b21FdmVudDogZnVuY3Rpb24gQ3VzdG9tRXZlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGFkZEV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHt9LFxuICBnZXRDb21wdXRlZFN0eWxlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBnZXRQcm9wZXJ0eVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgSW1hZ2UoKSB7fSxcbiAgRGF0ZSgpIHt9LFxuICBzY3JlZW46IHt9LFxuICBzZXRUaW1lb3V0KCkge30sXG4gIGNsZWFyVGltZW91dCgpIHt9LFxuICBtYXRjaE1lZGlhKCkge1xuICAgIHJldHVybiB7fTtcbiAgfSxcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gIH0sXG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKSB7XG4gICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQoaWQpO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0V2luZG93KCkge1xuICBjb25zdCB3aW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuICBleHRlbmQod2luLCBzc3JXaW5kb3cpO1xuICByZXR1cm4gd2luO1xufVxuXG5leHBvcnQgeyBnZXRXaW5kb3cgYXMgYSwgZ2V0RG9jdW1lbnQgYXMgZyB9O1xuIiwgImltcG9ydCB7IGEgYXMgZ2V0V2luZG93LCBnIGFzIGdldERvY3VtZW50IH0gZnJvbSAnLi9zc3Itd2luZG93LmVzbS5tanMnO1xuXG5mdW5jdGlvbiBjbGFzc2VzVG9Ub2tlbnMoY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9ICcnO1xuICB9XG4gIHJldHVybiBjbGFzc2VzLnRyaW0oKS5zcGxpdCgnICcpLmZpbHRlcihjID0+ICEhYy50cmltKCkpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9wcyhvYmopIHtcbiAgY29uc3Qgb2JqZWN0ID0gb2JqO1xuICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goa2V5ID0+IHtcbiAgICB0cnkge1xuICAgICAgb2JqZWN0W2tleV0gPSBudWxsO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIG5vIGdldHRlciBmb3Igb2JqZWN0XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBkZWxldGUgb2JqZWN0W2tleV07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc29tZXRoaW5nIGdvdCB3cm9uZ1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBuZXh0VGljayhjYWxsYmFjaywgZGVsYXkpIHtcbiAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICBkZWxheSA9IDA7XG4gIH1cbiAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbn1cbmZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIERhdGUubm93KCk7XG59XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgc3R5bGU7XG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICB9XG4gIGlmICghc3R5bGUgJiYgZWwuY3VycmVudFN0eWxlKSB7XG4gICAgc3R5bGUgPSBlbC5jdXJyZW50U3R5bGU7XG4gIH1cbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gZWwuc3R5bGU7XG4gIH1cbiAgcmV0dXJuIHN0eWxlO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlKGVsLCBheGlzKSB7XG4gIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICBheGlzID0gJ3gnO1xuICB9XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgbWF0cml4O1xuICBsZXQgY3VyVHJhbnNmb3JtO1xuICBsZXQgdHJhbnNmb3JtTWF0cml4O1xuICBjb25zdCBjdXJTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpO1xuICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkge1xuICAgIGN1clRyYW5zZm9ybSA9IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS53ZWJraXRUcmFuc2Zvcm07XG4gICAgaWYgKGN1clRyYW5zZm9ybS5zcGxpdCgnLCcpLmxlbmd0aCA+IDYpIHtcbiAgICAgIGN1clRyYW5zZm9ybSA9IGN1clRyYW5zZm9ybS5zcGxpdCgnLCAnKS5tYXAoYSA9PiBhLnJlcGxhY2UoJywnLCAnLicpKS5qb2luKCcsICcpO1xuICAgIH1cbiAgICAvLyBTb21lIG9sZCB2ZXJzaW9ucyBvZiBXZWJraXQgY2hva2Ugd2hlbiAnbm9uZScgaXMgcGFzc2VkOyBwYXNzXG4gICAgLy8gZW1wdHkgc3RyaW5nIGluc3RlYWQgaW4gdGhpcyBjYXNlXG4gICAgdHJhbnNmb3JtTWF0cml4ID0gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoY3VyVHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IGN1clRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNmb3JtTWF0cml4ID0gY3VyU3R5bGUuTW96VHJhbnNmb3JtIHx8IGN1clN0eWxlLk9UcmFuc2Zvcm0gfHwgY3VyU3R5bGUuTXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUubXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUudHJhbnNmb3JtIHx8IGN1clN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpLnJlcGxhY2UoJ3RyYW5zbGF0ZSgnLCAnbWF0cml4KDEsIDAsIDAsIDEsJyk7XG4gICAgbWF0cml4ID0gdHJhbnNmb3JtTWF0cml4LnRvU3RyaW5nKCkuc3BsaXQoJywnKTtcbiAgfVxuICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MTtcbiAgICAvLyBDcmF6eSBJRTEwIE1hdHJpeFxuICAgIGVsc2UgaWYgKG1hdHJpeC5sZW5ndGggPT09IDE2KSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFsxMl0pO1xuICAgIC8vIE5vcm1hbCBCcm93c2Vyc1xuICAgIGVsc2UgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbNF0pO1xuICB9XG4gIGlmIChheGlzID09PSAneScpIHtcbiAgICAvLyBMYXRlc3QgQ2hyb21lIGFuZCB3ZWJraXRzIEZpeFxuICAgIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSBjdXJUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1NYXRyaXgubTQyO1xuICAgIC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgZWxzZSBpZiAobWF0cml4Lmxlbmd0aCA9PT0gMTYpIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzEzXSk7XG4gICAgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs1XSk7XG4gIH1cbiAgcmV0dXJuIGN1clRyYW5zZm9ybSB8fCAwO1xufVxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG8gIT09IG51bGwgJiYgby5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jztcbn1cbmZ1bmN0aW9uIGlzTm9kZShub2RlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9XG4gIHJldHVybiBub2RlICYmIChub2RlLm5vZGVUeXBlID09PSAxIHx8IG5vZGUubm9kZVR5cGUgPT09IDExKTtcbn1cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgY29uc3QgdG8gPSBPYmplY3QoYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdKTtcbiAgY29uc3Qgbm9FeHRlbmQgPSBbJ19fcHJvdG9fXycsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBuZXh0U291cmNlID0gaSA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBpID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2ldO1xuICAgIGlmIChuZXh0U291cmNlICE9PSB1bmRlZmluZWQgJiYgbmV4dFNvdXJjZSAhPT0gbnVsbCAmJiAhaXNOb2RlKG5leHRTb3VyY2UpKSB7XG4gICAgICBjb25zdCBrZXlzQXJyYXkgPSBPYmplY3Qua2V5cyhPYmplY3QobmV4dFNvdXJjZSkpLmZpbHRlcihrZXkgPT4gbm9FeHRlbmQuaW5kZXhPZihrZXkpIDwgMCk7XG4gICAgICBmb3IgKGxldCBuZXh0SW5kZXggPSAwLCBsZW4gPSBrZXlzQXJyYXkubGVuZ3RoOyBuZXh0SW5kZXggPCBsZW47IG5leHRJbmRleCArPSAxKSB7XG4gICAgICAgIGNvbnN0IG5leHRLZXkgPSBrZXlzQXJyYXlbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSwgbmV4dEtleSk7XG4gICAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2VbbmV4dEtleV0uX19zd2lwZXJfXykge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHRlbmQodG9bbmV4dEtleV0sIG5leHRTb3VyY2VbbmV4dEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSB7fTtcbiAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdG87XG59XG5mdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eShlbCwgdmFyTmFtZSwgdmFyVmFsdWUpIHtcbiAgZWwuc3R5bGUuc2V0UHJvcGVydHkodmFyTmFtZSwgdmFyVmFsdWUpO1xufVxuZnVuY3Rpb24gYW5pbWF0ZUNTU01vZGVTY3JvbGwoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICB0YXJnZXRQb3NpdGlvbixcbiAgICBzaWRlXG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IC1zd2lwZXIudHJhbnNsYXRlO1xuICBsZXQgc3RhcnRUaW1lID0gbnVsbDtcbiAgbGV0IHRpbWU7XG4gIGNvbnN0IGR1cmF0aW9uID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICdub25lJztcbiAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHN3aXBlci5jc3NNb2RlRnJhbWVJRCk7XG4gIGNvbnN0IGRpciA9IHRhcmdldFBvc2l0aW9uID4gc3RhcnRQb3NpdGlvbiA/ICduZXh0JyA6ICdwcmV2JztcbiAgY29uc3QgaXNPdXRPZkJvdW5kID0gKGN1cnJlbnQsIHRhcmdldCkgPT4ge1xuICAgIHJldHVybiBkaXIgPT09ICduZXh0JyAmJiBjdXJyZW50ID49IHRhcmdldCB8fCBkaXIgPT09ICdwcmV2JyAmJiBjdXJyZW50IDw9IHRhcmdldDtcbiAgfTtcbiAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgc3RhcnRUaW1lID0gdGltZTtcbiAgICB9XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbiwgMSksIDApO1xuICAgIGNvbnN0IGVhc2VQcm9ncmVzcyA9IDAuNSAtIE1hdGguY29zKHByb2dyZXNzICogTWF0aC5QSSkgLyAyO1xuICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uICsgZWFzZVByb2dyZXNzICogKHRhcmdldFBvc2l0aW9uIC0gc3RhcnRQb3NpdGlvbik7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZChjdXJyZW50UG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSkge1xuICAgICAgY3VycmVudFBvc2l0aW9uID0gdGFyZ2V0UG9zaXRpb247XG4gICAgfVxuICAgIHN3aXBlci53cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgW3NpZGVdOiBjdXJyZW50UG9zaXRpb25cbiAgICB9KTtcbiAgICBpZiAoaXNPdXRPZkJvdW5kKGN1cnJlbnRQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJyc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgICBbc2lkZV06IGN1cnJlbnRQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHN3aXBlci5jc3NNb2RlRnJhbWVJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXBlci5jc3NNb2RlRnJhbWVJRCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIH07XG4gIGFuaW1hdGUoKTtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCkge1xuICByZXR1cm4gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybScpIHx8IHNsaWRlRWwuc2hhZG93Um9vdCAmJiBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSB8fCBzbGlkZUVsO1xufVxuZnVuY3Rpb24gZWxlbWVudENoaWxkcmVuKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIGlmIChzZWxlY3RvciA9PT0gdm9pZCAwKSB7XG4gICAgc2VsZWN0b3IgPSAnJztcbiAgfVxuICByZXR1cm4gWy4uLmVsZW1lbnQuY2hpbGRyZW5dLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKHNlbGVjdG9yKSk7XG59XG5mdW5jdGlvbiBzaG93V2FybmluZyh0ZXh0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS53YXJuKHRleHQpO1xuICAgIHJldHVybjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gZXJyXG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gW107XG4gIH1cbiAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoLi4uKEFycmF5LmlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlc1RvVG9rZW5zKGNsYXNzZXMpKSk7XG4gIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRPZmZzZXQoZWwpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCBjbGllbnRUb3AgPSBlbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgY29uc3QgY2xpZW50TGVmdCA9IGVsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gIGNvbnN0IHNjcm9sbFRvcCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWSA6IGVsLnNjcm9sbFRvcDtcbiAgY29uc3Qgc2Nyb2xsTGVmdCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWCA6IGVsLnNjcm9sbExlZnQ7XG4gIHJldHVybiB7XG4gICAgdG9wOiBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wLFxuICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIGNsaWVudExlZnRcbiAgfTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRQcmV2QWxsKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBwcmV2RWxzID0gW107XG4gIHdoaWxlIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgcHJldiA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChwcmV2Lm1hdGNoZXMoc2VsZWN0b3IpKSBwcmV2RWxzLnB1c2gocHJldik7XG4gICAgfSBlbHNlIHByZXZFbHMucHVzaChwcmV2KTtcbiAgICBlbCA9IHByZXY7XG4gIH1cbiAgcmV0dXJuIHByZXZFbHM7XG59XG5mdW5jdGlvbiBlbGVtZW50TmV4dEFsbChlbCwgc2VsZWN0b3IpIHtcbiAgY29uc3QgbmV4dEVscyA9IFtdO1xuICB3aGlsZSAoZWwubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgbmV4dCA9IGVsLm5leHRFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKG5leHQubWF0Y2hlcyhzZWxlY3RvcikpIG5leHRFbHMucHVzaChuZXh0KTtcbiAgICB9IGVsc2UgbmV4dEVscy5wdXNoKG5leHQpO1xuICAgIGVsID0gbmV4dDtcbiAgfVxuICByZXR1cm4gbmV4dEVscztcbn1cbmZ1bmN0aW9uIGVsZW1lbnRTdHlsZShlbCwgcHJvcCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApO1xufVxuZnVuY3Rpb24gZWxlbWVudEluZGV4KGVsKSB7XG4gIGxldCBjaGlsZCA9IGVsO1xuICBsZXQgaTtcbiAgaWYgKGNoaWxkKSB7XG4gICAgaSA9IDA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZykgIT09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgaSArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZWxlbWVudFBhcmVudHMoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAocGFyZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBwYXJlbnRzO1xufVxuZnVuY3Rpb24gZWxlbWVudFRyYW5zaXRpb25FbmQoZWwsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuICAgIGNhbGxiYWNrLmNhbGwoZWwsIGUpO1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG59XG5mdW5jdGlvbiBlbGVtZW50T3V0ZXJTaXplKGVsLCBzaXplLCBpbmNsdWRlTWFyZ2lucykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgcmV0dXJuIGVsW3NpemUgPT09ICd3aWR0aCcgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCddICsgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzaXplID09PSAnd2lkdGgnID8gJ21hcmdpbi1yaWdodCcgOiAnbWFyZ2luLXRvcCcpKSArIHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoc2l6ZSA9PT0gJ3dpZHRoJyA/ICdtYXJnaW4tbGVmdCcgOiAnbWFyZ2luLWJvdHRvbScpKTtcbiAgfVxuICByZXR1cm4gZWwub2Zmc2V0V2lkdGg7XG59XG5cbmV4cG9ydCB7IGVsZW1lbnRQYXJlbnRzIGFzIGEsIGVsZW1lbnRPZmZzZXQgYXMgYiwgY3JlYXRlRWxlbWVudCBhcyBjLCBub3cgYXMgZCwgZWxlbWVudENoaWxkcmVuIGFzIGUsIGVsZW1lbnRPdXRlclNpemUgYXMgZiwgZWxlbWVudEluZGV4IGFzIGcsIGNsYXNzZXNUb1Rva2VucyBhcyBoLCBnZXRUcmFuc2xhdGUgYXMgaSwgZWxlbWVudFRyYW5zaXRpb25FbmQgYXMgaiwgaXNPYmplY3QgYXMgaywgZ2V0U2xpZGVUcmFuc2Zvcm1FbCBhcyBsLCBlbGVtZW50U3R5bGUgYXMgbSwgbmV4dFRpY2sgYXMgbiwgZWxlbWVudE5leHRBbGwgYXMgbywgZWxlbWVudFByZXZBbGwgYXMgcCwgYW5pbWF0ZUNTU01vZGVTY3JvbGwgYXMgcSwgc2hvd1dhcm5pbmcgYXMgciwgc2V0Q1NTUHJvcGVydHkgYXMgcywgZXh0ZW5kIGFzIHQsIGRlbGV0ZVByb3BzIGFzIHUgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdywgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4vc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGEgYXMgZWxlbWVudFBhcmVudHMsIG0gYXMgZWxlbWVudFN0eWxlLCBlIGFzIGVsZW1lbnRDaGlsZHJlbiwgcyBhcyBzZXRDU1NQcm9wZXJ0eSwgZiBhcyBlbGVtZW50T3V0ZXJTaXplLCBvIGFzIGVsZW1lbnROZXh0QWxsLCBwIGFzIGVsZW1lbnRQcmV2QWxsLCBpIGFzIGdldFRyYW5zbGF0ZSwgcSBhcyBhbmltYXRlQ1NTTW9kZVNjcm9sbCwgbiBhcyBuZXh0VGljaywgciBhcyBzaG93V2FybmluZywgYyBhcyBjcmVhdGVFbGVtZW50LCBkIGFzIG5vdywgdCBhcyBleHRlbmQsIGcgYXMgZWxlbWVudEluZGV4LCB1IGFzIGRlbGV0ZVByb3BzIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5sZXQgc3VwcG9ydDtcbmZ1bmN0aW9uIGNhbGNTdXBwb3J0KCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICByZXR1cm4ge1xuICAgIHNtb290aFNjcm9sbDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiAnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICB0b3VjaDogISEoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdXBwb3J0KCkge1xuICBpZiAoIXN1cHBvcnQpIHtcbiAgICBzdXBwb3J0ID0gY2FsY1N1cHBvcnQoKTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydDtcbn1cblxubGV0IGRldmljZUNhY2hlZDtcbmZ1bmN0aW9uIGNhbGNEZXZpY2UoX3RlbXApIHtcbiAgbGV0IHtcbiAgICB1c2VyQWdlbnRcbiAgfSA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wO1xuICBjb25zdCBzdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtO1xuICBjb25zdCB1YSA9IHVzZXJBZ2VudCB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgY29uc3QgZGV2aWNlID0ge1xuICAgIGlvczogZmFsc2UsXG4gICAgYW5kcm9pZDogZmFsc2VcbiAgfTtcbiAgY29uc3Qgc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICBjb25zdCBzY3JlZW5IZWlnaHQgPSB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3QgYW5kcm9pZCA9IHVhLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgaXBhZCA9IHVhLm1hdGNoKC8oaVBhZCkuKk9TXFxzKFtcXGRfXSspLyk7XG4gIGNvbnN0IGlwb2QgPSB1YS5tYXRjaCgvKGlQb2QpKC4qT1NcXHMoW1xcZF9dKykpPy8pO1xuICBjb25zdCBpcGhvbmUgPSAhaXBhZCAmJiB1YS5tYXRjaCgvKGlQaG9uZVxcc09TfGlPUylcXHMoW1xcZF9dKykvKTtcbiAgY29uc3Qgd2luZG93cyA9IHBsYXRmb3JtID09PSAnV2luMzInO1xuICBsZXQgbWFjb3MgPSBwbGF0Zm9ybSA9PT0gJ01hY0ludGVsJztcblxuICAvLyBpUGFkT3MgMTMgZml4XG4gIGNvbnN0IGlQYWRTY3JlZW5zID0gWycxMDI0eDEzNjYnLCAnMTM2NngxMDI0JywgJzgzNHgxMTk0JywgJzExOTR4ODM0JywgJzgzNHgxMTEyJywgJzExMTJ4ODM0JywgJzc2OHgxMDI0JywgJzEwMjR4NzY4JywgJzgyMHgxMTgwJywgJzExODB4ODIwJywgJzgxMHgxMDgwJywgJzEwODB4ODEwJ107XG4gIGlmICghaXBhZCAmJiBtYWNvcyAmJiBzdXBwb3J0LnRvdWNoICYmIGlQYWRTY3JlZW5zLmluZGV4T2YoYCR7c2NyZWVuV2lkdGh9eCR7c2NyZWVuSGVpZ2h0fWApID49IDApIHtcbiAgICBpcGFkID0gdWEubWF0Y2goLyhWZXJzaW9uKVxcLyhbXFxkLl0rKS8pO1xuICAgIGlmICghaXBhZCkgaXBhZCA9IFswLCAxLCAnMTNfMF8wJ107XG4gICAgbWFjb3MgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIEFuZHJvaWRcbiAgaWYgKGFuZHJvaWQgJiYgIXdpbmRvd3MpIHtcbiAgICBkZXZpY2Uub3MgPSAnYW5kcm9pZCc7XG4gICAgZGV2aWNlLmFuZHJvaWQgPSB0cnVlO1xuICB9XG4gIGlmIChpcGFkIHx8IGlwaG9uZSB8fCBpcG9kKSB7XG4gICAgZGV2aWNlLm9zID0gJ2lvcyc7XG4gICAgZGV2aWNlLmlvcyA9IHRydWU7XG4gIH1cblxuICAvLyBFeHBvcnQgb2JqZWN0XG4gIHJldHVybiBkZXZpY2U7XG59XG5mdW5jdGlvbiBnZXREZXZpY2Uob3ZlcnJpZGVzKSB7XG4gIGlmIChvdmVycmlkZXMgPT09IHZvaWQgMCkge1xuICAgIG92ZXJyaWRlcyA9IHt9O1xuICB9XG4gIGlmICghZGV2aWNlQ2FjaGVkKSB7XG4gICAgZGV2aWNlQ2FjaGVkID0gY2FsY0RldmljZShvdmVycmlkZXMpO1xuICB9XG4gIHJldHVybiBkZXZpY2VDYWNoZWQ7XG59XG5cbmxldCBicm93c2VyO1xuZnVuY3Rpb24gY2FsY0Jyb3dzZXIoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgbmVlZFBlcnNwZWN0aXZlRml4ID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgIGNvbnN0IHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdWEuaW5kZXhPZignc2FmYXJpJykgPj0gMCAmJiB1YS5pbmRleE9mKCdjaHJvbWUnKSA8IDAgJiYgdWEuaW5kZXhPZignYW5kcm9pZCcpIDwgMDtcbiAgfVxuICBpZiAoaXNTYWZhcmkoKSkge1xuICAgIGNvbnN0IHVhID0gU3RyaW5nKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBpZiAodWEuaW5jbHVkZXMoJ1ZlcnNpb24vJykpIHtcbiAgICAgIGNvbnN0IFttYWpvciwgbWlub3JdID0gdWEuc3BsaXQoJ1ZlcnNpb24vJylbMV0uc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpLm1hcChudW0gPT4gTnVtYmVyKG51bSkpO1xuICAgICAgbmVlZFBlcnNwZWN0aXZlRml4ID0gbWFqb3IgPCAxNiB8fCBtYWpvciA9PT0gMTYgJiYgbWlub3IgPCAyO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU2FmYXJpOiBuZWVkUGVyc3BlY3RpdmVGaXggfHwgaXNTYWZhcmkoKSxcbiAgICBuZWVkUGVyc3BlY3RpdmVGaXgsXG4gICAgaXNXZWJWaWV3OiAvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRCcm93c2VyKCkge1xuICBpZiAoIWJyb3dzZXIpIHtcbiAgICBicm93c2VyID0gY2FsY0Jyb3dzZXIoKTtcbiAgfVxuICByZXR1cm4gYnJvd3Nlcjtcbn1cblxuZnVuY3Rpb24gUmVzaXplKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBvYnNlcnZlciA9IG51bGw7XG4gIGxldCBhbmltYXRpb25GcmFtZSA9IG51bGw7XG4gIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgZW1pdCgnYmVmb3JlUmVzaXplJyk7XG4gICAgZW1pdCgncmVzaXplJyk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodFxuICAgICAgICB9ID0gc3dpcGVyO1xuICAgICAgICBsZXQgbmV3V2lkdGggPSB3aWR0aDtcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKF9yZWYyID0+IHtcbiAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgY29udGVudEJveFNpemUsXG4gICAgICAgICAgICBjb250ZW50UmVjdCxcbiAgICAgICAgICAgIHRhcmdldFxuICAgICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gc3dpcGVyLmVsKSByZXR1cm47XG4gICAgICAgICAgbmV3V2lkdGggPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LndpZHRoIDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5pbmxpbmVTaXplO1xuICAgICAgICAgIG5ld0hlaWdodCA9IGNvbnRlbnRSZWN0ID8gY29udGVudFJlY3QuaGVpZ2h0IDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5ibG9ja1NpemU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobmV3V2lkdGggIT09IHdpZHRoIHx8IG5ld0hlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgcmVzaXplSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHN3aXBlci5lbCk7XG4gIH07XG4gIGNvbnN0IHJlbW92ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lKTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmVyICYmIG9ic2VydmVyLnVub2JzZXJ2ZSAmJiBzd2lwZXIuZWwpIHtcbiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIGVtaXQoJ29yaWVudGF0aW9uY2hhbmdlJyk7XG4gIH07XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnJlc2l6ZU9ic2VydmVyICYmIHR5cGVvZiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjcmVhdGVPYnNlcnZlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIHJlbW92ZU9ic2VydmVyKCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBPYnNlcnZlcihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCBvYnNlcnZlcnMgPSBbXTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGF0dGFjaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGNvbnN0IE9ic2VydmVyRnVuYyA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJraXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyRnVuYyhtdXRhdGlvbnMgPT4ge1xuICAgICAgLy8gVGhlIG9ic2VydmVyVXBkYXRlIGV2ZW50IHNob3VsZCBvbmx5IGJlIHRyaWdnZXJlZFxuICAgICAgLy8gb25jZSBkZXNwaXRlIHRoZSBudW1iZXIgb2YgbXV0YXRpb25zLiAgQWRkaXRpb25hbFxuICAgICAgLy8gdHJpZ2dlcnMgYXJlIHJlZHVuZGFudCBhbmQgYXJlIHZlcnkgY29zdGx5XG4gICAgICBpZiAoc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18pIHJldHVybjtcbiAgICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVtaXQoJ29ic2VydmVyVXBkYXRlJywgbXV0YXRpb25zWzBdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2JzZXJ2ZXJVcGRhdGUgPSBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZSgpIHtcbiAgICAgICAgZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgfTtcbiAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob2JzZXJ2ZXJVcGRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQob2JzZXJ2ZXJVcGRhdGUsIDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7XG4gICAgICBhdHRyaWJ1dGVzOiB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmF0dHJpYnV0ZXMsXG4gICAgICBjaGlsZExpc3Q6IHR5cGVvZiBvcHRpb25zLmNoaWxkTGlzdCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGlsZExpc3QsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0eXBlb2Ygb3B0aW9ucy5jaGFyYWN0ZXJEYXRhID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmNoYXJhY3RlckRhdGFcbiAgICB9KTtcbiAgICBvYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH07XG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLm9ic2VydmVyKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lclBhcmVudHMgPSBlbGVtZW50UGFyZW50cyhzd2lwZXIuaG9zdEVsKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGFpbmVyUGFyZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhdHRhY2goY29udGFpbmVyUGFyZW50c1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9ic2VydmUgY29udGFpbmVyXG4gICAgYXR0YWNoKHN3aXBlci5ob3N0RWwsIHtcbiAgICAgIGNoaWxkTGlzdDogc3dpcGVyLnBhcmFtcy5vYnNlcnZlU2xpZGVDaGlsZHJlblxuICAgIH0pO1xuXG4gICAgLy8gT2JzZXJ2ZSB3cmFwcGVyXG4gICAgYXR0YWNoKHN3aXBlci53cmFwcGVyRWwsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuICAgIG9ic2VydmVycy5zcGxpY2UoMCwgb2JzZXJ2ZXJzLmxlbmd0aCk7XG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgb2JzZXJ2ZXI6IGZhbHNlLFxuICAgIG9ic2VydmVQYXJlbnRzOiBmYWxzZSxcbiAgICBvYnNlcnZlU2xpZGVDaGlsZHJlbjogZmFsc2VcbiAgfSk7XG4gIG9uKCdpbml0JywgaW5pdCk7XG4gIG9uKCdkZXN0cm95JywgZGVzdHJveSk7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG5cbnZhciBldmVudHNFbWl0dGVyID0ge1xuICBvbihldmVudHMsIGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBtZXRob2QgPSBwcmlvcml0eSA/ICd1bnNoaWZ0JyA6ICdwdXNoJztcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XVttZXRob2RdKGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvbmNlKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xuICAgICAgc2VsZi5vZmYoZXZlbnRzLCBvbmNlSGFuZGxlcik7XG4gICAgICBpZiAob25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkpIHtcbiAgICAgICAgZGVsZXRlIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5O1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cbiAgICBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSA9IGhhbmRsZXI7XG4gICAgcmV0dXJuIHNlbGYub24oZXZlbnRzLCBvbmNlSGFuZGxlciwgcHJpb3JpdHkpO1xuICB9LFxuICBvbkFueShoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcikgPCAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVyc1ttZXRob2RdKGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmQW55KGhhbmRsZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAoIXNlbGYuZXZlbnRzQW55TGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBpbmRleCA9IHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvZmYoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goKGV2ZW50SGFuZGxlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyID09PSBoYW5kbGVyIHx8IGV2ZW50SGFuZGxlci5fX2VtaXR0ZXJQcm94eSAmJiBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIGVtaXQoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgbGV0IGV2ZW50cztcbiAgICBsZXQgZGF0YTtcbiAgICBsZXQgY29udGV4dDtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICBldmVudHMgPSBhcmdzWzBdO1xuICAgICAgZGF0YSA9IGFyZ3Muc2xpY2UoMSwgYXJncy5sZW5ndGgpO1xuICAgICAgY29udGV4dCA9IHNlbGY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF0uZXZlbnRzO1xuICAgICAgZGF0YSA9IGFyZ3NbMF0uZGF0YTtcbiAgICAgIGNvbnRleHQgPSBhcmdzWzBdLmNvbnRleHQgfHwgc2VsZjtcbiAgICB9XG4gICAgZGF0YS51bnNoaWZ0KGNvbnRleHQpO1xuICAgIGNvbnN0IGV2ZW50c0FycmF5ID0gQXJyYXkuaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgZXZlbnRzQXJyYXkuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMgJiYgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmZvckVhY2goZXZlbnRIYW5kbGVyID0+IHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkoY29udGV4dCwgW2V2ZW50LCAuLi5kYXRhXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uZm9yRWFjaChldmVudEhhbmRsZXIgPT4ge1xuICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZVNpemUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCB3aWR0aDtcbiAgbGV0IGhlaWdodDtcbiAgY29uc3QgZWwgPSBzd2lwZXIuZWw7XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gbnVsbCkge1xuICAgIHdpZHRoID0gc3dpcGVyLnBhcmFtcy53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuICB9XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgaGVpZ2h0ID0gc3dpcGVyLnBhcmFtcy5oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgaGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuICB9XG4gIGlmICh3aWR0aCA9PT0gMCAmJiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgfHwgaGVpZ2h0ID09PSAwICYmIHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBTdWJ0cmFjdCBwYWRkaW5nc1xuICB3aWR0aCA9IHdpZHRoIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1sZWZ0JykgfHwgMCwgMTApIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1yaWdodCcpIHx8IDAsIDEwKTtcbiAgaGVpZ2h0ID0gaGVpZ2h0IC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy10b3AnKSB8fCAwLCAxMCkgLSBwYXJzZUludChlbGVtZW50U3R5bGUoZWwsICdwYWRkaW5nLWJvdHRvbScpIHx8IDAsIDEwKTtcbiAgaWYgKE51bWJlci5pc05hTih3aWR0aCkpIHdpZHRoID0gMDtcbiAgaWYgKE51bWJlci5pc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBzaXplOiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB3aWR0aCA6IGhlaWdodFxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKG5vZGUsIGxhYmVsKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQobm9kZS5nZXRQcm9wZXJ0eVZhbHVlKHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbChsYWJlbCkpIHx8IDApO1xuICB9XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyRWwsXG4gICAgc2xpZGVzRWwsXG4gICAgc2l6ZTogc3dpcGVyU2l6ZSxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB3cm9uZ1JUTFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIGNvbnN0IHNsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICBsZXQgc25hcEdyaWQgPSBbXTtcbiAgY29uc3Qgc2xpZGVzR3JpZCA9IFtdO1xuICBjb25zdCBzbGlkZXNTaXplc0dyaWQgPSBbXTtcbiAgbGV0IG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmU7XG4gIGlmICh0eXBlb2Ygb2Zmc2V0QmVmb3JlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZS5jYWxsKHN3aXBlcik7XG4gIH1cbiAgbGV0IG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyO1xuICBpZiAodHlwZW9mIG9mZnNldEFmdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QWZ0ZXIgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIuY2FsbChzd2lwZXIpO1xuICB9XG4gIGNvbnN0IHByZXZpb3VzU25hcEdyaWRMZW5ndGggPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGggPSBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGg7XG4gIGxldCBzcGFjZUJldHdlZW4gPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICBsZXQgc2xpZGVQb3NpdGlvbiA9IC1vZmZzZXRCZWZvcmU7XG4gIGxldCBwcmV2U2xpZGVTaXplID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcbiAgaWYgKHR5cGVvZiBzd2lwZXJTaXplID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4ucmVwbGFjZSgnJScsICcnKSkgLyAxMDAgKiBzd2lwZXJTaXplO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4pO1xuICB9XG4gIHN3aXBlci52aXJ0dWFsU2l6ZSA9IC1zcGFjZUJldHdlZW47XG5cbiAgLy8gcmVzZXQgbWFyZ2luc1xuICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBpZiAocnRsKSB7XG4gICAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkxlZnQgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xuICAgIH1cbiAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcnO1xuICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luVG9wID0gJyc7XG4gIH0pO1xuXG4gIC8vIHJlc2V0IGNzc01vZGUgb2Zmc2V0c1xuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZScsICcnKTtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXInLCAnJyk7XG4gIH1cbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBzd2lwZXIuZ3JpZDtcbiAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgc3dpcGVyLmdyaWQuaW5pdFNsaWRlcyhzbGlkZXMpO1xuICB9IGVsc2UgaWYgKHN3aXBlci5ncmlkKSB7XG4gICAgc3dpcGVyLmdyaWQudW5zZXRTbGlkZXMoKTtcbiAgfVxuXG4gIC8vIENhbGMgc2xpZGVzXG4gIGxldCBzbGlkZVNpemU7XG4gIGNvbnN0IHNob3VsZFJlc2V0U2xpZGVTaXplID0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMocGFyYW1zLmJyZWFrcG9pbnRzKS5maWx0ZXIoa2V5ID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIHBhcmFtcy5icmVha3BvaW50c1trZXldLnNsaWRlc1BlclZpZXcgIT09ICd1bmRlZmluZWQnO1xuICB9KS5sZW5ndGggPiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0xlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVTaXplID0gMDtcbiAgICBsZXQgc2xpZGU7XG4gICAgaWYgKHNsaWRlc1tpXSkgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBzd2lwZXIuZ3JpZC51cGRhdGVTbGlkZShpLCBzbGlkZSwgc2xpZGVzKTtcbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSAmJiBlbGVtZW50U3R5bGUoc2xpZGUsICdkaXNwbGF5JykgPT09ICdub25lJykgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAoc2hvdWxkUmVzZXRTbGlkZVNpemUpIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgYDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlU3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSk7XG4gICAgICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gc2xpZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgY29uc3QgY3VycmVudFdlYktpdFRyYW5zZm9ybSA9IHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybTtcbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSB7XG4gICAgICAgIHNsaWRlU2l6ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGVsZW1lbnRPdXRlclNpemUoc2xpZGUsICd3aWR0aCcsIHRydWUpIDogZWxlbWVudE91dGVyU2l6ZShzbGlkZSwgJ2hlaWdodCcsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3dpZHRoJyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3BhZGRpbmctbGVmdCcpO1xuICAgICAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1yaWdodCcpO1xuICAgICAgICBjb25zdCBtYXJnaW5MZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1sZWZ0Jyk7XG4gICAgICAgIGNvbnN0IG1hcmdpblJpZ2h0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1yaWdodCcpO1xuICAgICAgICBjb25zdCBib3hTaXppbmcgPSBzbGlkZVN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdib3gtc2l6aW5nJyk7XG4gICAgICAgIGlmIChib3hTaXppbmcgJiYgYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIG1hcmdpbkxlZnQgKyBtYXJnaW5SaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGllbnRXaWR0aCxcbiAgICAgICAgICAgIG9mZnNldFdpZHRoXG4gICAgICAgICAgfSA9IHNsaWRlO1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQgKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQgKyAob2Zmc2V0V2lkdGggLSBjbGllbnRXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9IGN1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFdlYktpdFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBjdXJyZW50V2ViS2l0VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlU2l6ZSA9IE1hdGguZmxvb3Ioc2xpZGVTaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVTaXplID0gKHN3aXBlclNpemUgLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgLSAxKSAqIHNwYWNlQmV0d2VlbikgLyBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgICBpZiAoc2xpZGVzW2ldKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c2xpZGVTaXplfXB4YDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSkge1xuICAgICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcbiAgICB9XG4gICAgc2xpZGVzU2l6ZXNHcmlkLnB1c2goc2xpZGVTaXplKTtcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSAvIDIgKyBwcmV2U2xpZGVTaXplIC8gMiArIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChwcmV2U2xpZGVTaXplID09PSAwICYmIGkgIT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICBpZiAoaSA9PT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChNYXRoLmFicyhzbGlkZVBvc2l0aW9uKSA8IDEgLyAxMDAwKSBzbGlkZVBvc2l0aW9uID0gMDtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgIGlmIChpbmRleCAlIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKChpbmRleCAtIE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCkpICUgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIH1cbiAgICBzd2lwZXIudmlydHVhbFNpemUgKz0gc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIHByZXZTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgaW5kZXggKz0gMTtcbiAgfVxuICBzd2lwZXIudmlydHVhbFNpemUgPSBNYXRoLm1heChzd2lwZXIudmlydHVhbFNpemUsIHN3aXBlclNpemUpICsgb2Zmc2V0QWZ0ZXI7XG4gIGlmIChydGwgJiYgd3JvbmdSVEwgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2NvdmVyZmxvdycpKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlLndpZHRoID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgfVxuICBpZiAocGFyYW1zLnNldFdyYXBwZXJTaXplKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgJHtzd2lwZXIudmlydHVhbFNpemUgKyBzcGFjZUJldHdlZW59cHhgO1xuICB9XG4gIGlmIChncmlkRW5hYmxlZCkge1xuICAgIHN3aXBlci5ncmlkLnVwZGF0ZVdyYXBwZXJTaXplKHNsaWRlU2l6ZSwgc25hcEdyaWQpO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGxhc3QgZ3JpZCBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2lkdGhcbiAgaWYgKCFwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICBjb25zdCBuZXdTbGlkZXNHcmlkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmFwR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWRlc0dyaWRJdGVtID0gc25hcEdyaWRbaV07XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVzR3JpZEl0ZW0gPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgIGlmIChzbmFwR3JpZFtpXSA8PSBzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSB7XG4gICAgICAgIG5ld1NsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkSXRlbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcbiAgICBpZiAoTWF0aC5mbG9vcihzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSAtIE1hdGguZmxvb3Ioc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0pID4gMSkge1xuICAgICAgc25hcEdyaWQucHVzaChzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVmlydHVhbCAmJiBwYXJhbXMubG9vcCkge1xuICAgIGNvbnN0IHNpemUgPSBzbGlkZXNTaXplc0dyaWRbMF0gKyBzcGFjZUJldHdlZW47XG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEpIHtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IE1hdGguY2VpbCgoc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQWZ0ZXIpIC8gcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHNpemUgKiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwczsgaSArPSAxKSB7XG4gICAgICAgIHNuYXBHcmlkLnB1c2goc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0gKyBncm91cFNpemUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0FmdGVyOyBpICs9IDEpIHtcbiAgICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEpIHtcbiAgICAgICAgc25hcEdyaWQucHVzaChzbmFwR3JpZFtzbmFwR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgfVxuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNpemU7XG4gICAgfVxuICB9XG4gIGlmIChzbmFwR3JpZC5sZW5ndGggPT09IDApIHNuYXBHcmlkID0gWzBdO1xuICBpZiAoc3BhY2VCZXR3ZWVuICE9PSAwKSB7XG4gICAgY29uc3Qga2V5ID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHJ0bCA/ICdtYXJnaW5MZWZ0JyA6IHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luUmlnaHQnKTtcbiAgICBzbGlkZXMuZmlsdGVyKChfLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBpZiAoIXBhcmFtcy5jc3NNb2RlIHx8IHBhcmFtcy5sb29wKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChzbGlkZUluZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KS5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgc2xpZGVFbC5zdHlsZVtrZXldID0gYCR7c3BhY2VCZXR3ZWVufXB4YDtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIGxldCBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChzbGlkZVNpemVWYWx1ZSA9PiB7XG4gICAgICBhbGxTbGlkZXNTaXplICs9IHNsaWRlU2l6ZVZhbHVlICsgKHNwYWNlQmV0d2VlbiB8fCAwKTtcbiAgICB9KTtcbiAgICBhbGxTbGlkZXNTaXplIC09IHNwYWNlQmV0d2VlbjtcbiAgICBjb25zdCBtYXhTbmFwID0gYWxsU2xpZGVzU2l6ZSAtIHN3aXBlclNpemU7XG4gICAgc25hcEdyaWQgPSBzbmFwR3JpZC5tYXAoc25hcCA9PiB7XG4gICAgICBpZiAoc25hcCA8PSAwKSByZXR1cm4gLW9mZnNldEJlZm9yZTtcbiAgICAgIGlmIChzbmFwID4gbWF4U25hcCkgcmV0dXJuIG1heFNuYXAgKyBvZmZzZXRBZnRlcjtcbiAgICAgIHJldHVybiBzbmFwO1xuICAgIH0pO1xuICB9XG4gIGlmIChwYXJhbXMuY2VudGVySW5zdWZmaWNpZW50U2xpZGVzKSB7XG4gICAgbGV0IGFsbFNsaWRlc1NpemUgPSAwO1xuICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKHNsaWRlU2l6ZVZhbHVlID0+IHtcbiAgICAgIGFsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAoc3BhY2VCZXR3ZWVuIHx8IDApO1xuICAgIH0pO1xuICAgIGFsbFNsaWRlc1NpemUgLT0gc3BhY2VCZXR3ZWVuO1xuICAgIGlmIChhbGxTbGlkZXNTaXplIDwgc3dpcGVyU2l6ZSkge1xuICAgICAgY29uc3QgYWxsU2xpZGVzT2Zmc2V0ID0gKHN3aXBlclNpemUgLSBhbGxTbGlkZXNTaXplKSAvIDI7XG4gICAgICBzbmFwR3JpZC5mb3JFYWNoKChzbmFwLCBzbmFwSW5kZXgpID0+IHtcbiAgICAgICAgc25hcEdyaWRbc25hcEluZGV4XSA9IHNuYXAgLSBhbGxTbGlkZXNPZmZzZXQ7XG4gICAgICB9KTtcbiAgICAgIHNsaWRlc0dyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICAgIHNsaWRlc0dyaWRbc25hcEluZGV4XSA9IHNuYXAgKyBhbGxTbGlkZXNPZmZzZXQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBzbGlkZXMsXG4gICAgc25hcEdyaWQsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBzbGlkZXNTaXplc0dyaWRcbiAgfSk7XG4gIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmNzc01vZGUgJiYgIXBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIHNldENTU1Byb3BlcnR5KHdyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1iZWZvcmUnLCBgJHstc25hcEdyaWRbMF19cHhgKTtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXInLCBgJHtzd2lwZXIuc2l6ZSAvIDIgLSBzbGlkZXNTaXplc0dyaWRbc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aCAtIDFdIC8gMn1weGApO1xuICAgIGNvbnN0IGFkZFRvU25hcEdyaWQgPSAtc3dpcGVyLnNuYXBHcmlkWzBdO1xuICAgIGNvbnN0IGFkZFRvU2xpZGVzR3JpZCA9IC1zd2lwZXIuc2xpZGVzR3JpZFswXTtcbiAgICBzd2lwZXIuc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQubWFwKHYgPT4gdiArIGFkZFRvU25hcEdyaWQpO1xuICAgIHN3aXBlci5zbGlkZXNHcmlkID0gc3dpcGVyLnNsaWRlc0dyaWQubWFwKHYgPT4gdiArIGFkZFRvU2xpZGVzR3JpZCk7XG4gIH1cbiAgaWYgKHNsaWRlc0xlbmd0aCAhPT0gcHJldmlvdXNTbGlkZXNMZW5ndGgpIHtcbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVzTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cbiAgaWYgKHNuYXBHcmlkLmxlbmd0aCAhPT0gcHJldmlvdXNTbmFwR3JpZExlbmd0aCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgc3dpcGVyLmVtaXQoJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cbiAgaWYgKHNsaWRlc0dyaWQubGVuZ3RoICE9PSBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGgpIHtcbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVzR3JpZExlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2xpZGVzVXBkYXRlZCcpO1xuICBpZiAoIWlzVmlydHVhbCAmJiAhcGFyYW1zLmNzc01vZGUgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2ZhZGUnKSkge1xuICAgIGNvbnN0IGJhY2tGYWNlSGlkZGVuQ2xhc3MgPSBgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31iYWNrZmFjZS1oaWRkZW5gO1xuICAgIGNvbnN0IGhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkID0gc3dpcGVyLmVsLmNsYXNzTGlzdC5jb250YWlucyhiYWNrRmFjZUhpZGRlbkNsYXNzKTtcbiAgICBpZiAoc2xpZGVzTGVuZ3RoIDw9IHBhcmFtcy5tYXhCYWNrZmFjZUhpZGRlblNsaWRlcykge1xuICAgICAgaWYgKCFoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCkgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgfSBlbHNlIGlmIChoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCkge1xuICAgICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUF1dG9IZWlnaHQoc3BlZWQpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgYWN0aXZlU2xpZGVzID0gW107XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBsZXQgbmV3SGVpZ2h0ID0gMDtcbiAgbGV0IGk7XG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICdudW1iZXInKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICB9IGVsc2UgaWYgKHNwZWVkID09PSB0cnVlKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3dpcGVyLnBhcmFtcy5zcGVlZCk7XG4gIH1cbiAgY29uc3QgZ2V0U2xpZGVCeUluZGV4ID0gaW5kZXggPT4ge1xuICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgIHJldHVybiBzd2lwZXIuc2xpZGVzW3N3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKGluZGV4KV07XG4gICAgfVxuICAgIHJldHVybiBzd2lwZXIuc2xpZGVzW2luZGV4XTtcbiAgfTtcbiAgLy8gRmluZCBzbGlkZXMgY3VycmVudGx5IGluIHZpZXdcbiAgaWYgKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgKHN3aXBlci52aXNpYmxlU2xpZGVzIHx8IFtdKS5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgICAgYWN0aXZlU2xpZGVzLnB1c2goc2xpZGUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBNYXRoLmNlaWwoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3KTsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4ICsgaTtcbiAgICAgICAgaWYgKGluZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggJiYgIWlzVmlydHVhbCkgYnJlYWs7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChpbmRleCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVTbGlkZXMucHVzaChnZXRTbGlkZUJ5SW5kZXgoc3dpcGVyLmFjdGl2ZUluZGV4KSk7XG4gIH1cblxuICAvLyBGaW5kIG5ldyBoZWlnaHQgZnJvbSBoaWdoZXN0IHNsaWRlIGluIHZpZXdcbiAgZm9yIChpID0gMDsgaSA8IGFjdGl2ZVNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0eXBlb2YgYWN0aXZlU2xpZGVzW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgaGVpZ2h0ID0gYWN0aXZlU2xpZGVzW2ldLm9mZnNldEhlaWdodDtcbiAgICAgIG5ld0hlaWdodCA9IGhlaWdodCA+IG5ld0hlaWdodCA/IGhlaWdodCA6IG5ld0hlaWdodDtcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgSGVpZ2h0XG4gIGlmIChuZXdIZWlnaHQgfHwgbmV3SGVpZ2h0ID09PSAwKSBzd2lwZXIud3JhcHBlckVsLnN0eWxlLmhlaWdodCA9IGAke25ld0hlaWdodH1weGA7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc09mZnNldCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qgc2xpZGVzID0gc3dpcGVyLnNsaWRlcztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGNvbnN0IG1pbnVzT2Zmc2V0ID0gc3dpcGVyLmlzRWxlbWVudCA/IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHN3aXBlci53cmFwcGVyRWwub2Zmc2V0TGVmdCA6IHN3aXBlci53cmFwcGVyRWwub2Zmc2V0VG9wIDogMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZXNbaV0uc3dpcGVyU2xpZGVPZmZzZXQgPSAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gc2xpZGVzW2ldLm9mZnNldExlZnQgOiBzbGlkZXNbaV0ub2Zmc2V0VG9wKSAtIG1pbnVzT2Zmc2V0IC0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc1Byb2dyZXNzKHRyYW5zbGF0ZSkge1xuICBpZiAodHJhbnNsYXRlID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGUgPSB0aGlzICYmIHRoaXMudHJhbnNsYXRlIHx8IDA7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBzbmFwR3JpZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgbGV0IG9mZnNldENlbnRlciA9IC10cmFuc2xhdGU7XG4gIGlmIChydGwpIG9mZnNldENlbnRlciA9IHRyYW5zbGF0ZTtcblxuICAvLyBWaXNpYmxlIFNsaWRlc1xuICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBzbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVGdWxseVZpc2libGVDbGFzcyk7XG4gIH0pO1xuICBzd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgc3dpcGVyLnZpc2libGVTbGlkZXMgPSBbXTtcbiAgbGV0IHNwYWNlQmV0d2VlbiA9IHBhcmFtcy5zcGFjZUJldHdlZW47XG4gIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJyAmJiBzcGFjZUJldHdlZW4uaW5kZXhPZignJScpID49IDApIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlci5zaXplO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4pO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgbGV0IHNsaWRlT2Zmc2V0ID0gc2xpZGUuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgaWYgKHBhcmFtcy5jc3NNb2RlICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgc2xpZGVPZmZzZXQgLT0gc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgIH1cbiAgICBjb25zdCBzbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBzcGFjZUJldHdlZW4pO1xuICAgIGNvbnN0IG9yaWdpbmFsU2xpZGVQcm9ncmVzcyA9IChvZmZzZXRDZW50ZXIgLSBzbmFwR3JpZFswXSArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBzcGFjZUJldHdlZW4pO1xuICAgIGNvbnN0IHNsaWRlQmVmb3JlID0gLShvZmZzZXRDZW50ZXIgLSBzbGlkZU9mZnNldCk7XG4gICAgY29uc3Qgc2xpZGVBZnRlciA9IHNsaWRlQmVmb3JlICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtpXTtcbiAgICBjb25zdCBpc0Z1bGx5VmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPD0gc3dpcGVyLnNpemUgLSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPCBzd2lwZXIuc2l6ZSAtIDEgfHwgc2xpZGVBZnRlciA+IDEgJiYgc2xpZGVBZnRlciA8PSBzd2lwZXIuc2l6ZSB8fCBzbGlkZUJlZm9yZSA8PSAwICYmIHNsaWRlQWZ0ZXIgPj0gc3dpcGVyLnNpemU7XG4gICAgaWYgKGlzVmlzaWJsZSkge1xuICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICAgIHNsaWRlc1tpXS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bGx5VmlzaWJsZSkge1xuICAgICAgc2xpZGVzW2ldLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MpO1xuICAgIH1cbiAgICBzbGlkZS5wcm9ncmVzcyA9IHJ0bCA/IC1zbGlkZVByb2dyZXNzIDogc2xpZGVQcm9ncmVzcztcbiAgICBzbGlkZS5vcmlnaW5hbFByb2dyZXNzID0gcnRsID8gLW9yaWdpbmFsU2xpZGVQcm9ncmVzcyA6IG9yaWdpbmFsU2xpZGVQcm9ncmVzcztcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgbXVsdGlwbGllciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgdHJhbnNsYXRlID0gc3dpcGVyICYmIHN3aXBlci50cmFuc2xhdGUgJiYgc3dpcGVyLnRyYW5zbGF0ZSAqIG11bHRpcGxpZXIgfHwgMDtcbiAgfVxuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgbGV0IHtcbiAgICBwcm9ncmVzcyxcbiAgICBpc0JlZ2lubmluZyxcbiAgICBpc0VuZCxcbiAgICBwcm9ncmVzc0xvb3BcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qgd2FzQmVnaW5uaW5nID0gaXNCZWdpbm5pbmc7XG4gIGNvbnN0IHdhc0VuZCA9IGlzRW5kO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBwcm9ncmVzcyA9IDA7XG4gICAgaXNCZWdpbm5pbmcgPSB0cnVlO1xuICAgIGlzRW5kID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBwcm9ncmVzcyA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gICAgY29uc3QgaXNCZWdpbm5pbmdSb3VuZGVkID0gTWF0aC5hYnModHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSA8IDE7XG4gICAgY29uc3QgaXNFbmRSb3VuZGVkID0gTWF0aC5hYnModHJhbnNsYXRlIC0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSA8IDE7XG4gICAgaXNCZWdpbm5pbmcgPSBpc0JlZ2lubmluZ1JvdW5kZWQgfHwgcHJvZ3Jlc3MgPD0gMDtcbiAgICBpc0VuZCA9IGlzRW5kUm91bmRlZCB8fCBwcm9ncmVzcyA+PSAxO1xuICAgIGlmIChpc0JlZ2lubmluZ1JvdW5kZWQpIHByb2dyZXNzID0gMDtcbiAgICBpZiAoaXNFbmRSb3VuZGVkKSBwcm9ncmVzcyA9IDE7XG4gIH1cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgY29uc3QgZmlyc3RTbGlkZUluZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEoMCk7XG4gICAgY29uc3QgbGFzdFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGZpcnN0U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFtmaXJzdFNsaWRlSW5kZXhdO1xuICAgIGNvbnN0IGxhc3RTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2xhc3RTbGlkZUluZGV4XTtcbiAgICBjb25zdCB0cmFuc2xhdGVNYXggPSBzd2lwZXIuc2xpZGVzR3JpZFtzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB0cmFuc2xhdGVBYnMgPSBNYXRoLmFicyh0cmFuc2xhdGUpO1xuICAgIGlmICh0cmFuc2xhdGVBYnMgPj0gZmlyc3RTbGlkZVRyYW5zbGF0ZSkge1xuICAgICAgcHJvZ3Jlc3NMb29wID0gKHRyYW5zbGF0ZUFicyAtIGZpcnN0U2xpZGVUcmFuc2xhdGUpIC8gdHJhbnNsYXRlTWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzc0xvb3AgPSAodHJhbnNsYXRlQWJzICsgdHJhbnNsYXRlTWF4IC0gbGFzdFNsaWRlVHJhbnNsYXRlKSAvIHRyYW5zbGF0ZU1heDtcbiAgICB9XG4gICAgaWYgKHByb2dyZXNzTG9vcCA+IDEpIHByb2dyZXNzTG9vcCAtPSAxO1xuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgcHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3NMb29wLFxuICAgIGlzQmVnaW5uaW5nLFxuICAgIGlzRW5kXG4gIH0pO1xuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgfHwgcGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5hdXRvSGVpZ2h0KSBzd2lwZXIudXBkYXRlU2xpZGVzUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgaWYgKGlzQmVnaW5uaW5nICYmICF3YXNCZWdpbm5pbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hCZWdpbm5pbmcgdG9FZGdlJyk7XG4gIH1cbiAgaWYgKGlzRW5kICYmICF3YXNFbmQpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hFbmQgdG9FZGdlJyk7XG4gIH1cbiAgaWYgKHdhc0JlZ2lubmluZyAmJiAhaXNCZWdpbm5pbmcgfHwgd2FzRW5kICYmICFpc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdmcm9tRWRnZScpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdwcm9ncmVzcycsIHByb2dyZXNzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWwsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgY29uc3QgZ2V0RmlsdGVyZWRTbGlkZSA9IHNlbGVjdG9yID0+IHtcbiAgICByZXR1cm4gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9JHtzZWxlY3Rvcn0sIHN3aXBlci1zbGlkZSR7c2VsZWN0b3J9YClbMF07XG4gIH07XG4gIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcywgcGFyYW1zLnNsaWRlTmV4dENsYXNzLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICB9KTtcbiAgbGV0IGFjdGl2ZVNsaWRlO1xuICBsZXQgcHJldlNsaWRlO1xuICBsZXQgbmV4dFNsaWRlO1xuICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBsZXQgc2xpZGVJbmRleCA9IGFjdGl2ZUluZGV4IC0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlO1xuICAgICAgaWYgKHNsaWRlSW5kZXggPCAwKSBzbGlkZUluZGV4ID0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCArIHNsaWRlSW5kZXg7XG4gICAgICBpZiAoc2xpZGVJbmRleCA+PSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoKSBzbGlkZUluZGV4IC09IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGg7XG4gICAgICBhY3RpdmVTbGlkZSA9IGdldEZpbHRlcmVkU2xpZGUoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c2xpZGVJbmRleH1cIl1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlU2xpZGUgPSBnZXRGaWx0ZXJlZFNsaWRlKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke2FjdGl2ZUluZGV4fVwiXWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleClbMF07XG4gICAgICBuZXh0U2xpZGUgPSBzbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4ICsgMSlbMF07XG4gICAgICBwcmV2U2xpZGUgPSBzbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4IC0gMSlbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzW2FjdGl2ZUluZGV4XTtcbiAgICB9XG4gIH1cbiAgaWYgKGFjdGl2ZVNsaWRlKSB7XG4gICAgLy8gQWN0aXZlIGNsYXNzZXNcbiAgICBhY3RpdmVTbGlkZS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKTtcbiAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgIGlmIChuZXh0U2xpZGUpIHtcbiAgICAgICAgbmV4dFNsaWRlLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2U2xpZGUpIHtcbiAgICAgICAgcHJldlNsaWRlLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTmV4dCBTbGlkZVxuICAgICAgbmV4dFNsaWRlID0gZWxlbWVudE5leHRBbGwoYWN0aXZlU2xpZGUsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApWzBdO1xuICAgICAgaWYgKHBhcmFtcy5sb29wICYmICFuZXh0U2xpZGUpIHtcbiAgICAgICAgbmV4dFNsaWRlID0gc2xpZGVzWzBdO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRTbGlkZSkge1xuICAgICAgICBuZXh0U2xpZGUuY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmV2IFNsaWRlXG4gICAgICBwcmV2U2xpZGUgPSBlbGVtZW50UHJldkFsbChhY3RpdmVTbGlkZSwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYClbMF07XG4gICAgICBpZiAocGFyYW1zLmxvb3AgJiYgIXByZXZTbGlkZSA9PT0gMCkge1xuICAgICAgICBwcmV2U2xpZGUgPSBzbGlkZXNbc2xpZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZTbGlkZSkge1xuICAgICAgICBwcmV2U2xpZGUuY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzd2lwZXIuZW1pdFNsaWRlc0NsYXNzZXMoKTtcbn1cblxuY29uc3QgcHJvY2Vzc0xhenlQcmVsb2FkZXIgPSAoc3dpcGVyLCBpbWFnZUVsKSA9PiB7XG4gIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5wYXJhbXMpIHJldHVybjtcbiAgY29uc3Qgc2xpZGVTZWxlY3RvciA9ICgpID0+IHN3aXBlci5pc0VsZW1lbnQgPyBgc3dpcGVyLXNsaWRlYCA6IGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YDtcbiAgY29uc3Qgc2xpZGVFbCA9IGltYWdlRWwuY2xvc2VzdChzbGlkZVNlbGVjdG9yKCkpO1xuICBpZiAoc2xpZGVFbCkge1xuICAgIGxldCBsYXp5RWwgPSBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoYC4ke3N3aXBlci5wYXJhbXMubGF6eVByZWxvYWRlckNsYXNzfWApO1xuICAgIGlmICghbGF6eUVsICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIGlmIChzbGlkZUVsLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgbGF6eUVsID0gc2xpZGVFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYC4ke3N3aXBlci5wYXJhbXMubGF6eVByZWxvYWRlckNsYXNzfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5pdCBsYXRlclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGlmIChzbGlkZUVsLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIGxhenlFbCA9IHNsaWRlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICAgICAgICAgIGlmIChsYXp5RWwpIGxhenlFbC5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGF6eUVsKSBsYXp5RWwucmVtb3ZlKCk7XG4gIH1cbn07XG5jb25zdCB1bmxhenkgPSAoc3dpcGVyLCBpbmRleCkgPT4ge1xuICBpZiAoIXN3aXBlci5zbGlkZXNbaW5kZXhdKSByZXR1cm47XG4gIGNvbnN0IGltYWdlRWwgPSBzd2lwZXIuc2xpZGVzW2luZGV4XS5xdWVyeVNlbGVjdG9yKCdbbG9hZGluZz1cImxhenlcIl0nKTtcbiAgaWYgKGltYWdlRWwpIGltYWdlRWwucmVtb3ZlQXR0cmlidXRlKCdsb2FkaW5nJyk7XG59O1xuY29uc3QgcHJlbG9hZCA9IHN3aXBlciA9PiB7XG4gIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5wYXJhbXMpIHJldHVybjtcbiAgbGV0IGFtb3VudCA9IHN3aXBlci5wYXJhbXMubGF6eVByZWxvYWRQcmV2TmV4dDtcbiAgY29uc3QgbGVuID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIGlmICghbGVuIHx8ICFhbW91bnQgfHwgYW1vdW50IDwgMCkgcmV0dXJuO1xuICBhbW91bnQgPSBNYXRoLm1pbihhbW91bnQsIGxlbik7XG4gIGNvbnN0IHNsaWRlc1BlclZpZXcgPSBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyk7XG4gIGNvbnN0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICBpZiAoc3dpcGVyLnBhcmFtcy5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMSkge1xuICAgIGNvbnN0IGFjdGl2ZUNvbHVtbiA9IGFjdGl2ZUluZGV4O1xuICAgIGNvbnN0IHByZWxvYWRDb2x1bW5zID0gW2FjdGl2ZUNvbHVtbiAtIGFtb3VudF07XG4gICAgcHJlbG9hZENvbHVtbnMucHVzaCguLi5BcnJheS5mcm9tKHtcbiAgICAgIGxlbmd0aDogYW1vdW50XG4gICAgfSkubWFwKChfLCBpKSA9PiB7XG4gICAgICByZXR1cm4gYWN0aXZlQ29sdW1uICsgc2xpZGVzUGVyVmlldyArIGk7XG4gICAgfSkpO1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGVFbCwgaSkgPT4ge1xuICAgICAgaWYgKHByZWxvYWRDb2x1bW5zLmluY2x1ZGVzKHNsaWRlRWwuY29sdW1uKSkgdW5sYXp5KHN3aXBlciwgaSk7XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHNsaWRlSW5kZXhMYXN0SW5WaWV3ID0gYWN0aXZlSW5kZXggKyBzbGlkZXNQZXJWaWV3IC0gMTtcbiAgaWYgKHN3aXBlci5wYXJhbXMucmV3aW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIGFtb3VudDsgaSA8PSBzbGlkZUluZGV4TGFzdEluVmlldyArIGFtb3VudDsgaSArPSAxKSB7XG4gICAgICBjb25zdCByZWFsSW5kZXggPSAoaSAlIGxlbiArIGxlbikgJSBsZW47XG4gICAgICBpZiAocmVhbEluZGV4IDwgYWN0aXZlSW5kZXggfHwgcmVhbEluZGV4ID4gc2xpZGVJbmRleExhc3RJblZpZXcpIHVubGF6eShzd2lwZXIsIHJlYWxJbmRleCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGkgPSBNYXRoLm1heChhY3RpdmVJbmRleCAtIGFtb3VudCwgMCk7IGkgPD0gTWF0aC5taW4oc2xpZGVJbmRleExhc3RJblZpZXcgKyBhbW91bnQsIGxlbiAtIDEpOyBpICs9IDEpIHtcbiAgICAgIGlmIChpICE9PSBhY3RpdmVJbmRleCAmJiAoaSA+IHNsaWRlSW5kZXhMYXN0SW5WaWV3IHx8IGkgPCBhY3RpdmVJbmRleCkpIHtcbiAgICAgICAgdW5sYXp5KHN3aXBlciwgaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRBY3RpdmVJbmRleEJ5VHJhbnNsYXRlKHN3aXBlcikge1xuICBjb25zdCB7XG4gICAgc2xpZGVzR3JpZCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgbGV0IGFjdGl2ZUluZGV4O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldICYmIHRyYW5zbGF0ZSA8IHNsaWRlc0dyaWRbaSArIDFdIC0gKHNsaWRlc0dyaWRbaSArIDFdIC0gc2xpZGVzR3JpZFtpXSkgLyAyKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gaTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0gJiYgdHJhbnNsYXRlIDwgc2xpZGVzR3JpZFtpICsgMV0pIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBpICsgMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICBhY3RpdmVJbmRleCA9IGk7XG4gICAgfVxuICB9XG4gIC8vIE5vcm1hbGl6ZSBzbGlkZUluZGV4XG4gIGlmIChwYXJhbXMubm9ybWFsaXplU2xpZGVJbmRleCkge1xuICAgIGlmIChhY3RpdmVJbmRleCA8IDAgfHwgdHlwZW9mIGFjdGl2ZUluZGV4ID09PSAndW5kZWZpbmVkJykgYWN0aXZlSW5kZXggPSAwO1xuICB9XG4gIHJldHVybiBhY3RpdmVJbmRleDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZUluZGV4KG5ld0FjdGl2ZUluZGV4KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGNvbnN0IHtcbiAgICBzbmFwR3JpZCxcbiAgICBwYXJhbXMsXG4gICAgYWN0aXZlSW5kZXg6IHByZXZpb3VzSW5kZXgsXG4gICAgcmVhbEluZGV4OiBwcmV2aW91c1JlYWxJbmRleCxcbiAgICBzbmFwSW5kZXg6IHByZXZpb3VzU25hcEluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGxldCBhY3RpdmVJbmRleCA9IG5ld0FjdGl2ZUluZGV4O1xuICBsZXQgc25hcEluZGV4O1xuICBjb25zdCBnZXRWaXJ0dWFsUmVhbEluZGV4ID0gYUluZGV4ID0+IHtcbiAgICBsZXQgcmVhbEluZGV4ID0gYUluZGV4IC0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlO1xuICAgIGlmIChyZWFsSW5kZXggPCAwKSB7XG4gICAgICByZWFsSW5kZXggPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoICsgcmVhbEluZGV4O1xuICAgIH1cbiAgICBpZiAocmVhbEluZGV4ID49IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgIHJlYWxJbmRleCAtPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVhbEluZGV4O1xuICB9O1xuICBpZiAodHlwZW9mIGFjdGl2ZUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjdGl2ZUluZGV4ID0gZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZShzd2lwZXIpO1xuICB9XG4gIGlmIChzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSkgPj0gMCkge1xuICAgIHNuYXBJbmRleCA9IHNuYXBHcmlkLmluZGV4T2YodHJhbnNsYXRlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBza2lwID0gTWF0aC5taW4ocGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgYWN0aXZlSW5kZXgpO1xuICAgIHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChhY3RpdmVJbmRleCAtIHNraXApIC8gcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgfVxuICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcbiAgaWYgKGFjdGl2ZUluZGV4ID09PSBwcmV2aW91c0luZGV4ICYmICFzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc25hcEluZGV4ICE9PSBwcmV2aW91c1NuYXBJbmRleCkge1xuICAgICAgc3dpcGVyLnNuYXBJbmRleCA9IHNuYXBJbmRleDtcbiAgICAgIHN3aXBlci5lbWl0KCdzbmFwSW5kZXhDaGFuZ2UnKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhY3RpdmVJbmRleCA9PT0gcHJldmlvdXNJbmRleCAmJiBzd2lwZXIucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICBzd2lwZXIucmVhbEluZGV4ID0gZ2V0VmlydHVhbFJlYWxJbmRleChhY3RpdmVJbmRleCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG5cbiAgLy8gR2V0IHJlYWwgaW5kZXhcbiAgbGV0IHJlYWxJbmRleDtcbiAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgcGFyYW1zLmxvb3ApIHtcbiAgICByZWFsSW5kZXggPSBnZXRWaXJ0dWFsUmVhbEluZGV4KGFjdGl2ZUluZGV4KTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCkge1xuICAgIGNvbnN0IGZpcnN0U2xpZGVJbkNvbHVtbiA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4KVswXTtcbiAgICBsZXQgYWN0aXZlU2xpZGVJbmRleCA9IHBhcnNlSW50KGZpcnN0U2xpZGVJbkNvbHVtbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGFjdGl2ZVNsaWRlSW5kZXgpKSB7XG4gICAgICBhY3RpdmVTbGlkZUluZGV4ID0gTWF0aC5tYXgoc3dpcGVyLnNsaWRlcy5pbmRleE9mKGZpcnN0U2xpZGVJbkNvbHVtbiksIDApO1xuICAgIH1cbiAgICByZWFsSW5kZXggPSBNYXRoLmZsb29yKGFjdGl2ZVNsaWRlSW5kZXggLyBwYXJhbXMuZ3JpZC5yb3dzKTtcbiAgfSBlbHNlIGlmIChzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XSkge1xuICAgIGNvbnN0IHNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgIHJlYWxJbmRleCA9IHBhcnNlSW50KHNsaWRlSW5kZXgsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVhbEluZGV4ID0gYWN0aXZlSW5kZXg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlYWxJbmRleCA9IGFjdGl2ZUluZGV4O1xuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgcHJldmlvdXNTbmFwSW5kZXgsXG4gICAgc25hcEluZGV4LFxuICAgIHByZXZpb3VzUmVhbEluZGV4LFxuICAgIHJlYWxJbmRleCxcbiAgICBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4XG4gIH0pO1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkKSB7XG4gICAgcHJlbG9hZChzd2lwZXIpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdhY3RpdmVJbmRleENoYW5nZScpO1xuICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQgfHwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpIHtcbiAgICBpZiAocHJldmlvdXNSZWFsSW5kZXggIT09IHJlYWxJbmRleCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ3JlYWxJbmRleENoYW5nZScpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2UnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDbGlja2VkU2xpZGUoZWwsIHBhdGgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgbGV0IHNsaWRlID0gZWwuY2xvc2VzdChgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgaWYgKCFzbGlkZSAmJiBzd2lwZXIuaXNFbGVtZW50ICYmIHBhdGggJiYgcGF0aC5sZW5ndGggPiAxICYmIHBhdGguaW5jbHVkZXMoZWwpKSB7XG4gICAgWy4uLnBhdGguc2xpY2UocGF0aC5pbmRleE9mKGVsKSArIDEsIHBhdGgubGVuZ3RoKV0uZm9yRWFjaChwYXRoRWwgPT4ge1xuICAgICAgaWYgKCFzbGlkZSAmJiBwYXRoRWwubWF0Y2hlcyAmJiBwYXRoRWwubWF0Y2hlcyhgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSkge1xuICAgICAgICBzbGlkZSA9IHBhdGhFbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBsZXQgc2xpZGVGb3VuZCA9IGZhbHNlO1xuICBsZXQgc2xpZGVJbmRleDtcbiAgaWYgKHNsaWRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpXSA9PT0gc2xpZGUpIHtcbiAgICAgICAgc2xpZGVGb3VuZCA9IHRydWU7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHNsaWRlICYmIHNsaWRlRm91bmQpIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gc2xpZGU7XG4gICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gcGFyc2VJbnQoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBzbGlkZUluZGV4O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gdW5kZWZpbmVkO1xuICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMuc2xpZGVUb0NsaWNrZWRTbGlkZSAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSB1bmRlZmluZWQgJiYgc3dpcGVyLmNsaWNrZWRJbmRleCAhPT0gc3dpcGVyLmFjdGl2ZUluZGV4KSB7XG4gICAgc3dpcGVyLnNsaWRlVG9DbGlja2VkU2xpZGUoKTtcbiAgfVxufVxuXG52YXIgdXBkYXRlID0ge1xuICB1cGRhdGVTaXplLFxuICB1cGRhdGVTbGlkZXMsXG4gIHVwZGF0ZUF1dG9IZWlnaHQsXG4gIHVwZGF0ZVNsaWRlc09mZnNldCxcbiAgdXBkYXRlU2xpZGVzUHJvZ3Jlc3MsXG4gIHVwZGF0ZVByb2dyZXNzLFxuICB1cGRhdGVTbGlkZXNDbGFzc2VzLFxuICB1cGRhdGVBY3RpdmVJbmRleCxcbiAgdXBkYXRlQ2xpY2tlZFNsaWRlXG59O1xuXG5mdW5jdGlvbiBnZXRTd2lwZXJUcmFuc2xhdGUoYXhpcykge1xuICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgYXhpcyA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAneCcgOiAneSc7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB0cmFuc2xhdGUsXG4gICAgd3JhcHBlckVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIHJldHVybiBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybiB0cmFuc2xhdGU7XG4gIH1cbiAgbGV0IGN1cnJlbnRUcmFuc2xhdGUgPSBnZXRUcmFuc2xhdGUod3JhcHBlckVsLCBheGlzKTtcbiAgY3VycmVudFRyYW5zbGF0ZSArPSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gIGlmIChydGwpIGN1cnJlbnRUcmFuc2xhdGUgPSAtY3VycmVudFRyYW5zbGF0ZTtcbiAgcmV0dXJuIGN1cnJlbnRUcmFuc2xhdGUgfHwgMDtcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBwYXJhbXMsXG4gICAgd3JhcHBlckVsLFxuICAgIHByb2dyZXNzXG4gIH0gPSBzd2lwZXI7XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuICBjb25zdCB6ID0gMDtcbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHggPSBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9IGVsc2Uge1xuICAgIHkgPSB0cmFuc2xhdGU7XG4gIH1cbiAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHtcbiAgICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgICB5ID0gTWF0aC5mbG9vcih5KTtcbiAgfVxuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICBzd2lwZXIudHJhbnNsYXRlID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8geCA6IHk7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHdyYXBwZXJFbFtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAteCA6IC15O1xuICB9IGVsc2UgaWYgKCFwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHggLT0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5IC09IHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgICB9XG4gICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3h9cHgsICR7eX1weCwgJHt6fXB4KWA7XG4gIH1cblxuICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSBwcm9ncmVzc1xuICBsZXQgbmV3UHJvZ3Jlc3M7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gcHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gbWluVHJhbnNsYXRlKCkge1xuICByZXR1cm4gLXRoaXMuc25hcEdyaWRbMF07XG59XG5cbmZ1bmN0aW9uIG1heFRyYW5zbGF0ZSgpIHtcbiAgcmV0dXJuIC10aGlzLnNuYXBHcmlkW3RoaXMuc25hcEdyaWQubGVuZ3RoIC0gMV07XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZVRvKHRyYW5zbGF0ZSwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgdHJhbnNsYXRlQm91bmRzLCBpbnRlcm5hbCkge1xuICBpZiAodHJhbnNsYXRlID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGUgPSAwO1xuICB9XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0cmFuc2xhdGVCb3VuZHMgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZUJvdW5kcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB3cmFwcGVyRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBtaW5UcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGNvbnN0IG1heFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgbGV0IG5ld1RyYW5zbGF0ZTtcbiAgaWYgKHRyYW5zbGF0ZUJvdW5kcyAmJiB0cmFuc2xhdGUgPiBtaW5UcmFuc2xhdGUpIG5ld1RyYW5zbGF0ZSA9IG1pblRyYW5zbGF0ZTtlbHNlIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlIDwgbWF4VHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtYXhUcmFuc2xhdGU7ZWxzZSBuZXdUcmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdUcmFuc2xhdGUpO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBjb25zdCBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gLW5ld1RyYW5zbGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpIHtcbiAgICAgICAgYW5pbWF0ZUNTU01vZGVTY3JvbGwoe1xuICAgICAgICAgIHN3aXBlcixcbiAgICAgICAgICB0YXJnZXRQb3NpdGlvbjogLW5ld1RyYW5zbGF0ZSxcbiAgICAgICAgICBzaWRlOiBpc0ggPyAnbGVmdCcgOiAndG9wJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB3cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgICBbaXNIID8gJ2xlZnQnIDogJ3RvcCddOiAtbmV3VHJhbnNsYXRlLFxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcpO1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgaWYgKCFzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSB7XG4gICAgICAgIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG4gICAgICAgICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbnZhciB0cmFuc2xhdGUgPSB7XG4gIGdldFRyYW5zbGF0ZTogZ2V0U3dpcGVyVHJhbnNsYXRlLFxuICBzZXRUcmFuc2xhdGUsXG4gIG1pblRyYW5zbGF0ZSxcbiAgbWF4VHJhbnNsYXRlLFxuICB0cmFuc2xhdGVUb1xufTtcblxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSBkdXJhdGlvbiA9PT0gMCA/IGAwbXNgIDogJyc7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zaXRpb24nLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVtaXQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBydW5DYWxsYmFja3MsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0ZXBcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVJbmRleCxcbiAgICBwcmV2aW91c0luZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGxldCBkaXIgPSBkaXJlY3Rpb247XG4gIGlmICghZGlyKSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4ID4gcHJldmlvdXNJbmRleCkgZGlyID0gJ25leHQnO2Vsc2UgaWYgKGFjdGl2ZUluZGV4IDwgcHJldmlvdXNJbmRleCkgZGlyID0gJ3ByZXYnO2Vsc2UgZGlyID0gJ3Jlc2V0JztcbiAgfVxuICBzd2lwZXIuZW1pdChgdHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgaWYgKHJ1bkNhbGxiYWNrcyAmJiBhY3RpdmVJbmRleCAhPT0gcHJldmlvdXNJbmRleCkge1xuICAgIGlmIChkaXIgPT09ICdyZXNldCcpIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZVJlc2V0VHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoYHNsaWRlQ2hhbmdlVHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICBpZiAoZGlyID09PSAnbmV4dCcpIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZU5leHRUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZW1pdChgc2xpZGVQcmV2VHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgfVxuICB0cmFuc2l0aW9uRW1pdCh7XG4gICAgc3dpcGVyLFxuICAgIHJ1bkNhbGxiYWNrcyxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RlcDogJ1N0YXJ0J1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gIHRyYW5zaXRpb25FbWl0KHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwOiAnRW5kJ1xuICB9KTtcbn1cblxudmFyIHRyYW5zaXRpb24gPSB7XG4gIHNldFRyYW5zaXRpb24sXG4gIHRyYW5zaXRpb25TdGFydCxcbiAgdHJhbnNpdGlvbkVuZFxufTtcblxuZnVuY3Rpb24gc2xpZGVUbyhpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwsIGluaXRpYWwpIHtcbiAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICBpbmRleCA9IDA7XG4gIH1cbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3N0cmluZycpIHtcbiAgICBpbmRleCA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgbGV0IHNsaWRlSW5kZXggPSBpbmRleDtcbiAgaWYgKHNsaWRlSW5kZXggPCAwKSBzbGlkZUluZGV4ID0gMDtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHByZXZpb3VzSW5kZXgsXG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgd3JhcHBlckVsLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbiB8fCAhZW5hYmxlZCAmJiAhaW50ZXJuYWwgJiYgIWluaXRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBzbGlkZUluZGV4KTtcbiAgbGV0IHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChzbGlkZUluZGV4IC0gc2tpcCkgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IC1zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSAtTWF0aC5mbG9vcih0cmFuc2xhdGUgKiAxMDApO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEdyaWQgPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRbaV0gKiAxMDApO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEdyaWROZXh0ID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2kgKyAxXSAqIDEwMCk7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0IC0gKG5vcm1hbGl6ZWRHcmlkTmV4dCAtIG5vcm1hbGl6ZWRHcmlkKSAvIDIpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPCBub3JtYWxpemVkR3JpZE5leHQpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRGlyZWN0aW9ucyBsb2Nrc1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkICYmIHNsaWRlSW5kZXggIT09IGFjdGl2ZUluZGV4KSB7XG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgKHJ0bCA/IHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIDogdHJhbnNsYXRlIDwgc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPCBzd2lwZXIubWluVHJhbnNsYXRlKCkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmIHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBpZiAoKGFjdGl2ZUluZGV4IHx8IDApICE9PSBzbGlkZUluZGV4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHNsaWRlSW5kZXggIT09IChwcmV2aW91c0luZGV4IHx8IDApICYmIHJ1bkNhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVTbGlkZUNoYW5nZVN0YXJ0Jyk7XG4gIH1cblxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSk7XG4gIGxldCBkaXJlY3Rpb247XG4gIGlmIChzbGlkZUluZGV4ID4gYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICduZXh0JztlbHNlIGlmIChzbGlkZUluZGV4IDwgYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICdwcmV2JztlbHNlIGRpcmVjdGlvbiA9ICdyZXNldCc7XG5cbiAgLy8gVXBkYXRlIEluZGV4XG4gIGlmIChydGwgJiYgLXRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSB8fCAhcnRsICYmIHRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSkge1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTtcbiAgICAvLyBVcGRhdGUgSGVpZ2h0XG4gICAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgIH1cbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIGlmIChwYXJhbXMuZWZmZWN0ICE9PSAnc2xpZGUnKSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gICAgfVxuICAgIGlmIChkaXJlY3Rpb24gIT09ICdyZXNldCcpIHtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgY29uc3QgaXNIID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuICAgIGNvbnN0IHQgPSBydGwgPyB0cmFuc2xhdGUgOiAtdHJhbnNsYXRlO1xuICAgIGlmIChzcGVlZCA9PT0gMCkge1xuICAgICAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnbm9uZSc7XG4gICAgICAgIHN3aXBlci5faW1tZWRpYXRlVmlydHVhbCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNWaXJ0dWFsICYmICFzd2lwZXIuX2Nzc01vZGVWaXJ0dWFsSW5pdGlhbFNldCAmJiBzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSA+IDApIHtcbiAgICAgICAgc3dpcGVyLl9jc3NNb2RlVmlydHVhbEluaXRpYWxTZXQgPSB0cnVlO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgfVxuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnJztcbiAgICAgICAgICBzd2lwZXIuX2ltbWVkaWF0ZVZpcnR1YWwgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc3dpcGVyLnN1cHBvcnQuc21vb3RoU2Nyb2xsKSB7XG4gICAgICAgIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKHtcbiAgICAgICAgICBzd2lwZXIsXG4gICAgICAgICAgdGFyZ2V0UG9zaXRpb246IHQsXG4gICAgICAgICAgc2lkZTogaXNIID8gJ2xlZnQnIDogJ3RvcCdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXTogdCxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gIH0gZWxzZSBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICBpZiAoIXN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG4gICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHNsaWRlVG9Mb29wKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IGluZGV4QXNOdW1iZXIgPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgIGluZGV4ID0gaW5kZXhBc051bWJlcjtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGxldCBuZXdJbmRleCA9IGluZGV4O1xuICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5ld0luZGV4ID0gbmV3SW5kZXggKyBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0YXJnZXRTbGlkZUluZGV4O1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlSW5kZXggPSBuZXdJbmRleCAqIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzO1xuICAgICAgICB0YXJnZXRTbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IHNsaWRlSW5kZXgpWzBdLmNvbHVtbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShuZXdJbmRleCk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb2xzID0gZ3JpZEVuYWJsZWQgPyBNYXRoLmNlaWwoc3dpcGVyLnNsaWRlcy5sZW5ndGggLyBzd2lwZXIucGFyYW1zLmdyaWQucm93cykgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY2VudGVyZWRTbGlkZXNcbiAgICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgICAgbGV0IHNsaWRlc1BlclZpZXcgPSBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAoc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHNsaWRlc1BlclZpZXcgPSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlc1BlclZpZXcgPSBNYXRoLmNlaWwocGFyc2VGbG9hdChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSk7XG4gICAgICAgIGlmIChjZW50ZXJlZFNsaWRlcyAmJiBzbGlkZXNQZXJWaWV3ICUgMiA9PT0gMCkge1xuICAgICAgICAgIHNsaWRlc1BlclZpZXcgPSBzbGlkZXNQZXJWaWV3ICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IG5lZWRMb29wRml4ID0gY29scyAtIHRhcmdldFNsaWRlSW5kZXggPCBzbGlkZXNQZXJWaWV3O1xuICAgICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgIG5lZWRMb29wRml4ID0gbmVlZExvb3BGaXggfHwgdGFyZ2V0U2xpZGVJbmRleCA8IE1hdGguY2VpbChzbGlkZXNQZXJWaWV3IC8gMik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExvb3BGaXgpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY2VudGVyZWRTbGlkZXMgPyB0YXJnZXRTbGlkZUluZGV4IDwgc3dpcGVyLmFjdGl2ZUluZGV4ID8gJ3ByZXYnIDogJ25leHQnIDogdGFyZ2V0U2xpZGVJbmRleCAtIHN3aXBlci5hY3RpdmVJbmRleCAtIDEgPCBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPyAnbmV4dCcgOiAncHJldic7XG4gICAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgICAgc2xpZGVUbzogdHJ1ZSxcbiAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiBkaXJlY3Rpb24gPT09ICduZXh0JyA/IHRhcmdldFNsaWRlSW5kZXggKyAxIDogdGFyZ2V0U2xpZGVJbmRleCAtIGNvbHMgKyAxLFxuICAgICAgICAgIHNsaWRlUmVhbEluZGV4OiBkaXJlY3Rpb24gPT09ICduZXh0JyA/IHN3aXBlci5yZWFsSW5kZXggOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IG5ld0luZGV4ICogc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3M7XG4gICAgICAgIG5ld0luZGV4ID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IHNsaWRlSW5kZXgpWzBdLmNvbHVtbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEobmV3SW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH0pO1xuICByZXR1cm4gc3dpcGVyO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlTmV4dChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgZW5hYmxlZCxcbiAgICBwYXJhbXMsXG4gICAgYW5pbWF0aW5nXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuIHN3aXBlcjtcbiAgbGV0IHBlckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0bykge1xuICAgIHBlckdyb3VwID0gTWF0aC5tYXgoc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCdjdXJyZW50JywgdHJ1ZSksIDEpO1xuICB9XG4gIGNvbnN0IGluY3JlbWVudCA9IHN3aXBlci5hY3RpdmVJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGVyR3JvdXA7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgIWlzVmlydHVhbCAmJiBwYXJhbXMubG9vcFByZXZlbnRzU2xpZGluZykgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgIGRpcmVjdGlvbjogJ25leHQnXG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLndyYXBwZXJFbC5jbGllbnRMZWZ0O1xuICAgIGlmIChzd2lwZXIuYWN0aXZlSW5kZXggPT09IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgaW5jcmVtZW50LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQpIHtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBpbmNyZW1lbnQsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVByZXYoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHJ0bFRyYW5zbGF0ZSxcbiAgICBlbmFibGVkLFxuICAgIGFuaW1hdGluZ1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybiBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgIWlzVmlydHVhbCAmJiBwYXJhbXMubG9vcFByZXZlbnRzU2xpZGluZykgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgIGRpcmVjdGlvbjogJ3ByZXYnXG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLndyYXBwZXJFbC5jbGllbnRMZWZ0O1xuICB9XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbCkge1xuICAgIGlmICh2YWwgPCAwKSByZXR1cm4gLU1hdGguZmxvb3IoTWF0aC5hYnModmFsKSk7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodmFsKTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkVHJhbnNsYXRlID0gbm9ybWFsaXplKHRyYW5zbGF0ZSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRTbmFwR3JpZCA9IHNuYXBHcmlkLm1hcCh2YWwgPT4gbm9ybWFsaXplKHZhbCkpO1xuICBsZXQgcHJldlNuYXAgPSBzbmFwR3JpZFtub3JtYWxpemVkU25hcEdyaWQuaW5kZXhPZihub3JtYWxpemVkVHJhbnNsYXRlKSAtIDFdO1xuICBpZiAodHlwZW9mIHByZXZTbmFwID09PSAndW5kZWZpbmVkJyAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIGxldCBwcmV2U25hcEluZGV4O1xuICAgIHNuYXBHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gc25hcCkge1xuICAgICAgICAvLyBwcmV2U25hcCA9IHNuYXA7XG4gICAgICAgIHByZXZTbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBwcmV2U25hcEluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcHJldlNuYXAgPSBzbmFwR3JpZFtwcmV2U25hcEluZGV4ID4gMCA/IHByZXZTbmFwSW5kZXggLSAxIDogcHJldlNuYXBJbmRleF07XG4gICAgfVxuICB9XG4gIGxldCBwcmV2SW5kZXggPSAwO1xuICBpZiAodHlwZW9mIHByZXZTbmFwICE9PSAndW5kZWZpbmVkJykge1xuICAgIHByZXZJbmRleCA9IHNsaWRlc0dyaWQuaW5kZXhPZihwcmV2U25hcCk7XG4gICAgaWYgKHByZXZJbmRleCA8IDApIHByZXZJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCAtIDE7XG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8pIHtcbiAgICAgIHByZXZJbmRleCA9IHByZXZJbmRleCAtIHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygncHJldmlvdXMnLCB0cnVlKSArIDE7XG4gICAgICBwcmV2SW5kZXggPSBNYXRoLm1heChwcmV2SW5kZXgsIDApO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICBjb25zdCBsYXN0SW5kZXggPSBzd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIC0gMSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8obGFzdEluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH0gZWxzZSBpZiAocGFyYW1zLmxvb3AgJiYgc3dpcGVyLmFjdGl2ZUluZGV4ID09PSAwICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHByZXZJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhwcmV2SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVJlc2V0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVRvQ2xvc2VzdChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgdGhyZXNob2xkKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgIHRocmVzaG9sZCA9IDAuNTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIGNvbnN0IHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpO1xuICBjb25zdCBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoaW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBpZiAodHJhbnNsYXRlID49IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIG9uIG9yIGFmdGVyIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAvLyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGluZGV4IGFuZCB0aGUgb25lIGFmdGVyIGl0LlxuICAgIGNvbnN0IGN1cnJlbnRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF07XG4gICAgY29uc3QgbmV4dFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4ICsgMV07XG4gICAgaWYgKHRyYW5zbGF0ZSAtIGN1cnJlbnRTbmFwID4gKG5leHRTbmFwIC0gY3VycmVudFNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICBpbmRleCArPSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBUaGUgY3VycmVudCB0cmFuc2xhdGUgaXMgYmVmb3JlIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAvLyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGluZGV4IGFuZCB0aGUgb25lIGJlZm9yZSBpdC5cbiAgICBjb25zdCBwcmV2U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggLSAxXTtcbiAgICBjb25zdCBjdXJyZW50U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAgIGlmICh0cmFuc2xhdGUgLSBwcmV2U25hcCA8PSAoY3VycmVudFNuYXAgLSBwcmV2U25hcCkgKiB0aHJlc2hvbGQpIHtcbiAgICAgIGluZGV4IC09IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgfVxuICB9XG4gIGluZGV4ID0gTWF0aC5tYXgoaW5kZXgsIDApO1xuICBpbmRleCA9IE1hdGgubWluKGluZGV4LCBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbmZ1bmN0aW9uIHNsaWRlVG9DbGlja2VkU2xpZGUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qgc2xpZGVzUGVyVmlldyA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICBsZXQgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgbGV0IHJlYWxJbmRleDtcbiAgY29uc3Qgc2xpZGVTZWxlY3RvciA9IHN3aXBlci5pc0VsZW1lbnQgPyBgc3dpcGVyLXNsaWRlYCA6IGAuJHtwYXJhbXMuc2xpZGVDbGFzc31gO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykgcmV0dXJuO1xuICAgIHJlYWxJbmRleCA9IHBhcnNlSW50KHN3aXBlci5jbGlja2VkU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgaWYgKHNsaWRlVG9JbmRleCA8IHN3aXBlci5sb29wZWRTbGlkZXMgLSBzbGlkZXNQZXJWaWV3IC8gMiB8fCBzbGlkZVRvSW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMgKyBzbGlkZXNQZXJWaWV3IC8gMikge1xuICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICBzbGlkZVRvSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAke3NsaWRlU2VsZWN0b3J9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtyZWFsSW5kZXh9XCJdYClbMF0pO1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xpZGVUb0luZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzbGlkZXNQZXJWaWV3KSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgJHtzbGlkZVNlbGVjdG9yfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7cmVhbEluZGV4fVwiXWApWzBdKTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICB9XG59XG5cbnZhciBzbGlkZSA9IHtcbiAgc2xpZGVUbyxcbiAgc2xpZGVUb0xvb3AsXG4gIHNsaWRlTmV4dCxcbiAgc2xpZGVQcmV2LFxuICBzbGlkZVJlc2V0LFxuICBzbGlkZVRvQ2xvc2VzdCxcbiAgc2xpZGVUb0NsaWNrZWRTbGlkZVxufTtcblxuZnVuY3Rpb24gbG9vcENyZWF0ZShzbGlkZVJlYWxJbmRleCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghcGFyYW1zLmxvb3AgfHwgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgY29uc3QgaW5pdFNsaWRlcyA9ICgpID0+IHtcbiAgICBjb25zdCBzbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICAgIHNsaWRlcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBpbmRleCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGNvbnN0IHNsaWRlc1Blckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwICogKGdyaWRFbmFibGVkID8gcGFyYW1zLmdyaWQucm93cyA6IDEpO1xuICBjb25zdCBzaG91bGRGaWxsR3JvdXAgPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHNsaWRlc1Blckdyb3VwICE9PSAwO1xuICBjb25zdCBzaG91bGRGaWxsR3JpZCA9IGdyaWRFbmFibGVkICYmIHN3aXBlci5zbGlkZXMubGVuZ3RoICUgcGFyYW1zLmdyaWQucm93cyAhPT0gMDtcbiAgY29uc3QgYWRkQmxhbmtTbGlkZXMgPSBhbW91bnRPZlNsaWRlcyA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnRPZlNsaWRlczsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc3dpcGVyLmlzRWxlbWVudCA/IGNyZWF0ZUVsZW1lbnQoJ3N3aXBlci1zbGlkZScsIFtwYXJhbXMuc2xpZGVCbGFua0NsYXNzXSkgOiBjcmVhdGVFbGVtZW50KCdkaXYnLCBbcGFyYW1zLnNsaWRlQ2xhc3MsIHBhcmFtcy5zbGlkZUJsYW5rQ2xhc3NdKTtcbiAgICAgIHN3aXBlci5zbGlkZXNFbC5hcHBlbmQoc2xpZGVFbCk7XG4gICAgfVxuICB9O1xuICBpZiAoc2hvdWxkRmlsbEdyb3VwKSB7XG4gICAgaWYgKHBhcmFtcy5sb29wQWRkQmxhbmtTbGlkZXMpIHtcbiAgICAgIGNvbnN0IHNsaWRlc1RvQWRkID0gc2xpZGVzUGVyR3JvdXAgLSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHNsaWRlc1Blckdyb3VwO1xuICAgICAgYWRkQmxhbmtTbGlkZXMoc2xpZGVzVG9BZGQpO1xuICAgICAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogVGhlIG51bWJlciBvZiBzbGlkZXMgaXMgbm90IGV2ZW4gdG8gc2xpZGVzUGVyR3JvdXAsIGxvb3AgbW9kZSBtYXkgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcywgb3IgZW1wdHkgc2xpZGVzKScpO1xuICAgIH1cbiAgICBpbml0U2xpZGVzKCk7XG4gIH0gZWxzZSBpZiAoc2hvdWxkRmlsbEdyaWQpIHtcbiAgICBpZiAocGFyYW1zLmxvb3BBZGRCbGFua1NsaWRlcykge1xuICAgICAgY29uc3Qgc2xpZGVzVG9BZGQgPSBwYXJhbXMuZ3JpZC5yb3dzIC0gc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBwYXJhbXMuZ3JpZC5yb3dzO1xuICAgICAgYWRkQmxhbmtTbGlkZXMoc2xpZGVzVG9BZGQpO1xuICAgICAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogVGhlIG51bWJlciBvZiBzbGlkZXMgaXMgbm90IGV2ZW4gdG8gZ3JpZC5yb3dzLCBsb29wIG1vZGUgbWF5IG5vdCBmdW5jdGlvbiBwcm9wZXJseS4gWW91IG5lZWQgdG8gYWRkIG1vcmUgc2xpZGVzIChvciBtYWtlIGR1cGxpY2F0ZXMsIG9yIGVtcHR5IHNsaWRlcyknKTtcbiAgICB9XG4gICAgaW5pdFNsaWRlcygpO1xuICB9IGVsc2Uge1xuICAgIGluaXRTbGlkZXMoKTtcbiAgfVxuICBzd2lwZXIubG9vcEZpeCh7XG4gICAgc2xpZGVSZWFsSW5kZXgsXG4gICAgZGlyZWN0aW9uOiBwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyB1bmRlZmluZWQgOiAnbmV4dCdcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvb3BGaXgoX3RlbXApIHtcbiAgbGV0IHtcbiAgICBzbGlkZVJlYWxJbmRleCxcbiAgICBzbGlkZVRvID0gdHJ1ZSxcbiAgICBkaXJlY3Rpb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIGFjdGl2ZVNsaWRlSW5kZXgsXG4gICAgYnlDb250cm9sbGVyLFxuICAgIGJ5TW91c2V3aGVlbFxuICB9ID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5sb29wKSByZXR1cm47XG4gIHN3aXBlci5lbWl0KCdiZWZvcmVMb29wRml4Jyk7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgYWxsb3dTbGlkZVByZXYsXG4gICAgYWxsb3dTbGlkZU5leHQsXG4gICAgc2xpZGVzRWwsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHtcbiAgICBjZW50ZXJlZFNsaWRlc1xuICB9ID0gcGFyYW1zO1xuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSB0cnVlO1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgIGlmIChzbGlkZVRvKSB7XG4gICAgICBpZiAoIXBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIuc25hcEluZGV4ID09PSAwKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHN3aXBlci5zbmFwSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyVmlldykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoICsgc3dpcGVyLnNuYXBJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChzd2lwZXIuc25hcEluZGV4ID09PSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoIC0gMSkge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gICAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gICAgc3dpcGVyLmVtaXQoJ2xvb3BGaXgnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNsaWRlc1BlclZpZXcgPSBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgaWYgKHNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgIHNsaWRlc1BlclZpZXcgPSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKTtcbiAgfSBlbHNlIHtcbiAgICBzbGlkZXNQZXJWaWV3ID0gTWF0aC5jZWlsKHBhcnNlRmxvYXQocGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSk7XG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzICYmIHNsaWRlc1BlclZpZXcgJSAyID09PSAwKSB7XG4gICAgICBzbGlkZXNQZXJWaWV3ID0gc2xpZGVzUGVyVmlldyArIDE7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNsaWRlc1Blckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0byA/IHNsaWRlc1BlclZpZXcgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gIGxldCBsb29wZWRTbGlkZXMgPSBzbGlkZXNQZXJHcm91cDtcbiAgaWYgKGxvb3BlZFNsaWRlcyAlIHNsaWRlc1Blckdyb3VwICE9PSAwKSB7XG4gICAgbG9vcGVkU2xpZGVzICs9IHNsaWRlc1Blckdyb3VwIC0gbG9vcGVkU2xpZGVzICUgc2xpZGVzUGVyR3JvdXA7XG4gIH1cbiAgbG9vcGVkU2xpZGVzICs9IHBhcmFtcy5sb29wQWRkaXRpb25hbFNsaWRlcztcbiAgc3dpcGVyLmxvb3BlZFNsaWRlcyA9IGxvb3BlZFNsaWRlcztcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgaWYgKHNsaWRlcy5sZW5ndGggPCBzbGlkZXNQZXJWaWV3ICsgbG9vcGVkU2xpZGVzKSB7XG4gICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IFRoZSBudW1iZXIgb2Ygc2xpZGVzIGlzIG5vdCBlbm91Z2ggZm9yIGxvb3AgbW9kZSwgaXQgd2lsbCBiZSBkaXNhYmxlZCBhbmQgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcykgb3IgbG93ZXIgdGhlIHZhbHVlcyBvZiBzbGlkZXNQZXJWaWV3IGFuZCBzbGlkZXNQZXJHcm91cCBwYXJhbWV0ZXJzJyk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ3JvdycpIHtcbiAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogTG9vcCBtb2RlIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggZ3JpZC5maWxsID0gYHJvd2AnKTtcbiAgfVxuICBjb25zdCBwcmVwZW5kU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBjb25zdCBhcHBlbmRTbGlkZXNJbmRleGVzID0gW107XG4gIGxldCBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgaWYgKHR5cGVvZiBhY3RpdmVTbGlkZUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChzbGlkZXMuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucyhwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcykpWzBdKTtcbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXg7XG4gIH1cbiAgY29uc3QgaXNOZXh0ID0gZGlyZWN0aW9uID09PSAnbmV4dCcgfHwgIWRpcmVjdGlvbjtcbiAgY29uc3QgaXNQcmV2ID0gZGlyZWN0aW9uID09PSAncHJldicgfHwgIWRpcmVjdGlvbjtcbiAgbGV0IHNsaWRlc1ByZXBlbmRlZCA9IDA7XG4gIGxldCBzbGlkZXNBcHBlbmRlZCA9IDA7XG4gIGNvbnN0IGNvbHMgPSBncmlkRW5hYmxlZCA/IE1hdGguY2VpbChzbGlkZXMubGVuZ3RoIC8gcGFyYW1zLmdyaWQucm93cykgOiBzbGlkZXMubGVuZ3RoO1xuICBjb25zdCBhY3RpdmVDb2xJbmRleCA9IGdyaWRFbmFibGVkID8gc2xpZGVzW2FjdGl2ZVNsaWRlSW5kZXhdLmNvbHVtbiA6IGFjdGl2ZVNsaWRlSW5kZXg7XG4gIGNvbnN0IGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0ID0gYWN0aXZlQ29sSW5kZXggKyAoY2VudGVyZWRTbGlkZXMgJiYgdHlwZW9mIHNldFRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcgPyAtc2xpZGVzUGVyVmlldyAvIDIgKyAwLjUgOiAwKTtcbiAgLy8gcHJlcGVuZCBsYXN0IHNsaWRlcyBiZWZvcmUgc3RhcnRcbiAgaWYgKGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0IDwgbG9vcGVkU2xpZGVzKSB7XG4gICAgc2xpZGVzUHJlcGVuZGVkID0gTWF0aC5tYXgobG9vcGVkU2xpZGVzIC0gYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQsIHNsaWRlc1Blckdyb3VwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvb3BlZFNsaWRlcyAtIGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAtIE1hdGguZmxvb3IoaSAvIGNvbHMpICogY29scztcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBjb2xJbmRleFRvUHJlcGVuZCA9IGNvbHMgLSBpbmRleCAtIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSBzbGlkZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVzW2ldLmNvbHVtbiA9PT0gY29sSW5kZXhUb1ByZXBlbmQpIHByZXBlbmRTbGlkZXNJbmRleGVzLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICAgIC8vICAgaWYgKHNsaWRlLmNvbHVtbiA9PT0gY29sSW5kZXhUb1ByZXBlbmQpIHByZXBlbmRTbGlkZXNJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChjb2xzIC0gaW5kZXggLSAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgKyBzbGlkZXNQZXJWaWV3ID4gY29scyAtIGxvb3BlZFNsaWRlcykge1xuICAgIHNsaWRlc0FwcGVuZGVkID0gTWF0aC5tYXgoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgLSAoY29scyAtIGxvb3BlZFNsaWRlcyAqIDIpLCBzbGlkZXNQZXJHcm91cCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNBcHBlbmRlZDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGkgLSBNYXRoLmZsb29yKGkgLyBjb2xzKSAqIGNvbHM7XG4gICAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKHNsaWRlLmNvbHVtbiA9PT0gaW5kZXgpIGFwcGVuZFNsaWRlc0luZGV4ZXMucHVzaChzbGlkZUluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBlbmRTbGlkZXNJbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IHRydWU7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSBmYWxzZTtcbiAgfSk7XG4gIGlmIChpc1ByZXYpIHtcbiAgICBwcmVwZW5kU2xpZGVzSW5kZXhlcy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSB0cnVlO1xuICAgICAgc2xpZGVzRWwucHJlcGVuZChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBpZiAoaXNOZXh0KSB7XG4gICAgYXBwZW5kU2xpZGVzSW5kZXhlcy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSB0cnVlO1xuICAgICAgc2xpZGVzRWwuYXBwZW5kKHNsaWRlc1tpbmRleF0pO1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQgJiYgKHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNQcmV2IHx8IGFwcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc05leHQpKSB7XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgc3dpcGVyLmdyaWQudXBkYXRlU2xpZGUoc2xpZGVJbmRleCwgc2xpZGUsIHN3aXBlci5zbGlkZXMpO1xuICAgIH0pO1xuICB9XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgfVxuICBpZiAoc2xpZGVUbykge1xuICAgIGlmIChwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzUHJldikge1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZVJlYWxJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdO1xuICAgICAgICBjb25zdCBuZXdTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4ICsgc2xpZGVzUHJlcGVuZGVkXTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG5ld1NsaWRlVHJhbnNsYXRlIC0gY3VycmVudFNsaWRlVHJhbnNsYXRlO1xuICAgICAgICBpZiAoYnlNb3VzZXdoZWVsKSB7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShzd2lwZXIudHJhbnNsYXRlIC0gZGlmZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXggKyBzbGlkZXNQcmVwZW5kZWQsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICBpZiAoc2V0VHJhbnNsYXRlKSB7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gZ3JpZEVuYWJsZWQgPyBwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzIDogcHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoO1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIHNoaWZ0LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzTmV4dCkge1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZVJlYWxJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdO1xuICAgICAgICBjb25zdCBuZXdTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4IC0gc2xpZGVzQXBwZW5kZWRdO1xuICAgICAgICBjb25zdCBkaWZmID0gbmV3U2xpZGVUcmFuc2xhdGUgLSBjdXJyZW50U2xpZGVUcmFuc2xhdGU7XG4gICAgICAgIGlmIChieU1vdXNld2hlZWwpIHtcbiAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHN3aXBlci50cmFuc2xhdGUgLSBkaWZmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCAtIHNsaWRlc0FwcGVuZGVkLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gZ3JpZEVuYWJsZWQgPyBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCAvIHBhcmFtcy5ncmlkLnJvd3MgOiBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aDtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4IC0gc2hpZnQsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICBpZiAoc3dpcGVyLmNvbnRyb2xsZXIgJiYgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCAmJiAhYnlDb250cm9sbGVyKSB7XG4gICAgY29uc3QgbG9vcFBhcmFtcyA9IHtcbiAgICAgIHNsaWRlUmVhbEluZGV4LFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgc2V0VHJhbnNsYXRlLFxuICAgICAgYWN0aXZlU2xpZGVJbmRleCxcbiAgICAgIGJ5Q29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkpIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wuZm9yRWFjaChjID0+IHtcbiAgICAgICAgaWYgKCFjLmRlc3Ryb3llZCAmJiBjLnBhcmFtcy5sb29wKSBjLmxvb3BGaXgoe1xuICAgICAgICAgIC4uLmxvb3BQYXJhbXMsXG4gICAgICAgICAgc2xpZGVUbzogYy5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPyBzbGlkZVRvIDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgaW5zdGFuY2VvZiBzd2lwZXIuY29uc3RydWN0b3IgJiYgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5sb29wRml4KHtcbiAgICAgICAgLi4ubG9vcFBhcmFtcyxcbiAgICAgICAgc2xpZGVUbzogc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPyBzbGlkZVRvIDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzd2lwZXIuZW1pdCgnbG9vcEZpeCcpO1xufVxuXG5mdW5jdGlvbiBsb29wRGVzdHJveSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIXBhcmFtcy5sb29wIHx8IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgY29uc3QgbmV3U2xpZGVzT3JkZXIgPSBbXTtcbiAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gdHlwZW9mIHNsaWRlRWwuc3dpcGVyU2xpZGVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgOiBzbGlkZUVsLnN3aXBlclNsaWRlSW5kZXg7XG4gICAgbmV3U2xpZGVzT3JkZXJbaW5kZXhdID0gc2xpZGVFbDtcbiAgfSk7XG4gIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBzbGlkZUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgfSk7XG4gIG5ld1NsaWRlc09yZGVyLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgc2xpZGVzRWwuYXBwZW5kKHNsaWRlRWwpO1xuICB9KTtcbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucmVhbEluZGV4LCAwKTtcbn1cblxudmFyIGxvb3AgPSB7XG4gIGxvb3BDcmVhdGUsXG4gIGxvb3BGaXgsXG4gIGxvb3BEZXN0cm95XG59O1xuXG5mdW5jdGlvbiBzZXRHcmFiQ3Vyc29yKG1vdmluZykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5wYXJhbXMuc2ltdWxhdGVUb3VjaCB8fCBzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICBjb25zdCBlbCA9IHN3aXBlci5wYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICdjb250YWluZXInID8gc3dpcGVyLmVsIDogc3dpcGVyLndyYXBwZXJFbDtcbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IHRydWU7XG4gIH1cbiAgZWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnO1xuICBlbC5zdHlsZS5jdXJzb3IgPSBtb3ZpbmcgPyAnZ3JhYmJpbmcnIDogJ2dyYWInO1xuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuc2V0R3JhYkN1cnNvcigpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuaXNMb2NrZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSB0cnVlO1xuICB9XG4gIHN3aXBlcltzd2lwZXIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnY29udGFpbmVyJyA/ICdlbCcgOiAnd3JhcHBlckVsJ10uc3R5bGUuY3Vyc29yID0gJyc7XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cblxudmFyIGdyYWJDdXJzb3IgPSB7XG4gIHNldEdyYWJDdXJzb3IsXG4gIHVuc2V0R3JhYkN1cnNvclxufTtcblxuLy8gTW9kaWZpZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NDUyMDU1NC9jdXN0b20tZWxlbWVudC1nZXRyb290bm9kZS1jbG9zZXN0LWZ1bmN0aW9uLWNyb3NzaW5nLW11bHRpcGxlLXBhcmVudC1zaGFkb3dkXG5mdW5jdGlvbiBjbG9zZXN0RWxlbWVudChzZWxlY3RvciwgYmFzZSkge1xuICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgYmFzZSA9IHRoaXM7XG4gIH1cbiAgZnVuY3Rpb24gX19jbG9zZXN0RnJvbShlbCkge1xuICAgIGlmICghZWwgfHwgZWwgPT09IGdldERvY3VtZW50KCkgfHwgZWwgPT09IGdldFdpbmRvdygpKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoZWwuYXNzaWduZWRTbG90KSBlbCA9IGVsLmFzc2lnbmVkU2xvdDtcbiAgICBjb25zdCBmb3VuZCA9IGVsLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgIGlmICghZm91bmQgJiYgIWVsLmdldFJvb3ROb2RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kIHx8IF9fY2xvc2VzdEZyb20oZWwuZ2V0Um9vdE5vZGUoKS5ob3N0KTtcbiAgfVxuICByZXR1cm4gX19jbG9zZXN0RnJvbShiYXNlKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRFZGdlU3dpcGUoc3dpcGVyLCBldmVudCwgc3RhcnRYKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGVkZ2VTd2lwZURldGVjdGlvbiA9IHBhcmFtcy5lZGdlU3dpcGVEZXRlY3Rpb247XG4gIGNvbnN0IGVkZ2VTd2lwZVRocmVzaG9sZCA9IHBhcmFtcy5lZGdlU3dpcGVUaHJlc2hvbGQ7XG4gIGlmIChlZGdlU3dpcGVEZXRlY3Rpb24gJiYgKHN0YXJ0WCA8PSBlZGdlU3dpcGVUaHJlc2hvbGQgfHwgc3RhcnRYID49IHdpbmRvdy5pbm5lcldpZHRoIC0gZWRnZVN3aXBlVGhyZXNob2xkKSkge1xuICAgIGlmIChlZGdlU3dpcGVEZXRlY3Rpb24gPT09ICdwcmV2ZW50Jykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBvblRvdWNoU3RhcnQoZXZlbnQpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgaWYgKGUudHlwZSA9PT0gJ3BvaW50ZXJkb3duJykge1xuICAgIGlmIChkYXRhLnBvaW50ZXJJZCAhPT0gbnVsbCAmJiBkYXRhLnBvaW50ZXJJZCAhPT0gZS5wb2ludGVySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGF0YS5wb2ludGVySWQgPSBlLnBvaW50ZXJJZDtcbiAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgZGF0YS50b3VjaElkID0gZS50YXJnZXRUb3VjaGVzWzBdLmlkZW50aWZpZXI7XG4gIH1cbiAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgLy8gZG9uJ3QgcHJvY2VlZCB0b3VjaCBldmVudFxuICAgIHByZXZlbnRFZGdlU3dpcGUoc3dpcGVyLCBlLCBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVgpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSByZXR1cm47XG4gIGlmIChzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5jc3NNb2RlICYmIHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgfVxuICBsZXQgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgaWYgKHBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ3dyYXBwZXInKSB7XG4gICAgaWYgKCFzd2lwZXIud3JhcHBlckVsLmNvbnRhaW5zKHRhcmdldEVsKSkgcmV0dXJuO1xuICB9XG4gIGlmICgnd2hpY2gnIGluIGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuO1xuICBpZiAoJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiA+IDApIHJldHVybjtcbiAgaWYgKGRhdGEuaXNUb3VjaGVkICYmIGRhdGEuaXNNb3ZlZCkgcmV0dXJuO1xuXG4gIC8vIGNoYW5nZSB0YXJnZXQgZWwgZm9yIHNoYWRvdyByb290IGNvbXBvbmVudFxuICBjb25zdCBzd2lwaW5nQ2xhc3NIYXNWYWx1ZSA9ICEhcGFyYW1zLm5vU3dpcGluZ0NsYXNzICYmIHBhcmFtcy5ub1N3aXBpbmdDbGFzcyAhPT0gJyc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdCBldmVudFBhdGggPSBlLmNvbXBvc2VkUGF0aCA/IGUuY29tcG9zZWRQYXRoKCkgOiBlLnBhdGg7XG4gIGlmIChzd2lwaW5nQ2xhc3NIYXNWYWx1ZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC5zaGFkb3dSb290ICYmIGV2ZW50UGF0aCkge1xuICAgIHRhcmdldEVsID0gZXZlbnRQYXRoWzBdO1xuICB9XG4gIGNvbnN0IG5vU3dpcGluZ1NlbGVjdG9yID0gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yID8gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yIDogYC4ke3BhcmFtcy5ub1N3aXBpbmdDbGFzc31gO1xuICBjb25zdCBpc1RhcmdldFNoYWRvdyA9ICEhKGUudGFyZ2V0ICYmIGUudGFyZ2V0LnNoYWRvd1Jvb3QpO1xuXG4gIC8vIHVzZSBjbG9zZXN0RWxlbWVudCBmb3Igc2hhZG93IHJvb3QgZWxlbWVudCB0byBnZXQgdGhlIGFjdHVhbCBjbG9zZXN0IGZvciBuZXN0ZWQgc2hhZG93IHJvb3QgZWxlbWVudFxuICBpZiAocGFyYW1zLm5vU3dpcGluZyAmJiAoaXNUYXJnZXRTaGFkb3cgPyBjbG9zZXN0RWxlbWVudChub1N3aXBpbmdTZWxlY3RvciwgdGFyZ2V0RWwpIDogdGFyZ2V0RWwuY2xvc2VzdChub1N3aXBpbmdTZWxlY3RvcikpKSB7XG4gICAgc3dpcGVyLmFsbG93Q2xpY2sgPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLnN3aXBlSGFuZGxlcikge1xuICAgIGlmICghdGFyZ2V0RWwuY2xvc2VzdChwYXJhbXMuc3dpcGVIYW5kbGVyKSkgcmV0dXJuO1xuICB9XG4gIHRvdWNoZXMuY3VycmVudFggPSBlLnBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gZS5wYWdlWTtcbiAgY29uc3Qgc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgY29uc3Qgc3RhcnRZID0gdG91Y2hlcy5jdXJyZW50WTtcblxuICAvLyBEbyBOT1Qgc3RhcnQgaWYgaU9TIGVkZ2Ugc3dpcGUgaXMgZGV0ZWN0ZWQuIE90aGVyd2lzZSBpT1MgYXBwIGNhbm5vdCBzd2lwZS10by1nby1iYWNrIGFueW1vcmVcblxuICBpZiAoIXByZXZlbnRFZGdlU3dpcGUoc3dpcGVyLCBlLCBzdGFydFgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgIGlzVG91Y2hlZDogdHJ1ZSxcbiAgICBpc01vdmVkOiBmYWxzZSxcbiAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB0cnVlLFxuICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZFxuICB9KTtcbiAgdG91Y2hlcy5zdGFydFggPSBzdGFydFg7XG4gIHRvdWNoZXMuc3RhcnRZID0gc3RhcnRZO1xuICBkYXRhLnRvdWNoU3RhcnRUaW1lID0gbm93KCk7XG4gIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gdW5kZWZpbmVkO1xuICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gZmFsc2U7XG4gIGxldCBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gIGlmICh0YXJnZXRFbC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgcHJldmVudERlZmF1bHQgPSBmYWxzZTtcbiAgICBpZiAodGFyZ2V0RWwubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGFyZ2V0RWwpIHtcbiAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgfVxuICBjb25zdCBzaG91bGRQcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0ICYmIHN3aXBlci5hbGxvd1RvdWNoTW92ZSAmJiBwYXJhbXMudG91Y2hTdGFydFByZXZlbnREZWZhdWx0O1xuICBpZiAoKHBhcmFtcy50b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCB8fCBzaG91bGRQcmV2ZW50RGVmYXVsdCkgJiYgIXRhcmdldEVsLmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgc3dpcGVyLmZyZWVNb2RlICYmIHN3aXBlci5hbmltYXRpbmcgJiYgIXBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hTdGFydCgpO1xuICB9XG4gIHN3aXBlci5lbWl0KCd0b3VjaFN0YXJ0JywgZSk7XG59XG5cbmZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgdG91Y2hlcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXBhcmFtcy5zaW11bGF0ZVRvdWNoICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSByZXR1cm47XG4gIGxldCBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gIGlmIChlLnR5cGUgPT09ICdwb2ludGVybW92ZScpIHtcbiAgICBpZiAoZGF0YS50b3VjaElkICE9PSBudWxsKSByZXR1cm47IC8vIHJldHVybiBmcm9tIHBvaW50ZXIgaWYgd2UgdXNlIHRvdWNoXG4gICAgY29uc3QgaWQgPSBlLnBvaW50ZXJJZDtcbiAgICBpZiAoaWQgIT09IGRhdGEucG9pbnRlcklkKSByZXR1cm47XG4gIH1cbiAgbGV0IHRhcmdldFRvdWNoO1xuICBpZiAoZS50eXBlID09PSAndG91Y2htb3ZlJykge1xuICAgIHRhcmdldFRvdWNoID0gWy4uLmUuY2hhbmdlZFRvdWNoZXNdLmZpbHRlcih0ID0+IHQuaWRlbnRpZmllciA9PT0gZGF0YS50b3VjaElkKVswXTtcbiAgICBpZiAoIXRhcmdldFRvdWNoIHx8IHRhcmdldFRvdWNoLmlkZW50aWZpZXIgIT09IGRhdGEudG91Y2hJZCkgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldFRvdWNoID0gZTtcbiAgfVxuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuc3RhcnRNb3ZpbmcgJiYgZGF0YS5pc1Njcm9sbGluZykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwYWdlWCA9IHRhcmdldFRvdWNoLnBhZ2VYO1xuICBjb25zdCBwYWdlWSA9IHRhcmdldFRvdWNoLnBhZ2VZO1xuICBpZiAoZS5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlcikge1xuICAgIHRvdWNoZXMuc3RhcnRYID0gcGFnZVg7XG4gICAgdG91Y2hlcy5zdGFydFkgPSBwYWdlWTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dUb3VjaE1vdmUpIHtcbiAgICBpZiAoIWUudGFyZ2V0Lm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkYXRhLmlzVG91Y2hlZCkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0b3VjaGVzLCB7XG4gICAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICAgIGN1cnJlbnRYOiBwYWdlWCxcbiAgICAgICAgY3VycmVudFk6IHBhZ2VZXG4gICAgICB9KTtcbiAgICAgIGRhdGEudG91Y2hTdGFydFRpbWUgPSBub3coKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcyAmJiAhcGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmlzVmVydGljYWwoKSkge1xuICAgICAgLy8gVmVydGljYWxcbiAgICAgIGlmIChwYWdlWSA8IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VZID4gdG91Y2hlcy5zdGFydFkgJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhZ2VYIDwgdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgfHwgcGFnZVggPiB0b3VjaGVzLnN0YXJ0WCAmJiBzd2lwZXIudHJhbnNsYXRlID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBlLnRhcmdldC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmUnLCBlKTtcbiAgfVxuICB0b3VjaGVzLnByZXZpb3VzWCA9IHRvdWNoZXMuY3VycmVudFg7XG4gIHRvdWNoZXMucHJldmlvdXNZID0gdG91Y2hlcy5jdXJyZW50WTtcbiAgdG91Y2hlcy5jdXJyZW50WCA9IHBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gcGFnZVk7XG4gIGNvbnN0IGRpZmZYID0gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYO1xuICBjb25zdCBkaWZmWSA9IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudGhyZXNob2xkICYmIE1hdGguc3FydChkaWZmWCAqKiAyICsgZGlmZlkgKiogMikgPCBzd2lwZXIucGFyYW1zLnRocmVzaG9sZCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIGRhdGEuaXNTY3JvbGxpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgbGV0IHRvdWNoQW5nbGU7XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRZID09PSB0b3VjaGVzLnN0YXJ0WSB8fCBzd2lwZXIuaXNWZXJ0aWNhbCgpICYmIHRvdWNoZXMuY3VycmVudFggPT09IHRvdWNoZXMuc3RhcnRYKSB7XG4gICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgaWYgKGRpZmZYICogZGlmZlggKyBkaWZmWSAqIGRpZmZZID49IDI1KSB7XG4gICAgICAgIHRvdWNoQW5nbGUgPSBNYXRoLmF0YW4yKE1hdGguYWJzKGRpZmZZKSwgTWF0aC5hYnMoZGlmZlgpKSAqIDE4MCAvIE1hdGguUEk7XG4gICAgICAgIGRhdGEuaXNTY3JvbGxpbmcgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGUgOiA5MCAtIHRvdWNoQW5nbGUgPiBwYXJhbXMudG91Y2hBbmdsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgfVxuICBpZiAodHlwZW9mIGRhdGEuc3RhcnRNb3ZpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHRvdWNoZXMuY3VycmVudFggIT09IHRvdWNoZXMuc3RhcnRYIHx8IHRvdWNoZXMuY3VycmVudFkgIT09IHRvdWNoZXMuc3RhcnRZKSB7XG4gICAgICBkYXRhLnN0YXJ0TW92aW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWRhdGEuc3RhcnRNb3ZpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgaWYgKCFwYXJhbXMuY3NzTW9kZSAmJiBlLmNhbmNlbGFibGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgaWYgKHBhcmFtcy50b3VjaE1vdmVTdG9wUHJvcGFnYXRpb24gJiYgIXBhcmFtcy5uZXN0ZWQpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIGxldCBkaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gZGlmZlggOiBkaWZmWTtcbiAgbGV0IHRvdWNoZXNEaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMucHJldmlvdXNYIDogdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMucHJldmlvdXNZO1xuICBpZiAocGFyYW1zLm9uZVdheU1vdmVtZW50KSB7XG4gICAgZGlmZiA9IE1hdGguYWJzKGRpZmYpICogKHJ0bCA/IDEgOiAtMSk7XG4gICAgdG91Y2hlc0RpZmYgPSBNYXRoLmFicyh0b3VjaGVzRGlmZikgKiAocnRsID8gMSA6IC0xKTtcbiAgfVxuICB0b3VjaGVzLmRpZmYgPSBkaWZmO1xuICBkaWZmICo9IHBhcmFtcy50b3VjaFJhdGlvO1xuICBpZiAocnRsKSB7XG4gICAgZGlmZiA9IC1kaWZmO1xuICAgIHRvdWNoZXNEaWZmID0gLXRvdWNoZXNEaWZmO1xuICB9XG4gIGNvbnN0IHByZXZUb3VjaGVzRGlyZWN0aW9uID0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb247XG4gIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9IGRpZmYgPiAwID8gJ3ByZXYnIDogJ25leHQnO1xuICBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbiA9IHRvdWNoZXNEaWZmID4gMCA/ICdwcmV2JyA6ICduZXh0JztcbiAgY29uc3QgaXNMb29wID0gc3dpcGVyLnBhcmFtcy5sb29wICYmICFwYXJhbXMuY3NzTW9kZTtcbiAgY29uc3QgYWxsb3dMb29wRml4ID0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPT09ICduZXh0JyAmJiBzd2lwZXIuYWxsb3dTbGlkZU5leHQgfHwgc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBzd2lwZXIuYWxsb3dTbGlkZVByZXY7XG4gIGlmICghZGF0YS5pc01vdmVkKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXgpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiBzd2lwZXIuc3dpcGVEaXJlY3Rpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRhLnN0YXJ0VHJhbnNsYXRlID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpO1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KCd0cmFuc2l0aW9uZW5kJywge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH1cbiAgICBkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UgPSBmYWxzZTtcbiAgICAvLyBHcmFiIEN1cnNvclxuICAgIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKHRydWUpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVyRmlyc3RNb3ZlJywgZSk7XG4gIH1cbiAgbGV0IGxvb3BGaXhlZDtcbiAgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGlmIChkYXRhLmlzTW92ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgcHJldlRvdWNoZXNEaXJlY3Rpb24gIT09IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uICYmIGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgTWF0aC5hYnMoZGlmZikgPj0gMSkge1xuICAgIE9iamVjdC5hc3NpZ24odG91Y2hlcywge1xuICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICBjdXJyZW50WDogcGFnZVgsXG4gICAgICBjdXJyZW50WTogcGFnZVksXG4gICAgICBzdGFydFRyYW5zbGF0ZTogZGF0YS5jdXJyZW50VHJhbnNsYXRlXG4gICAgfSk7XG4gICAgZGF0YS5sb29wU3dhcFJlc2V0ID0gdHJ1ZTtcbiAgICBkYXRhLnN0YXJ0VHJhbnNsYXRlID0gZGF0YS5jdXJyZW50VHJhbnNsYXRlO1xuICAgIHJldHVybjtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2xpZGVyTW92ZScsIGUpO1xuICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkaWZmICsgZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgbGV0IGRpc2FibGVQYXJlbnRTd2lwZXIgPSB0cnVlO1xuICBsZXQgcmVzaXN0YW5jZVJhdGlvID0gcGFyYW1zLnJlc2lzdGFuY2VSYXRpbztcbiAgaWYgKHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgcmVzaXN0YW5jZVJhdGlvID0gMDtcbiAgfVxuICBpZiAoZGlmZiA+IDApIHtcbiAgICBpZiAoaXNMb29wICYmIGFsbG93TG9vcEZpeCAmJiAhbG9vcEZpeGVkICYmIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgLSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5hY3RpdmVJbmRleCArIDFdIDogc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICBkaXJlY3Rpb246ICdwcmV2JyxcbiAgICAgICAgc2V0VHJhbnNsYXRlOiB0cnVlLFxuICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSB7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSAtIDEgKyAoLXN3aXBlci5taW5UcmFuc2xhdGUoKSArIGRhdGEuc3RhcnRUcmFuc2xhdGUgKyBkaWZmKSAqKiByZXNpc3RhbmNlUmF0aW87XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpZmYgPCAwKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgIWxvb3BGaXhlZCAmJiBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1heFRyYW5zbGF0ZSgpICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aCAtIDFdIDogc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICBkaXJlY3Rpb246ICduZXh0JyxcbiAgICAgICAgc2V0VHJhbnNsYXRlOiB0cnVlLFxuICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBNYXRoLmNlaWwocGFyc2VGbG9hdChwYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gZmFsc2U7XG4gICAgICBpZiAocGFyYW1zLnJlc2lzdGFuY2UpIHtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpICsgMSAtIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBkYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZikgKiogcmVzaXN0YW5jZVJhdGlvO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlcikge1xuICAgIGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSB0cnVlO1xuICB9XG5cbiAgLy8gRGlyZWN0aW9ucyBsb2Nrc1xuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAhc3dpcGVyLmFsbG93U2xpZGVOZXh0KSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuXG4gIC8vIFRocmVzaG9sZFxuICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIHtcbiAgICBpZiAoTWF0aC5hYnMoZGlmZikgPiBwYXJhbXMudGhyZXNob2xkIHx8IGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlKSB7XG4gICAgICBpZiAoIWRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlKSB7XG4gICAgICAgIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gdHJ1ZTtcbiAgICAgICAgdG91Y2hlcy5zdGFydFggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICAgICAgICB0b3VjaGVzLnN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgICAgIHRvdWNoZXMuZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnN0YXJ0WCA6IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoIXBhcmFtcy5mb2xsb3dGaW5nZXIgfHwgcGFyYW1zLmNzc01vZGUpIHJldHVybjtcblxuICAvLyBVcGRhdGUgYWN0aXZlIGluZGV4IGluIGZyZWUgbW9kZVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIHN3aXBlci5mcmVlTW9kZSB8fCBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaE1vdmUoKTtcbiAgfVxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKGRhdGEuY3VycmVudFRyYW5zbGF0ZSk7XG4gIC8vIFVwZGF0ZSB0cmFuc2xhdGVcbiAgc3dpcGVyLnNldFRyYW5zbGF0ZShkYXRhLmN1cnJlbnRUcmFuc2xhdGUpO1xufVxuXG5mdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBsZXQgdGFyZ2V0VG91Y2g7XG4gIGNvbnN0IGlzVG91Y2hFdmVudCA9IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGNhbmNlbCc7XG4gIGlmICghaXNUb3VjaEV2ZW50KSB7XG4gICAgaWYgKGRhdGEudG91Y2hJZCAhPT0gbnVsbCkgcmV0dXJuOyAvLyByZXR1cm4gZnJvbSBwb2ludGVyIGlmIHdlIHVzZSB0b3VjaFxuICAgIGlmIChlLnBvaW50ZXJJZCAhPT0gZGF0YS5wb2ludGVySWQpIHJldHVybjtcbiAgICB0YXJnZXRUb3VjaCA9IGU7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0VG91Y2ggPSBbLi4uZS5jaGFuZ2VkVG91Y2hlc10uZmlsdGVyKHQgPT4gdC5pZGVudGlmaWVyID09PSBkYXRhLnRvdWNoSWQpWzBdO1xuICAgIGlmICghdGFyZ2V0VG91Y2ggfHwgdGFyZ2V0VG91Y2guaWRlbnRpZmllciAhPT0gZGF0YS50b3VjaElkKSByZXR1cm47XG4gIH1cbiAgaWYgKFsncG9pbnRlcmNhbmNlbCcsICdwb2ludGVyb3V0JywgJ3BvaW50ZXJsZWF2ZScsICdjb250ZXh0bWVudSddLmluY2x1ZGVzKGUudHlwZSkpIHtcbiAgICBjb25zdCBwcm9jZWVkID0gWydwb2ludGVyY2FuY2VsJywgJ2NvbnRleHRtZW51J10uaW5jbHVkZXMoZS50eXBlKSAmJiAoc3dpcGVyLmJyb3dzZXIuaXNTYWZhcmkgfHwgc3dpcGVyLmJyb3dzZXIuaXNXZWJWaWV3KTtcbiAgICBpZiAoIXByb2NlZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgZGF0YS5wb2ludGVySWQgPSBudWxsO1xuICBkYXRhLnRvdWNoSWQgPSBudWxsO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXBhcmFtcy5zaW11bGF0ZVRvdWNoICYmIGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHJldHVybjtcbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaEVuZCcsIGUpO1xuICB9XG4gIGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcyA9IGZhbHNlO1xuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuaXNNb3ZlZCAmJiBwYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoZmFsc2UpO1xuICAgIH1cbiAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmV0dXJuIEdyYWIgQ3Vyc29yXG4gIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiBkYXRhLmlzTW92ZWQgJiYgZGF0YS5pc1RvdWNoZWQgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoZmFsc2UpO1xuICB9XG5cbiAgLy8gVGltZSBkaWZmXG4gIGNvbnN0IHRvdWNoRW5kVGltZSA9IG5vdygpO1xuICBjb25zdCB0aW1lRGlmZiA9IHRvdWNoRW5kVGltZSAtIGRhdGEudG91Y2hTdGFydFRpbWU7XG5cbiAgLy8gVGFwLCBkb3VibGVUYXAsIENsaWNrXG4gIGlmIChzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIGNvbnN0IHBhdGhUcmVlID0gZS5wYXRoIHx8IGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCk7XG4gICAgc3dpcGVyLnVwZGF0ZUNsaWNrZWRTbGlkZShwYXRoVHJlZSAmJiBwYXRoVHJlZVswXSB8fCBlLnRhcmdldCwgcGF0aFRyZWUpO1xuICAgIHN3aXBlci5lbWl0KCd0YXAgY2xpY2snLCBlKTtcbiAgICBpZiAodGltZURpZmYgPCAzMDAgJiYgdG91Y2hFbmRUaW1lIC0gZGF0YS5sYXN0Q2xpY2tUaW1lIDwgMzAwKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnZG91YmxlVGFwIGRvdWJsZUNsaWNrJywgZSk7XG4gICAgfVxuICB9XG4gIGRhdGEubGFzdENsaWNrVGltZSA9IG5vdygpO1xuICBuZXh0VGljaygoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuZGVzdHJveWVkKSBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIH0pO1xuICBpZiAoIWRhdGEuaXNUb3VjaGVkIHx8ICFkYXRhLmlzTW92ZWQgfHwgIXN3aXBlci5zd2lwZURpcmVjdGlvbiB8fCB0b3VjaGVzLmRpZmYgPT09IDAgJiYgIWRhdGEubG9vcFN3YXBSZXNldCB8fCBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPT09IGRhdGEuc3RhcnRUcmFuc2xhdGUgJiYgIWRhdGEubG9vcFN3YXBSZXNldCkge1xuICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICBsZXQgY3VycmVudFBvcztcbiAgaWYgKHBhcmFtcy5mb2xsb3dGaW5nZXIpIHtcbiAgICBjdXJyZW50UG9zID0gcnRsID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRQb3MgPSAtZGF0YS5jdXJyZW50VHJhbnNsYXRlO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hFbmQoe1xuICAgICAgY3VycmVudFBvc1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZpbmQgY3VycmVudCBzbGlkZVxuICBjb25zdCBzd2lwZVRvTGFzdCA9IGN1cnJlbnRQb3MgPj0gLXN3aXBlci5tYXhUcmFuc2xhdGUoKSAmJiAhc3dpcGVyLnBhcmFtcy5sb29wO1xuICBsZXQgc3RvcEluZGV4ID0gMDtcbiAgbGV0IGdyb3VwU2l6ZSA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWRbMF07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gaSA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwKSB7XG4gICAgY29uc3QgaW5jcmVtZW50ID0gaSA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgLSAxID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIGluY3JlbWVudF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoc3dpcGVUb0xhc3QgfHwgY3VycmVudFBvcyA+PSBzbGlkZXNHcmlkW2ldICYmIGN1cnJlbnRQb3MgPCBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdKSB7XG4gICAgICAgIHN0b3BJbmRleCA9IGk7XG4gICAgICAgIGdyb3VwU2l6ZSA9IHNsaWRlc0dyaWRbaSArIGluY3JlbWVudF0gLSBzbGlkZXNHcmlkW2ldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3dpcGVUb0xhc3QgfHwgY3VycmVudFBvcyA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgZ3JvdXBTaXplID0gc2xpZGVzR3JpZFtzbGlkZXNHcmlkLmxlbmd0aCAtIDFdIC0gc2xpZGVzR3JpZFtzbGlkZXNHcmlkLmxlbmd0aCAtIDJdO1xuICAgIH1cbiAgfVxuICBsZXQgcmV3aW5kRmlyc3RJbmRleCA9IG51bGw7XG4gIGxldCByZXdpbmRMYXN0SW5kZXggPSBudWxsO1xuICBpZiAocGFyYW1zLnJld2luZCkge1xuICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgIHJld2luZExhc3RJbmRleCA9IHBhcmFtcy52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIC0gMSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci5pc0VuZCkge1xuICAgICAgcmV3aW5kRmlyc3RJbmRleCA9IDA7XG4gICAgfVxuICB9XG4gIC8vIEZpbmQgY3VycmVudCBzbGlkZSBzaXplXG4gIGNvbnN0IHJhdGlvID0gKGN1cnJlbnRQb3MgLSBzbGlkZXNHcmlkW3N0b3BJbmRleF0pIC8gZ3JvdXBTaXplO1xuICBjb25zdCBpbmNyZW1lbnQgPSBzdG9wSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gIGlmICh0aW1lRGlmZiA+IHBhcmFtcy5sb25nU3dpcGVzTXMpIHtcbiAgICAvLyBMb25nIHRvdWNoZXNcbiAgICBpZiAoIXBhcmFtcy5sb25nU3dpcGVzKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgIGlmIChyYXRpbyA+PSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSBzd2lwZXIuc2xpZGVUbyhwYXJhbXMucmV3aW5kICYmIHN3aXBlci5pc0VuZCA/IHJld2luZEZpcnN0SW5kZXggOiBzdG9wSW5kZXggKyBpbmNyZW1lbnQpO2Vsc2Ugc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICBpZiAocmF0aW8gPiAxIC0gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmIChyZXdpbmRMYXN0SW5kZXggIT09IG51bGwgJiYgcmF0aW8gPCAwICYmIE1hdGguYWJzKHJhdGlvKSA+IHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8ocmV3aW5kTGFzdEluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFNob3J0IHN3aXBlc1xuICAgIGlmICghcGFyYW1zLnNob3J0U3dpcGVzKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpc05hdkJ1dHRvblRhcmdldCA9IHN3aXBlci5uYXZpZ2F0aW9uICYmIChlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsIHx8IGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwpO1xuICAgIGlmICghaXNOYXZCdXR0b25UYXJnZXQpIHtcbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRGaXJzdEluZGV4ICE9PSBudWxsID8gcmV3aW5kRmlyc3RJbmRleCA6IHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8ocmV3aW5kTGFzdEluZGV4ICE9PSBudWxsID8gcmV3aW5kTGFzdEluZGV4IDogc3RvcEluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIGVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChlbCAmJiBlbC5vZmZzZXRXaWR0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIC8vIEJyZWFrcG9pbnRzXG4gIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICB9XG5cbiAgLy8gU2F2ZSBsb2Nrc1xuICBjb25zdCB7XG4gICAgYWxsb3dTbGlkZU5leHQsXG4gICAgYWxsb3dTbGlkZVByZXYsXG4gICAgc25hcEdyaWRcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG5cbiAgLy8gRGlzYWJsZSBsb2NrcyBvbiByZXNpemVcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gdHJ1ZTtcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gdHJ1ZTtcbiAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICBjb25zdCBpc1ZpcnR1YWxMb29wID0gaXNWaXJ0dWFsICYmIHBhcmFtcy5sb29wO1xuICBpZiAoKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiAhaXNWaXJ0dWFsTG9vcCkge1xuICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgJiYgIWlzVmlydHVhbCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKHN3aXBlci5yZWFsSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIGlmIChzd2lwZXIuYXV0b3BsYXkgJiYgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgJiYgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgIGNsZWFyVGltZW91dChzd2lwZXIuYXV0b3BsYXkucmVzaXplVGltZW91dCk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkgJiYgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgJiYgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkucmVzdW1lKCk7XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfVxuICAvLyBSZXR1cm4gbG9ja3MgYWZ0ZXIgcmVzaXplXG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzbmFwR3JpZCAhPT0gc3dpcGVyLnNuYXBHcmlkKSB7XG4gICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXN3aXBlci5hbGxvd0NsaWNrKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucHJldmVudENsaWNrcykgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbiAmJiBzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyRWwsXG4gICAgcnRsVHJhbnNsYXRlLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICBzd2lwZXIudHJhbnNsYXRlID0gLXdyYXBwZXJFbC5zY3JvbGxMZWZ0O1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbFRvcDtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgaWYgKHN3aXBlci50cmFuc2xhdGUgPT09IDApIHN3aXBlci50cmFuc2xhdGUgPSAwO1xuICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgbGV0IG5ld1Byb2dyZXNzO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgaWYgKHRyYW5zbGF0ZXNEaWZmID09PSAwKSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAwO1xuICB9IGVsc2Uge1xuICAgIG5ld1Byb2dyZXNzID0gKHN3aXBlci50cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gIH1cbiAgaWYgKG5ld1Byb2dyZXNzICE9PSBzd2lwZXIucHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MocnRsVHJhbnNsYXRlID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBvbkxvYWQoZSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGUudGFyZ2V0KTtcbiAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSB8fCBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiAhc3dpcGVyLnBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXBlci51cGRhdGUoKTtcbn1cblxuZnVuY3Rpb24gb25Eb2N1bWVudFRvdWNoU3RhcnQoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIuZG9jdW1lbnRUb3VjaEhhbmRsZXJQcm9jZWVkZWQpIHJldHVybjtcbiAgc3dpcGVyLmRvY3VtZW50VG91Y2hIYW5kbGVyUHJvY2VlZGVkID0gdHJ1ZTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcykge1xuICAgIHN3aXBlci5lbC5zdHlsZS50b3VjaEFjdGlvbiA9ICdhdXRvJztcbiAgfVxufVxuXG5jb25zdCBldmVudHMgPSAoc3dpcGVyLCBtZXRob2QpID0+IHtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIGVsLFxuICAgIHdyYXBwZXJFbCxcbiAgICBkZXZpY2VcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgY2FwdHVyZSA9ICEhcGFyYW1zLm5lc3RlZDtcbiAgY29uc3QgZG9tTWV0aG9kID0gbWV0aG9kID09PSAnb24nID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuICBjb25zdCBzd2lwZXJNZXRob2QgPSBtZXRob2Q7XG5cbiAgLy8gVG91Y2ggRXZlbnRzXG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoc3RhcnQnLCBzd2lwZXIub25Eb2N1bWVudFRvdWNoU3RhcnQsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBlbFtkb21NZXRob2RdKCd0b3VjaHN0YXJ0Jywgc3dpcGVyLm9uVG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlXG4gIH0pO1xuICBlbFtkb21NZXRob2RdKCdwb2ludGVyZG93bicsIHN3aXBlci5vblRvdWNoU3RhcnQsIHtcbiAgICBwYXNzaXZlOiBmYWxzZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2htb3ZlJywgc3dpcGVyLm9uVG91Y2hNb3ZlLCB7XG4gICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgY2FwdHVyZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcm1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaGVuZCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcnVwJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVyY2FuY2VsJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaGNhbmNlbCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcm91dCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcmxlYXZlJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdjb250ZXh0bWVudScsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcblxuICAvLyBQcmV2ZW50IExpbmtzIENsaWNrc1xuICBpZiAocGFyYW1zLnByZXZlbnRDbGlja3MgfHwgcGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikge1xuICAgIGVsW2RvbU1ldGhvZF0oJ2NsaWNrJywgc3dpcGVyLm9uQ2xpY2ssIHRydWUpO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHdyYXBwZXJFbFtkb21NZXRob2RdKCdzY3JvbGwnLCBzd2lwZXIub25TY3JvbGwpO1xuICB9XG5cbiAgLy8gUmVzaXplIGhhbmRsZXJcbiAgaWYgKHBhcmFtcy51cGRhdGVPbldpbmRvd1Jlc2l6ZSkge1xuICAgIHN3aXBlcltzd2lwZXJNZXRob2RdKGRldmljZS5pb3MgfHwgZGV2aWNlLmFuZHJvaWQgPyAncmVzaXplIG9yaWVudGF0aW9uY2hhbmdlIG9ic2VydmVyVXBkYXRlJyA6ICdyZXNpemUgb2JzZXJ2ZXJVcGRhdGUnLCBvblJlc2l6ZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyW3N3aXBlck1ldGhvZF0oJ29ic2VydmVyVXBkYXRlJywgb25SZXNpemUsIHRydWUpO1xuICB9XG5cbiAgLy8gSW1hZ2VzIGxvYWRlclxuICBlbFtkb21NZXRob2RdKCdsb2FkJywgc3dpcGVyLm9uTG9hZCwge1xuICAgIGNhcHR1cmU6IHRydWVcbiAgfSk7XG59O1xuZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIHN3aXBlci5vblRvdWNoU3RhcnQgPSBvblRvdWNoU3RhcnQuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Ub3VjaE1vdmUgPSBvblRvdWNoTW92ZS5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vblRvdWNoRW5kID0gb25Ub3VjaEVuZC5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vbkRvY3VtZW50VG91Y2hTdGFydCA9IG9uRG9jdW1lbnRUb3VjaFN0YXJ0LmJpbmQoc3dpcGVyKTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLm9uU2Nyb2xsID0gb25TY3JvbGwuYmluZChzd2lwZXIpO1xuICB9XG4gIHN3aXBlci5vbkNsaWNrID0gb25DbGljay5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vbkxvYWQgPSBvbkxvYWQuYmluZChzd2lwZXIpO1xuICBldmVudHMoc3dpcGVyLCAnb24nKTtcbn1cbmZ1bmN0aW9uIGRldGFjaEV2ZW50cygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgZXZlbnRzKHN3aXBlciwgJ29mZicpO1xufVxudmFyIGV2ZW50cyQxID0ge1xuICBhdHRhY2hFdmVudHMsXG4gIGRldGFjaEV2ZW50c1xufTtcblxuY29uc3QgaXNHcmlkRW5hYmxlZCA9IChzd2lwZXIsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG59O1xuZnVuY3Rpb24gc2V0QnJlYWtwb2ludCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHJlYWxJbmRleCxcbiAgICBpbml0aWFsaXplZCxcbiAgICBwYXJhbXMsXG4gICAgZWxcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgYnJlYWtwb2ludHMgPSBwYXJhbXMuYnJlYWtwb2ludHM7XG4gIGlmICghYnJlYWtwb2ludHMgfHwgYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIC8vIEdldCBicmVha3BvaW50IGZvciB3aW5kb3cgd2lkdGggYW5kIHVwZGF0ZSBwYXJhbWV0ZXJzXG4gIGNvbnN0IGJyZWFrcG9pbnQgPSBzd2lwZXIuZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgc3dpcGVyLnBhcmFtcy5icmVha3BvaW50c0Jhc2UsIHN3aXBlci5lbCk7XG4gIGlmICghYnJlYWtwb2ludCB8fCBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPT09IGJyZWFrcG9pbnQpIHJldHVybjtcbiAgY29uc3QgYnJlYWtwb2ludE9ubHlQYXJhbXMgPSBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzID8gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGJyZWFrcG9pbnRQYXJhbXMgPSBicmVha3BvaW50T25seVBhcmFtcyB8fCBzd2lwZXIub3JpZ2luYWxQYXJhbXM7XG4gIGNvbnN0IHdhc011bHRpUm93ID0gaXNHcmlkRW5hYmxlZChzd2lwZXIsIHBhcmFtcyk7XG4gIGNvbnN0IGlzTXVsdGlSb3cgPSBpc0dyaWRFbmFibGVkKHN3aXBlciwgYnJlYWtwb2ludFBhcmFtcyk7XG4gIGNvbnN0IHdhc0VuYWJsZWQgPSBwYXJhbXMuZW5hYmxlZDtcbiAgaWYgKHdhc011bHRpUm93ICYmICFpc011bHRpUm93KSB7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCwgYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfSBlbHNlIGlmICghd2FzTXVsdGlSb3cgJiYgaXNNdWx0aVJvdykge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGApO1xuICAgIGlmIChicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCAmJiBicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbicgfHwgIWJyZWFrcG9pbnRQYXJhbXMuZ3JpZC5maWxsICYmIHBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nKSB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICB9XG5cbiAgLy8gVG9nZ2xlIG5hdmlnYXRpb24sIHBhZ2luYXRpb24sIHNjcm9sbGJhclxuICBbJ25hdmlnYXRpb24nLCAncGFnaW5hdGlvbicsICdzY3JvbGxiYXInXS5mb3JFYWNoKHByb3AgPT4ge1xuICAgIGlmICh0eXBlb2YgYnJlYWtwb2ludFBhcmFtc1twcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBjb25zdCB3YXNNb2R1bGVFbmFibGVkID0gcGFyYW1zW3Byb3BdICYmIHBhcmFtc1twcm9wXS5lbmFibGVkO1xuICAgIGNvbnN0IGlzTW9kdWxlRW5hYmxlZCA9IGJyZWFrcG9pbnRQYXJhbXNbcHJvcF0gJiYgYnJlYWtwb2ludFBhcmFtc1twcm9wXS5lbmFibGVkO1xuICAgIGlmICh3YXNNb2R1bGVFbmFibGVkICYmICFpc01vZHVsZUVuYWJsZWQpIHtcbiAgICAgIHN3aXBlcltwcm9wXS5kaXNhYmxlKCk7XG4gICAgfVxuICAgIGlmICghd2FzTW9kdWxlRW5hYmxlZCAmJiBpc01vZHVsZUVuYWJsZWQpIHtcbiAgICAgIHN3aXBlcltwcm9wXS5lbmFibGUoKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBkaXJlY3Rpb25DaGFuZ2VkID0gYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gJiYgYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gIT09IHBhcmFtcy5kaXJlY3Rpb247XG4gIGNvbnN0IG5lZWRzUmVMb29wID0gcGFyYW1zLmxvb3AgJiYgKGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgZGlyZWN0aW9uQ2hhbmdlZCk7XG4gIGNvbnN0IHdhc0xvb3AgPSBwYXJhbXMubG9vcDtcbiAgaWYgKGRpcmVjdGlvbkNoYW5nZWQgJiYgaW5pdGlhbGl6ZWQpIHtcbiAgICBzd2lwZXIuY2hhbmdlRGlyZWN0aW9uKCk7XG4gIH1cbiAgZXh0ZW5kKHN3aXBlci5wYXJhbXMsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBjb25zdCBpc0VuYWJsZWQgPSBzd2lwZXIucGFyYW1zLmVuYWJsZWQ7XG4gIGNvbnN0IGhhc0xvb3AgPSBzd2lwZXIucGFyYW1zLmxvb3A7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgYWxsb3dUb3VjaE1vdmU6IHN3aXBlci5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsXG4gICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXZcbiAgfSk7XG4gIGlmICh3YXNFbmFibGVkICYmICFpc0VuYWJsZWQpIHtcbiAgICBzd2lwZXIuZGlzYWJsZSgpO1xuICB9IGVsc2UgaWYgKCF3YXNFbmFibGVkICYmIGlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5lbmFibGUoKTtcbiAgfVxuICBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPSBicmVha3BvaW50O1xuICBzd2lwZXIuZW1pdCgnX2JlZm9yZUJyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcbiAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgaWYgKG5lZWRzUmVMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKHJlYWxJbmRleCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIGlmICghd2FzTG9vcCAmJiBoYXNMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZShyZWFsSW5kZXgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSBpZiAod2FzTG9vcCAmJiAhaGFzTG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgfVxuICB9XG4gIHN3aXBlci5lbWl0KCdicmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG59XG5cbmZ1bmN0aW9uIGdldEJyZWFrcG9pbnQoYnJlYWtwb2ludHMsIGJhc2UsIGNvbnRhaW5lckVsKSB7XG4gIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICBiYXNlID0gJ3dpbmRvdyc7XG4gIH1cbiAgaWYgKCFicmVha3BvaW50cyB8fCBiYXNlID09PSAnY29udGFpbmVyJyAmJiAhY29udGFpbmVyRWwpIHJldHVybiB1bmRlZmluZWQ7XG4gIGxldCBicmVha3BvaW50ID0gZmFsc2U7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBjdXJyZW50SGVpZ2h0ID0gYmFzZSA9PT0gJ3dpbmRvdycgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXJFbC5jbGllbnRIZWlnaHQ7XG4gIGNvbnN0IHBvaW50cyA9IE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5tYXAocG9pbnQgPT4ge1xuICAgIGlmICh0eXBlb2YgcG9pbnQgPT09ICdzdHJpbmcnICYmIHBvaW50LmluZGV4T2YoJ0AnKSA9PT0gMCkge1xuICAgICAgY29uc3QgbWluUmF0aW8gPSBwYXJzZUZsb2F0KHBvaW50LnN1YnN0cigxKSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGN1cnJlbnRIZWlnaHQgKiBtaW5SYXRpbztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwb2ludFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBwb2ludCxcbiAgICAgIHBvaW50XG4gICAgfTtcbiAgfSk7XG4gIHBvaW50cy5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhLnZhbHVlLCAxMCkgLSBwYXJzZUludChiLnZhbHVlLCAxMCkpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHBvaW50LFxuICAgICAgdmFsdWVcbiAgICB9ID0gcG9pbnRzW2ldO1xuICAgIGlmIChiYXNlID09PSAnd2luZG93Jykge1xuICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAke3ZhbHVlfXB4KWApLm1hdGNoZXMpIHtcbiAgICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPD0gY29udGFpbmVyRWwuY2xpZW50V2lkdGgpIHtcbiAgICAgIGJyZWFrcG9pbnQgPSBwb2ludDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJyZWFrcG9pbnQgfHwgJ21heCc7XG59XG5cbnZhciBicmVha3BvaW50cyA9IHtcbiAgc2V0QnJlYWtwb2ludCxcbiAgZ2V0QnJlYWtwb2ludFxufTtcblxuZnVuY3Rpb24gcHJlcGFyZUNsYXNzZXMoZW50cmllcywgcHJlZml4KSB7XG4gIGNvbnN0IHJlc3VsdENsYXNzZXMgPSBbXTtcbiAgZW50cmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goY2xhc3NOYW1lcyA9PiB7XG4gICAgICAgIGlmIChpdGVtW2NsYXNzTmFtZXNdKSB7XG4gICAgICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGNsYXNzTmFtZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGl0ZW0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHRDbGFzc2VzO1xufVxuZnVuY3Rpb24gYWRkQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZXMsXG4gICAgcGFyYW1zLFxuICAgIHJ0bCxcbiAgICBlbCxcbiAgICBkZXZpY2VcbiAgfSA9IHN3aXBlcjtcbiAgLy8gcHJldHRpZXItaWdub3JlXG4gIGNvbnN0IHN1ZmZpeGVzID0gcHJlcGFyZUNsYXNzZXMoWydpbml0aWFsaXplZCcsIHBhcmFtcy5kaXJlY3Rpb24sIHtcbiAgICAnZnJlZS1tb2RlJzogc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZFxuICB9LCB7XG4gICAgJ2F1dG9oZWlnaHQnOiBwYXJhbXMuYXV0b0hlaWdodFxuICB9LCB7XG4gICAgJ3J0bCc6IHJ0bFxuICB9LCB7XG4gICAgJ2dyaWQnOiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMVxuICB9LCB7XG4gICAgJ2dyaWQtY29sdW1uJzogcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDEgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbidcbiAgfSwge1xuICAgICdhbmRyb2lkJzogZGV2aWNlLmFuZHJvaWRcbiAgfSwge1xuICAgICdpb3MnOiBkZXZpY2UuaW9zXG4gIH0sIHtcbiAgICAnY3NzLW1vZGUnOiBwYXJhbXMuY3NzTW9kZVxuICB9LCB7XG4gICAgJ2NlbnRlcmVkJzogcGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzXG4gIH0sIHtcbiAgICAnd2F0Y2gtcHJvZ3Jlc3MnOiBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzc1xuICB9XSwgcGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpO1xuICBjbGFzc05hbWVzLnB1c2goLi4uc3VmZml4ZXMpO1xuICBlbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMpO1xuICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGVsLFxuICAgIGNsYXNzTmFtZXNcbiAgfSA9IHN3aXBlcjtcbiAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc05hbWVzKTtcbiAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG59XG5cbnZhciBjbGFzc2VzID0ge1xuICBhZGRDbGFzc2VzLFxuICByZW1vdmVDbGFzc2VzXG59O1xuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgaXNMb2NrZWQ6IHdhc0xvY2tlZCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qge1xuICAgIHNsaWRlc09mZnNldEJlZm9yZVxuICB9ID0gcGFyYW1zO1xuICBpZiAoc2xpZGVzT2Zmc2V0QmVmb3JlKSB7XG4gICAgY29uc3QgbGFzdFNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgbGFzdFNsaWRlUmlnaHRFZGdlID0gc3dpcGVyLnNsaWRlc0dyaWRbbGFzdFNsaWRlSW5kZXhdICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtsYXN0U2xpZGVJbmRleF0gKyBzbGlkZXNPZmZzZXRCZWZvcmUgKiAyO1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zaXplID4gbGFzdFNsaWRlUmlnaHRFZGdlO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zbmFwR3JpZC5sZW5ndGggPT09IDE7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHdhc0xvY2tlZCAmJiB3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5pc0VuZCA9IGZhbHNlO1xuICB9XG4gIGlmICh3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5lbWl0KHN3aXBlci5pc0xvY2tlZCA/ICdsb2NrJyA6ICd1bmxvY2snKTtcbiAgfVxufVxudmFyIGNoZWNrT3ZlcmZsb3ckMSA9IHtcbiAgY2hlY2tPdmVyZmxvd1xufTtcblxudmFyIGRlZmF1bHRzID0ge1xuICBpbml0OiB0cnVlLFxuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgb25lV2F5TW92ZW1lbnQ6IGZhbHNlLFxuICB0b3VjaEV2ZW50c1RhcmdldDogJ3dyYXBwZXInLFxuICBpbml0aWFsU2xpZGU6IDAsXG4gIHNwZWVkOiAzMDAsXG4gIGNzc01vZGU6IGZhbHNlLFxuICB1cGRhdGVPbldpbmRvd1Jlc2l6ZTogdHJ1ZSxcbiAgcmVzaXplT2JzZXJ2ZXI6IHRydWUsXG4gIG5lc3RlZDogZmFsc2UsXG4gIGNyZWF0ZUVsZW1lbnRzOiBmYWxzZSxcbiAgZXZlbnRzUHJlZml4OiAnc3dpcGVyJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgZm9jdXNhYmxlRWxlbWVudHM6ICdpbnB1dCwgc2VsZWN0LCBvcHRpb24sIHRleHRhcmVhLCBidXR0b24sIHZpZGVvLCBsYWJlbCcsXG4gIC8vIE92ZXJyaWRlc1xuICB3aWR0aDogbnVsbCxcbiAgaGVpZ2h0OiBudWxsLFxuICAvL1xuICBwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb246IGZhbHNlLFxuICAvLyBzc3JcbiAgdXNlckFnZW50OiBudWxsLFxuICB1cmw6IG51bGwsXG4gIC8vIFRvIHN1cHBvcnQgaU9TJ3Mgc3dpcGUtdG8tZ28tYmFjayBnZXN0dXJlICh3aGVuIGJlaW5nIHVzZWQgaW4tYXBwKS5cbiAgZWRnZVN3aXBlRGV0ZWN0aW9uOiBmYWxzZSxcbiAgZWRnZVN3aXBlVGhyZXNob2xkOiAyMCxcbiAgLy8gQXV0b2hlaWdodFxuICBhdXRvSGVpZ2h0OiBmYWxzZSxcbiAgLy8gU2V0IHdyYXBwZXIgd2lkdGhcbiAgc2V0V3JhcHBlclNpemU6IGZhbHNlLFxuICAvLyBWaXJ0dWFsIFRyYW5zbGF0ZVxuICB2aXJ0dWFsVHJhbnNsYXRlOiBmYWxzZSxcbiAgLy8gRWZmZWN0c1xuICBlZmZlY3Q6ICdzbGlkZScsXG4gIC8vICdzbGlkZScgb3IgJ2ZhZGUnIG9yICdjdWJlJyBvciAnY292ZXJmbG93JyBvciAnZmxpcCdcblxuICAvLyBCcmVha3BvaW50c1xuICBicmVha3BvaW50czogdW5kZWZpbmVkLFxuICBicmVha3BvaW50c0Jhc2U6ICd3aW5kb3cnLFxuICAvLyBTbGlkZXMgZ3JpZFxuICBzcGFjZUJldHdlZW46IDAsXG4gIHNsaWRlc1BlclZpZXc6IDEsXG4gIHNsaWRlc1Blckdyb3VwOiAxLFxuICBzbGlkZXNQZXJHcm91cFNraXA6IDAsXG4gIHNsaWRlc1Blckdyb3VwQXV0bzogZmFsc2UsXG4gIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgY2VudGVyZWRTbGlkZXNCb3VuZHM6IGZhbHNlLFxuICBzbGlkZXNPZmZzZXRCZWZvcmU6IDAsXG4gIC8vIGluIHB4XG4gIHNsaWRlc09mZnNldEFmdGVyOiAwLFxuICAvLyBpbiBweFxuICBub3JtYWxpemVTbGlkZUluZGV4OiB0cnVlLFxuICBjZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXM6IGZhbHNlLFxuICAvLyBEaXNhYmxlIHN3aXBlciBhbmQgaGlkZSBuYXZpZ2F0aW9uIHdoZW4gY29udGFpbmVyIG5vdCBvdmVyZmxvd1xuICB3YXRjaE92ZXJmbG93OiB0cnVlLFxuICAvLyBSb3VuZCBsZW5ndGhcbiAgcm91bmRMZW5ndGhzOiBmYWxzZSxcbiAgLy8gVG91Y2hlc1xuICB0b3VjaFJhdGlvOiAxLFxuICB0b3VjaEFuZ2xlOiA0NSxcbiAgc2ltdWxhdGVUb3VjaDogdHJ1ZSxcbiAgc2hvcnRTd2lwZXM6IHRydWUsXG4gIGxvbmdTd2lwZXM6IHRydWUsXG4gIGxvbmdTd2lwZXNSYXRpbzogMC41LFxuICBsb25nU3dpcGVzTXM6IDMwMCxcbiAgZm9sbG93RmluZ2VyOiB0cnVlLFxuICBhbGxvd1RvdWNoTW92ZTogdHJ1ZSxcbiAgdGhyZXNob2xkOiA1LFxuICB0b3VjaE1vdmVTdG9wUHJvcGFnYXRpb246IGZhbHNlLFxuICB0b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ6IHRydWUsXG4gIHRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0OiBmYWxzZSxcbiAgdG91Y2hSZWxlYXNlT25FZGdlczogZmFsc2UsXG4gIC8vIFVuaXF1ZSBOYXZpZ2F0aW9uIEVsZW1lbnRzXG4gIHVuaXF1ZU5hdkVsZW1lbnRzOiB0cnVlLFxuICAvLyBSZXNpc3RhbmNlXG4gIHJlc2lzdGFuY2U6IHRydWUsXG4gIHJlc2lzdGFuY2VSYXRpbzogMC44NSxcbiAgLy8gUHJvZ3Jlc3NcbiAgd2F0Y2hTbGlkZXNQcm9ncmVzczogZmFsc2UsXG4gIC8vIEN1cnNvclxuICBncmFiQ3Vyc29yOiBmYWxzZSxcbiAgLy8gQ2xpY2tzXG4gIHByZXZlbnRDbGlja3M6IHRydWUsXG4gIHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjogdHJ1ZSxcbiAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2UsXG4gIC8vIGxvb3BcbiAgbG9vcDogZmFsc2UsXG4gIGxvb3BBZGRCbGFua1NsaWRlczogdHJ1ZSxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDAsXG4gIGxvb3BQcmV2ZW50c1NsaWRpbmc6IHRydWUsXG4gIC8vIHJld2luZFxuICByZXdpbmQ6IGZhbHNlLFxuICAvLyBTd2lwaW5nL25vIHN3aXBpbmdcbiAgYWxsb3dTbGlkZVByZXY6IHRydWUsXG4gIGFsbG93U2xpZGVOZXh0OiB0cnVlLFxuICBzd2lwZUhhbmRsZXI6IG51bGwsXG4gIC8vICcuc3dpcGUtaGFuZGxlcicsXG4gIG5vU3dpcGluZzogdHJ1ZSxcbiAgbm9Td2lwaW5nQ2xhc3M6ICdzd2lwZXItbm8tc3dpcGluZycsXG4gIG5vU3dpcGluZ1NlbGVjdG9yOiBudWxsLFxuICAvLyBQYXNzaXZlIExpc3RlbmVyc1xuICBwYXNzaXZlTGlzdGVuZXJzOiB0cnVlLFxuICBtYXhCYWNrZmFjZUhpZGRlblNsaWRlczogMTAsXG4gIC8vIE5TXG4gIGNvbnRhaW5lck1vZGlmaWVyQ2xhc3M6ICdzd2lwZXItJyxcbiAgLy8gTkVXXG4gIHNsaWRlQ2xhc3M6ICdzd2lwZXItc2xpZGUnLFxuICBzbGlkZUJsYW5rQ2xhc3M6ICdzd2lwZXItc2xpZGUtYmxhbmsnLFxuICBzbGlkZUFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWFjdGl2ZScsXG4gIHNsaWRlVmlzaWJsZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXZpc2libGUnLFxuICBzbGlkZUZ1bGx5VmlzaWJsZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWZ1bGx5LXZpc2libGUnLFxuICBzbGlkZU5leHRDbGFzczogJ3N3aXBlci1zbGlkZS1uZXh0JyxcbiAgc2xpZGVQcmV2Q2xhc3M6ICdzd2lwZXItc2xpZGUtcHJldicsXG4gIHdyYXBwZXJDbGFzczogJ3N3aXBlci13cmFwcGVyJyxcbiAgbGF6eVByZWxvYWRlckNsYXNzOiAnc3dpcGVyLWxhenktcHJlbG9hZGVyJyxcbiAgbGF6eVByZWxvYWRQcmV2TmV4dDogMCxcbiAgLy8gQ2FsbGJhY2tzXG4gIHJ1bkNhbGxiYWNrc09uSW5pdDogdHJ1ZSxcbiAgLy8gSW50ZXJuYWxzXG4gIF9lbWl0Q2xhc3NlczogZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIG1vZHVsZUV4dGVuZFBhcmFtcyhwYXJhbXMsIGFsbE1vZHVsZXNQYXJhbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGV4dGVuZFBhcmFtcyhvYmopIHtcbiAgICBpZiAob2JqID09PSB2b2lkIDApIHtcbiAgICAgIG9iaiA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBtb2R1bGVQYXJhbU5hbWUgPSBPYmplY3Qua2V5cyhvYmopWzBdO1xuICAgIGNvbnN0IG1vZHVsZVBhcmFtcyA9IG9ialttb2R1bGVQYXJhbU5hbWVdO1xuICAgIGlmICh0eXBlb2YgbW9kdWxlUGFyYW1zICE9PSAnb2JqZWN0JyB8fCBtb2R1bGVQYXJhbXMgPT09IG51bGwpIHtcbiAgICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPT09IHRydWUpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAobW9kdWxlUGFyYW1OYW1lID09PSAnbmF2aWdhdGlvbicgJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZW5hYmxlZCAmJiAhcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0ucHJldkVsICYmICFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5uZXh0RWwpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmF1dG8gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoWydwYWdpbmF0aW9uJywgJ3Njcm9sbGJhciddLmluZGV4T2YobW9kdWxlUGFyYW1OYW1lKSA+PSAwICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgJiYgIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVsKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5hdXRvID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCEobW9kdWxlUGFyYW1OYW1lIGluIHBhcmFtcyAmJiAnZW5hYmxlZCcgaW4gbW9kdWxlUGFyYW1zKSkge1xuICAgICAgZXh0ZW5kKGFsbE1vZHVsZXNQYXJhbXMsIG9iaik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPT09ICdvYmplY3QnICYmICEoJ2VuYWJsZWQnIGluIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdKSkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICghcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICB9O1xuICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICB9O1xufVxuXG4vKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IFwib2ZmXCIgKi9cbmNvbnN0IHByb3RvdHlwZXMgPSB7XG4gIGV2ZW50c0VtaXR0ZXIsXG4gIHVwZGF0ZSxcbiAgdHJhbnNsYXRlLFxuICB0cmFuc2l0aW9uLFxuICBzbGlkZSxcbiAgbG9vcCxcbiAgZ3JhYkN1cnNvcixcbiAgZXZlbnRzOiBldmVudHMkMSxcbiAgYnJlYWtwb2ludHMsXG4gIGNoZWNrT3ZlcmZsb3c6IGNoZWNrT3ZlcmZsb3ckMSxcbiAgY2xhc3Nlc1xufTtcbmNvbnN0IGV4dGVuZGVkRGVmYXVsdHMgPSB7fTtcbmNsYXNzIFN3aXBlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBlbDtcbiAgICBsZXQgcGFyYW1zO1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3NbMF0pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCcpIHtcbiAgICAgIHBhcmFtcyA9IGFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIFtlbCwgcGFyYW1zXSA9IGFyZ3M7XG4gICAgfVxuICAgIGlmICghcGFyYW1zKSBwYXJhbXMgPSB7fTtcbiAgICBwYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcyk7XG4gICAgaWYgKGVsICYmICFwYXJhbXMuZWwpIHBhcmFtcy5lbCA9IGVsO1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBpZiAocGFyYW1zLmVsICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKS5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBzd2lwZXJzID0gW107XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCkuZm9yRWFjaChjb250YWluZXJFbCA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zLCB7XG4gICAgICAgICAgZWw6IGNvbnRhaW5lckVsXG4gICAgICAgIH0pO1xuICAgICAgICBzd2lwZXJzLnB1c2gobmV3IFN3aXBlcihuZXdQYXJhbXMpKTtcbiAgICAgIH0pO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0cnVjdG9yLXJldHVyblxuICAgICAgcmV0dXJuIHN3aXBlcnM7XG4gICAgfVxuXG4gICAgLy8gU3dpcGVyIEluc3RhbmNlXG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBzd2lwZXIuX19zd2lwZXJfXyA9IHRydWU7XG4gICAgc3dpcGVyLnN1cHBvcnQgPSBnZXRTdXBwb3J0KCk7XG4gICAgc3dpcGVyLmRldmljZSA9IGdldERldmljZSh7XG4gICAgICB1c2VyQWdlbnQ6IHBhcmFtcy51c2VyQWdlbnRcbiAgICB9KTtcbiAgICBzd2lwZXIuYnJvd3NlciA9IGdldEJyb3dzZXIoKTtcbiAgICBzd2lwZXIuZXZlbnRzTGlzdGVuZXJzID0ge307XG4gICAgc3dpcGVyLmV2ZW50c0FueUxpc3RlbmVycyA9IFtdO1xuICAgIHN3aXBlci5tb2R1bGVzID0gWy4uLnN3aXBlci5fX21vZHVsZXNfX107XG4gICAgaWYgKHBhcmFtcy5tb2R1bGVzICYmIEFycmF5LmlzQXJyYXkocGFyYW1zLm1vZHVsZXMpKSB7XG4gICAgICBzd2lwZXIubW9kdWxlcy5wdXNoKC4uLnBhcmFtcy5tb2R1bGVzKTtcbiAgICB9XG4gICAgY29uc3QgYWxsTW9kdWxlc1BhcmFtcyA9IHt9O1xuICAgIHN3aXBlci5tb2R1bGVzLmZvckVhY2gobW9kID0+IHtcbiAgICAgIG1vZCh7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgc3dpcGVyLFxuICAgICAgICBleHRlbmRQYXJhbXM6IG1vZHVsZUV4dGVuZFBhcmFtcyhwYXJhbXMsIGFsbE1vZHVsZXNQYXJhbXMpLFxuICAgICAgICBvbjogc3dpcGVyLm9uLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgb25jZTogc3dpcGVyLm9uY2UuYmluZChzd2lwZXIpLFxuICAgICAgICBvZmY6IHN3aXBlci5vZmYuYmluZChzd2lwZXIpLFxuICAgICAgICBlbWl0OiBzd2lwZXIuZW1pdC5iaW5kKHN3aXBlcilcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gRXh0ZW5kIGRlZmF1bHRzIHdpdGggbW9kdWxlcyBwYXJhbXNcbiAgICBjb25zdCBzd2lwZXJQYXJhbXMgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBhbGxNb2R1bGVzUGFyYW1zKTtcblxuICAgIC8vIEV4dGVuZCBkZWZhdWx0cyB3aXRoIHBhc3NlZCBwYXJhbXNcbiAgICBzd2lwZXIucGFyYW1zID0gZXh0ZW5kKHt9LCBzd2lwZXJQYXJhbXMsIGV4dGVuZGVkRGVmYXVsdHMsIHBhcmFtcyk7XG4gICAgc3dpcGVyLm9yaWdpbmFsUGFyYW1zID0gZXh0ZW5kKHt9LCBzd2lwZXIucGFyYW1zKTtcbiAgICBzd2lwZXIucGFzc2VkUGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpO1xuXG4gICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIGlmIChzd2lwZXIucGFyYW1zICYmIHN3aXBlci5wYXJhbXMub24pIHtcbiAgICAgIE9iamVjdC5rZXlzKHN3aXBlci5wYXJhbXMub24pLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgc3dpcGVyLm9uKGV2ZW50TmFtZSwgc3dpcGVyLnBhcmFtcy5vbltldmVudE5hbWVdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcyAmJiBzd2lwZXIucGFyYW1zLm9uQW55KSB7XG4gICAgICBzd2lwZXIub25Bbnkoc3dpcGVyLnBhcmFtcy5vbkFueSk7XG4gICAgfVxuXG4gICAgLy8gRXh0ZW5kIFN3aXBlclxuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgICBlbmFibGVkOiBzd2lwZXIucGFyYW1zLmVuYWJsZWQsXG4gICAgICBlbCxcbiAgICAgIC8vIENsYXNzZXNcbiAgICAgIGNsYXNzTmFtZXM6IFtdLFxuICAgICAgLy8gU2xpZGVzXG4gICAgICBzbGlkZXM6IFtdLFxuICAgICAgc2xpZGVzR3JpZDogW10sXG4gICAgICBzbmFwR3JpZDogW10sXG4gICAgICBzbGlkZXNTaXplc0dyaWQ6IFtdLFxuICAgICAgLy8gaXNEaXJlY3Rpb25cbiAgICAgIGlzSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCc7XG4gICAgICB9LFxuICAgICAgaXNWZXJ0aWNhbCgpIHtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAndmVydGljYWwnO1xuICAgICAgfSxcbiAgICAgIC8vIEluZGV4ZXNcbiAgICAgIGFjdGl2ZUluZGV4OiAwLFxuICAgICAgcmVhbEluZGV4OiAwLFxuICAgICAgLy9cbiAgICAgIGlzQmVnaW5uaW5nOiB0cnVlLFxuICAgICAgaXNFbmQ6IGZhbHNlLFxuICAgICAgLy8gUHJvcHNcbiAgICAgIHRyYW5zbGF0ZTogMCxcbiAgICAgIHByZXZpb3VzVHJhbnNsYXRlOiAwLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICB2ZWxvY2l0eTogMCxcbiAgICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgICBjc3NPdmVyZmxvd0FkanVzdG1lbnQoKSB7XG4gICAgICAgIC8vIFJldHVybnMgMCB1bmxlc3MgYHRyYW5zbGF0ZWAgaXMgPiAyKioyM1xuICAgICAgICAvLyBTaG91bGQgYmUgc3VidHJhY3RlZCBmcm9tIGNzcyB2YWx1ZXMgdG8gcHJldmVudCBvdmVyZmxvd1xuICAgICAgICByZXR1cm4gTWF0aC50cnVuYyh0aGlzLnRyYW5zbGF0ZSAvIDIgKiogMjMpICogMiAqKiAyMztcbiAgICAgIH0sXG4gICAgICAvLyBMb2Nrc1xuICAgICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldixcbiAgICAgIC8vIFRvdWNoIEV2ZW50c1xuICAgICAgdG91Y2hFdmVudHNEYXRhOiB7XG4gICAgICAgIGlzVG91Y2hlZDogdW5kZWZpbmVkLFxuICAgICAgICBpc01vdmVkOiB1bmRlZmluZWQsXG4gICAgICAgIGFsbG93VG91Y2hDYWxsYmFja3M6IHVuZGVmaW5lZCxcbiAgICAgICAgdG91Y2hTdGFydFRpbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgY3VycmVudFRyYW5zbGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBzdGFydFRyYW5zbGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RocmVzaG9sZE1vdmU6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gRm9ybSBlbGVtZW50cyB0byBtYXRjaFxuICAgICAgICBmb2N1c2FibGVFbGVtZW50czogc3dpcGVyLnBhcmFtcy5mb2N1c2FibGVFbGVtZW50cyxcbiAgICAgICAgLy8gTGFzdCBjbGljayB0aW1lXG4gICAgICAgIGxhc3RDbGlja1RpbWU6IDAsXG4gICAgICAgIGNsaWNrVGltZW91dDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBWZWxvY2l0aWVzXG4gICAgICAgIHZlbG9jaXRpZXM6IFtdLFxuICAgICAgICBhbGxvd01vbWVudHVtQm91bmNlOiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWQsXG4gICAgICAgIHBvaW50ZXJJZDogbnVsbCxcbiAgICAgICAgdG91Y2hJZDogbnVsbFxuICAgICAgfSxcbiAgICAgIC8vIENsaWNrc1xuICAgICAgYWxsb3dDbGljazogdHJ1ZSxcbiAgICAgIC8vIFRvdWNoZXNcbiAgICAgIGFsbG93VG91Y2hNb3ZlOiBzd2lwZXIucGFyYW1zLmFsbG93VG91Y2hNb3ZlLFxuICAgICAgdG91Y2hlczoge1xuICAgICAgICBzdGFydFg6IDAsXG4gICAgICAgIHN0YXJ0WTogMCxcbiAgICAgICAgY3VycmVudFg6IDAsXG4gICAgICAgIGN1cnJlbnRZOiAwLFxuICAgICAgICBkaWZmOiAwXG4gICAgICB9LFxuICAgICAgLy8gSW1hZ2VzXG4gICAgICBpbWFnZXNUb0xvYWQ6IFtdLFxuICAgICAgaW1hZ2VzTG9hZGVkOiAwXG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19zd2lwZXInKTtcblxuICAgIC8vIEluaXRcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5pbml0KSB7XG4gICAgICBzd2lwZXIuaW5pdCgpO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhcHAgaW5zdGFuY2VcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RydWN0b3ItcmV0dXJuXG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuICBnZXREaXJlY3Rpb25MYWJlbChwcm9wZXJ0eSkge1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHk7XG4gICAgfVxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiB7XG4gICAgICAnd2lkdGgnOiAnaGVpZ2h0JyxcbiAgICAgICdtYXJnaW4tdG9wJzogJ21hcmdpbi1sZWZ0JyxcbiAgICAgICdtYXJnaW4tYm90dG9tICc6ICdtYXJnaW4tcmlnaHQnLFxuICAgICAgJ21hcmdpbi1sZWZ0JzogJ21hcmdpbi10b3AnLFxuICAgICAgJ21hcmdpbi1yaWdodCc6ICdtYXJnaW4tYm90dG9tJyxcbiAgICAgICdwYWRkaW5nLWxlZnQnOiAncGFkZGluZy10b3AnLFxuICAgICAgJ3BhZGRpbmctcmlnaHQnOiAncGFkZGluZy1ib3R0b20nLFxuICAgICAgJ21hcmdpblJpZ2h0JzogJ21hcmdpbkJvdHRvbSdcbiAgICB9W3Byb3BlcnR5XTtcbiAgfVxuICBnZXRTbGlkZUluZGV4KHNsaWRlRWwpIHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNFbCxcbiAgICAgIHBhcmFtc1xuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgY29uc3QgZmlyc3RTbGlkZUluZGV4ID0gZWxlbWVudEluZGV4KHNsaWRlc1swXSk7XG4gICAgcmV0dXJuIGVsZW1lbnRJbmRleChzbGlkZUVsKSAtIGZpcnN0U2xpZGVJbmRleDtcbiAgfVxuICBnZXRTbGlkZUluZGV4QnlEYXRhKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2xpZGVJbmRleCh0aGlzLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IGluZGV4KVswXSk7XG4gIH1cbiAgcmVjYWxjU2xpZGVzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzRWwsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIHN3aXBlci5zbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5lbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnZW5hYmxlJyk7XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci51bnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2Rpc2FibGUnKTtcbiAgfVxuICBzZXRQcm9ncmVzcyhwcm9ncmVzcywgc3BlZWQpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIHByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxKTtcbiAgICBjb25zdCBtaW4gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgY29uc3QgbWF4ID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSAobWF4IC0gbWluKSAqIHByb2dyZXNzICsgbWluO1xuICAgIHN3aXBlci50cmFuc2xhdGVUbyhjdXJyZW50LCB0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnID8gMCA6IHNwZWVkKTtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG4gIGVtaXRDb250YWluZXJDbGFzc2VzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgY29uc3QgY2xzID0gc3dpcGVyLmVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihjbGFzc05hbWUgPT4ge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXInKSA9PT0gMCB8fCBjbGFzc05hbWUuaW5kZXhPZihzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpID09PSAwO1xuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfY29udGFpbmVyQ2xhc3NlcycsIGNscy5qb2luKCcgJykpO1xuICB9XG4gIGdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuICcnO1xuICAgIHJldHVybiBzbGlkZUVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihjbGFzc05hbWUgPT4ge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXItc2xpZGUnKSA9PT0gMCB8fCBjbGFzc05hbWUuaW5kZXhPZihzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpID09PSAwO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuICBlbWl0U2xpZGVzQ2xhc3NlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBbXTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBjb25zdCBjbGFzc05hbWVzID0gc3dpcGVyLmdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKTtcbiAgICAgIHVwZGF0ZXMucHVzaCh7XG4gICAgICAgIHNsaWRlRWwsXG4gICAgICAgIGNsYXNzTmFtZXNcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzJywgc2xpZGVFbCwgY2xhc3NOYW1lcyk7XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzZXMnLCB1cGRhdGVzKTtcbiAgfVxuICBzbGlkZXNQZXJWaWV3RHluYW1pYyh2aWV3LCBleGFjdCkge1xuICAgIGlmICh2aWV3ID09PSB2b2lkIDApIHtcbiAgICAgIHZpZXcgPSAnY3VycmVudCc7XG4gICAgfVxuICAgIGlmIChleGFjdCA9PT0gdm9pZCAwKSB7XG4gICAgICBleGFjdCA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHNsaWRlc0dyaWQsXG4gICAgICBzbGlkZXNTaXplc0dyaWQsXG4gICAgICBzaXplOiBzd2lwZXJTaXplLFxuICAgICAgYWN0aXZlSW5kZXhcbiAgICB9ID0gc3dpcGVyO1xuICAgIGxldCBzcHYgPSAxO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdudW1iZXInKSByZXR1cm4gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgbGV0IHNsaWRlU2l6ZSA9IHNsaWRlc1thY3RpdmVJbmRleF0gPyBzbGlkZXNbYWN0aXZlSW5kZXhdLnN3aXBlclNsaWRlU2l6ZSA6IDA7XG4gICAgICBsZXQgYnJlYWtMb29wO1xuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4ICsgMTsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldICYmICFicmVha0xvb3ApIHtcbiAgICAgICAgICBzbGlkZVNpemUgKz0gc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICBpZiAoc2xpZGVTaXplID4gc3dpcGVyU2l6ZSkgYnJlYWtMb29wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4IC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgc2xpZGVTaXplICs9IHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemU7XG4gICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgaWYgKHNsaWRlU2l6ZSA+IHN3aXBlclNpemUpIGJyZWFrTG9vcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpZiAodmlldyA9PT0gJ2N1cnJlbnQnKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCArIDE7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZUluVmlldyA9IGV4YWN0ID8gc2xpZGVzR3JpZFtpXSArIHNsaWRlc1NpemVzR3JpZFtpXSAtIHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIDwgc3dpcGVyU2l6ZSA6IHNsaWRlc0dyaWRbaV0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemU7XG4gICAgICAgICAgaWYgKHNsaWRlSW5WaWV3KSB7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHByZXZpb3VzXG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJblZpZXcgPSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSAtIHNsaWRlc0dyaWRbaV0gPCBzd2lwZXJTaXplO1xuICAgICAgICAgIGlmIChzbGlkZUluVmlldykge1xuICAgICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcHY7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHNuYXBHcmlkLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHN3aXBlcjtcbiAgICAvLyBCcmVha3BvaW50c1xuICAgIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfVxuICAgIFsuLi5zd2lwZXIuZWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJyldLmZvckVhY2goaW1hZ2VFbCA9PiB7XG4gICAgICBpZiAoaW1hZ2VFbC5jb21wbGV0ZSkge1xuICAgICAgICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGltYWdlRWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN3aXBlci51cGRhdGVTaXplKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSAqIC0xIDogc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIGNvbnN0IG5ld1RyYW5zbGF0ZSA9IE1hdGgubWluKE1hdGgubWF4KHRyYW5zbGF0ZVZhbHVlLCBzd2lwZXIubWF4VHJhbnNsYXRlKCkpLCBzd2lwZXIubWluVHJhbnNsYXRlKCkpO1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIH1cbiAgICBsZXQgdHJhbnNsYXRlZDtcbiAgICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmICFwYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nIHx8IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkgJiYgc3dpcGVyLmlzRW5kICYmICFwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVzID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcyA6IHN3aXBlci5zbGlkZXM7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBzd2lwZXIuc2xpZGVUbyhzbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKCF0cmFuc2xhdGVkKSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3VwZGF0ZScpO1xuICB9XG4gIGNoYW5nZURpcmVjdGlvbihuZXdEaXJlY3Rpb24sIG5lZWRVcGRhdGUpIHtcbiAgICBpZiAobmVlZFVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCBjdXJyZW50RGlyZWN0aW9uID0gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb247XG4gICAgaWYgKCFuZXdEaXJlY3Rpb24pIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbmV3RGlyZWN0aW9uID0gY3VycmVudERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICB9XG4gICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gY3VycmVudERpcmVjdGlvbiB8fCBuZXdEaXJlY3Rpb24gIT09ICdob3Jpem9udGFsJyAmJiBuZXdEaXJlY3Rpb24gIT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIHJldHVybiBzd2lwZXI7XG4gICAgfVxuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke2N1cnJlbnREaXJlY3Rpb259YCk7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7bmV3RGlyZWN0aW9ufWApO1xuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICAgIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID0gbmV3RGlyZWN0aW9uO1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGlmIChuZXdEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnY2hhbmdlRGlyZWN0aW9uJyk7XG4gICAgaWYgKG5lZWRVcGRhdGUpIHN3aXBlci51cGRhdGUoKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGNoYW5nZUxhbmd1YWdlRGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5ydGwgJiYgZGlyZWN0aW9uID09PSAncnRsJyB8fCAhc3dpcGVyLnJ0bCAmJiBkaXJlY3Rpb24gPT09ICdsdHInKSByZXR1cm47XG4gICAgc3dpcGVyLnJ0bCA9IGRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgc3dpcGVyLnJ0bFRyYW5zbGF0ZSA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgc3dpcGVyLnJ0bDtcbiAgICBpZiAoc3dpcGVyLnJ0bCkge1xuICAgICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXJ0bGApO1xuICAgICAgc3dpcGVyLmVsLmRpciA9ICdydGwnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9cnRsYCk7XG4gICAgICBzd2lwZXIuZWwuZGlyID0gJ2x0cic7XG4gICAgfVxuICAgIHN3aXBlci51cGRhdGUoKTtcbiAgfVxuICBtb3VudChlbGVtZW50KSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLm1vdW50ZWQpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gRmluZCBlbFxuICAgIGxldCBlbCA9IGVsZW1lbnQgfHwgc3dpcGVyLnBhcmFtcy5lbDtcbiAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICB9XG4gICAgaWYgKCFlbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbC5zd2lwZXIgPSBzd2lwZXI7XG4gICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5ob3N0ICYmIGVsLnBhcmVudE5vZGUuaG9zdC5ub2RlTmFtZSA9PT0gJ1NXSVBFUi1DT05UQUlORVInKSB7XG4gICAgICBzd2lwZXIuaXNFbGVtZW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgZ2V0V3JhcHBlclNlbGVjdG9yID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGAuJHsoc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MgfHwgJycpLnRyaW0oKS5zcGxpdCgnICcpLmpvaW4oJy4nKX1gO1xuICAgIH07XG4gICAgY29uc3QgZ2V0V3JhcHBlciA9ICgpID0+IHtcbiAgICAgIGlmIChlbCAmJiBlbC5zaGFkb3dSb290ICYmIGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcikge1xuICAgICAgICBjb25zdCByZXMgPSBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoZ2V0V3JhcHBlclNlbGVjdG9yKCkpO1xuICAgICAgICAvLyBDaGlsZHJlbiBuZWVkcyB0byByZXR1cm4gc2xvdCBpdGVtc1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnRDaGlsZHJlbihlbCwgZ2V0V3JhcHBlclNlbGVjdG9yKCkpWzBdO1xuICAgIH07XG4gICAgLy8gRmluZCBXcmFwcGVyXG4gICAgbGV0IHdyYXBwZXJFbCA9IGdldFdyYXBwZXIoKTtcbiAgICBpZiAoIXdyYXBwZXJFbCAmJiBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgICB3cmFwcGVyRWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzd2lwZXIucGFyYW1zLndyYXBwZXJDbGFzcyk7XG4gICAgICBlbC5hcHBlbmQod3JhcHBlckVsKTtcbiAgICAgIGVsZW1lbnRDaGlsZHJlbihlbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gKS5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICB3cmFwcGVyRWwuYXBwZW5kKHNsaWRlRWwpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlc0VsOiBzd2lwZXIuaXNFbGVtZW50ICYmICFlbC5wYXJlbnROb2RlLmhvc3Quc2xpZGVTbG90cyA/IGVsLnBhcmVudE5vZGUuaG9zdCA6IHdyYXBwZXJFbCxcbiAgICAgIGhvc3RFbDogc3dpcGVyLmlzRWxlbWVudCA/IGVsLnBhcmVudE5vZGUuaG9zdCA6IGVsLFxuICAgICAgbW91bnRlZDogdHJ1ZSxcbiAgICAgIC8vIFJUTFxuICAgICAgcnRsOiBlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgZWxlbWVudFN0eWxlKGVsLCAnZGlyZWN0aW9uJykgPT09ICdydGwnLFxuICAgICAgcnRsVHJhbnNsYXRlOiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIChlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgZWxlbWVudFN0eWxlKGVsLCAnZGlyZWN0aW9uJykgPT09ICdydGwnKSxcbiAgICAgIHdyb25nUlRMOiBlbGVtZW50U3R5bGUod3JhcHBlckVsLCAnZGlzcGxheScpID09PSAnLXdlYmtpdC1ib3gnXG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaW5pdChlbCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuIHN3aXBlcjtcbiAgICBjb25zdCBtb3VudGVkID0gc3dpcGVyLm1vdW50KGVsKTtcbiAgICBpZiAobW91bnRlZCA9PT0gZmFsc2UpIHJldHVybiBzd2lwZXI7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZUluaXQnKTtcblxuICAgIC8vIFNldCBicmVha3BvaW50XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIENsYXNzZXNcbiAgICBzd2lwZXIuYWRkQ2xhc3NlcygpO1xuXG4gICAgLy8gVXBkYXRlIHNpemVcbiAgICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuXG4gICAgLy8gVXBkYXRlIHNsaWRlc1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSB7XG4gICAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIH1cblxuICAgIC8vIFNldCBHcmFiIEN1cnNvclxuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuXG4gICAgLy8gU2xpZGUgVG8gSW5pdGlhbCBTbGlkZVxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSwgMCwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbG9vcFxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gQXR0YWNoIGV2ZW50c1xuICAgIHN3aXBlci5hdHRhY2hFdmVudHMoKTtcbiAgICBjb25zdCBsYXp5RWxlbWVudHMgPSBbLi4uc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2FkaW5nPVwibGF6eVwiXScpXTtcbiAgICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgbGF6eUVsZW1lbnRzLnB1c2goLi4uc3dpcGVyLmhvc3RFbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKSk7XG4gICAgfVxuICAgIGxhenlFbGVtZW50cy5mb3JFYWNoKGltYWdlRWwgPT4ge1xuICAgICAgaWYgKGltYWdlRWwuY29tcGxldGUpIHtcbiAgICAgICAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBpbWFnZUVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGUgPT4ge1xuICAgICAgICAgIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgZS50YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcmVsb2FkKHN3aXBlcik7XG5cbiAgICAvLyBJbml0IEZsYWdcbiAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHByZWxvYWQoc3dpcGVyKTtcblxuICAgIC8vIEVtaXRcbiAgICBzd2lwZXIuZW1pdCgnaW5pdCcpO1xuICAgIHN3aXBlci5lbWl0KCdhZnRlckluaXQnKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGRlc3Ryb3koZGVsZXRlSW5zdGFuY2UsIGNsZWFuU3R5bGVzKSB7XG4gICAgaWYgKGRlbGV0ZUluc3RhbmNlID09PSB2b2lkIDApIHtcbiAgICAgIGRlbGV0ZUluc3RhbmNlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNsZWFuU3R5bGVzID09PSB2b2lkIDApIHtcbiAgICAgIGNsZWFuU3R5bGVzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXMsXG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zID09PSAndW5kZWZpbmVkJyB8fCBzd2lwZXIuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZURlc3Ryb3knKTtcblxuICAgIC8vIEluaXQgRmxhZ1xuICAgIHN3aXBlci5pbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgLy8gRGV0YWNoIGV2ZW50c1xuICAgIHN3aXBlci5kZXRhY2hFdmVudHMoKTtcblxuICAgIC8vIERlc3Ryb3kgbG9vcFxuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW51cCBzdHlsZXNcbiAgICBpZiAoY2xlYW5TdHlsZXMpIHtcbiAgICAgIHN3aXBlci5yZW1vdmVDbGFzc2VzKCk7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB3cmFwcGVyRWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgaWYgKHNsaWRlcyAmJiBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUZ1bGx5VmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcywgcGFyYW1zLnNsaWRlTmV4dENsYXNzLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICAgICAgICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2Rlc3Ryb3knKTtcblxuICAgIC8vIERldGFjaCBlbWl0dGVyIGV2ZW50c1xuICAgIE9iamVjdC5rZXlzKHN3aXBlci5ldmVudHNMaXN0ZW5lcnMpLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgIHN3aXBlci5vZmYoZXZlbnROYW1lKTtcbiAgICB9KTtcbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgIT09IGZhbHNlKSB7XG4gICAgICBzd2lwZXIuZWwuc3dpcGVyID0gbnVsbDtcbiAgICAgIGRlbGV0ZVByb3BzKHN3aXBlcik7XG4gICAgfVxuICAgIHN3aXBlci5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHN0YXRpYyBleHRlbmREZWZhdWx0cyhuZXdEZWZhdWx0cykge1xuICAgIGV4dGVuZChleHRlbmRlZERlZmF1bHRzLCBuZXdEZWZhdWx0cyk7XG4gIH1cbiAgc3RhdGljIGdldCBleHRlbmRlZERlZmF1bHRzKCkge1xuICAgIHJldHVybiBleHRlbmRlZERlZmF1bHRzO1xuICB9XG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRzO1xuICB9XG4gIHN0YXRpYyBpbnN0YWxsTW9kdWxlKG1vZCkge1xuICAgIGlmICghU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXykgU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXyA9IFtdO1xuICAgIGNvbnN0IG1vZHVsZXMgPSBTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fO1xuICAgIGlmICh0eXBlb2YgbW9kID09PSAnZnVuY3Rpb24nICYmIG1vZHVsZXMuaW5kZXhPZihtb2QpIDwgMCkge1xuICAgICAgbW9kdWxlcy5wdXNoKG1vZCk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyB1c2UobW9kdWxlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgbW9kdWxlLmZvckVhY2gobSA9PiBTd2lwZXIuaW5zdGFsbE1vZHVsZShtKSk7XG4gICAgICByZXR1cm4gU3dpcGVyO1xuICAgIH1cbiAgICBTd2lwZXIuaW5zdGFsbE1vZHVsZShtb2R1bGUpO1xuICAgIHJldHVybiBTd2lwZXI7XG4gIH1cbn1cbk9iamVjdC5rZXlzKHByb3RvdHlwZXMpLmZvckVhY2gocHJvdG90eXBlR3JvdXAgPT4ge1xuICBPYmplY3Qua2V5cyhwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXSkuZm9yRWFjaChwcm90b01ldGhvZCA9PiB7XG4gICAgU3dpcGVyLnByb3RvdHlwZVtwcm90b01ldGhvZF0gPSBwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXVtwcm90b01ldGhvZF07XG4gIH0pO1xufSk7XG5Td2lwZXIudXNlKFtSZXNpemUsIE9ic2VydmVyXSk7XG5cbmV4cG9ydCB7IFN3aXBlciBhcyBTLCBkZWZhdWx0cyBhcyBkIH07XG4iLCAiLyoqXG4gKiBTd2lwZXIgMTEuMC41XG4gKiBNb3N0IG1vZGVybiBtb2JpbGUgdG91Y2ggc2xpZGVyIGFuZCBmcmFtZXdvcmsgd2l0aCBoYXJkd2FyZSBhY2NlbGVyYXRlZCB0cmFuc2l0aW9uc1xuICogaHR0cHM6Ly9zd2lwZXJqcy5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDIzIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKlxuICogUmVsZWFzZWQgb246IE5vdmVtYmVyIDIyLCAyMDIzXG4gKi9cblxuZXhwb3J0IHsgUyBhcyBTd2lwZXIsIFMgYXMgZGVmYXVsdCB9IGZyb20gJy4vc2hhcmVkL3N3aXBlci1jb3JlLm1qcyc7XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgcyBhcyBzZXRDU1NQcm9wZXJ0eSwgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGMgYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBWaXJ0dWFsKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgdmlydHVhbDoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBzbGlkZXM6IFtdLFxuICAgICAgY2FjaGU6IHRydWUsXG4gICAgICByZW5kZXJTbGlkZTogbnVsbCxcbiAgICAgIHJlbmRlckV4dGVybmFsOiBudWxsLFxuICAgICAgcmVuZGVyRXh0ZXJuYWxVcGRhdGU6IHRydWUsXG4gICAgICBhZGRTbGlkZXNCZWZvcmU6IDAsXG4gICAgICBhZGRTbGlkZXNBZnRlcjogMFxuICAgIH1cbiAgfSk7XG4gIGxldCBjc3NNb2RlVGltZW91dDtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBzd2lwZXIudmlydHVhbCA9IHtcbiAgICBjYWNoZToge30sXG4gICAgZnJvbTogdW5kZWZpbmVkLFxuICAgIHRvOiB1bmRlZmluZWQsXG4gICAgc2xpZGVzOiBbXSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgc2xpZGVzR3JpZDogW11cbiAgfTtcbiAgY29uc3QgdGVtcERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmdW5jdGlvbiByZW5kZXJTbGlkZShzbGlkZSwgaW5kZXgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnZpcnR1YWw7XG4gICAgaWYgKHBhcmFtcy5jYWNoZSAmJiBzd2lwZXIudmlydHVhbC5jYWNoZVtpbmRleF0pIHtcbiAgICAgIHJldHVybiBzd2lwZXIudmlydHVhbC5jYWNoZVtpbmRleF07XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGxldCBzbGlkZUVsO1xuICAgIGlmIChwYXJhbXMucmVuZGVyU2xpZGUpIHtcbiAgICAgIHNsaWRlRWwgPSBwYXJhbXMucmVuZGVyU2xpZGUuY2FsbChzd2lwZXIsIHNsaWRlLCBpbmRleCk7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlRWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRlbXBET00uaW5uZXJIVE1MID0gc2xpZGVFbDtcbiAgICAgICAgc2xpZGVFbCA9IHRlbXBET00uY2hpbGRyZW5bMF07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBzbGlkZUVsID0gY3JlYXRlRWxlbWVudCgnc3dpcGVyLXNsaWRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlRWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpO1xuICAgIH1cbiAgICBzbGlkZUVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBpbmRleCk7XG4gICAgaWYgKCFwYXJhbXMucmVuZGVyU2xpZGUpIHtcbiAgICAgIHNsaWRlRWwuaW5uZXJIVE1MID0gc2xpZGU7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuY2FjaGUpIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlW2luZGV4XSA9IHNsaWRlRWw7XG4gICAgfVxuICAgIHJldHVybiBzbGlkZUVsO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZShmb3JjZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1BlclZpZXcsXG4gICAgICBzbGlkZXNQZXJHcm91cCxcbiAgICAgIGNlbnRlcmVkU2xpZGVzLFxuICAgICAgbG9vcDogaXNMb29wXG4gICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgY29uc3Qge1xuICAgICAgYWRkU2xpZGVzQmVmb3JlLFxuICAgICAgYWRkU2xpZGVzQWZ0ZXJcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy52aXJ0dWFsO1xuICAgIGNvbnN0IHtcbiAgICAgIGZyb206IHByZXZpb3VzRnJvbSxcbiAgICAgIHRvOiBwcmV2aW91c1RvLFxuICAgICAgc2xpZGVzLFxuICAgICAgc2xpZGVzR3JpZDogcHJldmlvdXNTbGlkZXNHcmlkLFxuICAgICAgb2Zmc2V0OiBwcmV2aW91c09mZnNldFxuICAgIH0gPSBzd2lwZXIudmlydHVhbDtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG4gICAgbGV0IG9mZnNldFByb3A7XG4gICAgaWYgKHN3aXBlci5ydGxUcmFuc2xhdGUpIG9mZnNldFByb3AgPSAncmlnaHQnO2Vsc2Ugb2Zmc2V0UHJvcCA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgIGxldCBzbGlkZXNBZnRlcjtcbiAgICBsZXQgc2xpZGVzQmVmb3JlO1xuICAgIGlmIChjZW50ZXJlZFNsaWRlcykge1xuICAgICAgc2xpZGVzQWZ0ZXIgPSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIHNsaWRlc1Blckdyb3VwICsgYWRkU2xpZGVzQWZ0ZXI7XG4gICAgICBzbGlkZXNCZWZvcmUgPSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIHNsaWRlc1Blckdyb3VwICsgYWRkU2xpZGVzQmVmb3JlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZXNBZnRlciA9IHNsaWRlc1BlclZpZXcgKyAoc2xpZGVzUGVyR3JvdXAgLSAxKSArIGFkZFNsaWRlc0FmdGVyO1xuICAgICAgc2xpZGVzQmVmb3JlID0gKGlzTG9vcCA/IHNsaWRlc1BlclZpZXcgOiBzbGlkZXNQZXJHcm91cCkgKyBhZGRTbGlkZXNCZWZvcmU7XG4gICAgfVxuICAgIGxldCBmcm9tID0gYWN0aXZlSW5kZXggLSBzbGlkZXNCZWZvcmU7XG4gICAgbGV0IHRvID0gYWN0aXZlSW5kZXggKyBzbGlkZXNBZnRlcjtcbiAgICBpZiAoIWlzTG9vcCkge1xuICAgICAgZnJvbSA9IE1hdGgubWF4KGZyb20sIDApO1xuICAgICAgdG8gPSBNYXRoLm1pbih0bywgc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBsZXQgb2Zmc2V0ID0gKHN3aXBlci5zbGlkZXNHcmlkW2Zyb21dIHx8IDApIC0gKHN3aXBlci5zbGlkZXNHcmlkWzBdIHx8IDApO1xuICAgIGlmIChpc0xvb3AgJiYgYWN0aXZlSW5kZXggPj0gc2xpZGVzQmVmb3JlKSB7XG4gICAgICBmcm9tIC09IHNsaWRlc0JlZm9yZTtcbiAgICAgIGlmICghY2VudGVyZWRTbGlkZXMpIG9mZnNldCArPSBzd2lwZXIuc2xpZGVzR3JpZFswXTtcbiAgICB9IGVsc2UgaWYgKGlzTG9vcCAmJiBhY3RpdmVJbmRleCA8IHNsaWRlc0JlZm9yZSkge1xuICAgICAgZnJvbSA9IC1zbGlkZXNCZWZvcmU7XG4gICAgICBpZiAoY2VudGVyZWRTbGlkZXMpIG9mZnNldCArPSBzd2lwZXIuc2xpZGVzR3JpZFswXTtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIudmlydHVhbCwge1xuICAgICAgZnJvbSxcbiAgICAgIHRvLFxuICAgICAgb2Zmc2V0LFxuICAgICAgc2xpZGVzR3JpZDogc3dpcGVyLnNsaWRlc0dyaWQsXG4gICAgICBzbGlkZXNCZWZvcmUsXG4gICAgICBzbGlkZXNBZnRlclxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIG9uUmVuZGVyZWQoKSB7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgfVxuICAgIGlmIChwcmV2aW91c0Zyb20gPT09IGZyb20gJiYgcHJldmlvdXNUbyA9PT0gdG8gJiYgIWZvcmNlKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc0dyaWQgIT09IHByZXZpb3VzU2xpZGVzR3JpZCAmJiBvZmZzZXQgIT09IHByZXZpb3VzT2Zmc2V0KSB7XG4gICAgICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICBzbGlkZUVsLnN0eWxlW29mZnNldFByb3BdID0gYCR7b2Zmc2V0IC0gTWF0aC5hYnMoc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpKX1weGA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwpIHtcbiAgICAgIHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbC5jYWxsKHN3aXBlciwge1xuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvLFxuICAgICAgICBzbGlkZXM6IGZ1bmN0aW9uIGdldFNsaWRlcygpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZXNUb1JlbmRlciA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDw9IHRvOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHNsaWRlc1RvUmVuZGVyLnB1c2goc2xpZGVzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHNsaWRlc1RvUmVuZGVyO1xuICAgICAgICB9KClcbiAgICAgIH0pO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbFVwZGF0ZSkge1xuICAgICAgICBvblJlbmRlcmVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXBlbmRJbmRleGVzID0gW107XG4gICAgY29uc3QgYXBwZW5kSW5kZXhlcyA9IFtdO1xuICAgIGNvbnN0IGdldFNsaWRlSW5kZXggPSBpbmRleCA9PiB7XG4gICAgICBsZXQgc2xpZGVJbmRleCA9IGluZGV4O1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gc2xpZGVzLmxlbmd0aCArIGluZGV4O1xuICAgICAgfSBlbHNlIGlmIChzbGlkZUluZGV4ID49IHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHNsaWRlSW5kZXggPSBzbGlkZUluZGV4IC0gc2xpZGVzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbGlkZUluZGV4O1xuICAgIH07XG4gICAgaWYgKGZvcmNlKSB7XG4gICAgICBzd2lwZXIuc2xpZGVzLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgc2xpZGVFbC5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gcHJldmlvdXNGcm9tOyBpIDw9IHByZXZpb3VzVG87IGkgKz0gMSkge1xuICAgICAgICBpZiAoaSA8IGZyb20gfHwgaSA+IHRvKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IGdldFNsaWRlSW5kZXgoaSk7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlcy5maWx0ZXIoZWwgPT4gZWwubWF0Y2hlcyhgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c2xpZGVJbmRleH1cIl0sIHN3aXBlci1zbGlkZVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c2xpZGVJbmRleH1cIl1gKSkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICAgIHNsaWRlRWwucmVtb3ZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbG9vcEZyb20gPSBpc0xvb3AgPyAtc2xpZGVzLmxlbmd0aCA6IDA7XG4gICAgY29uc3QgbG9vcFRvID0gaXNMb29wID8gc2xpZGVzLmxlbmd0aCAqIDIgOiBzbGlkZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSBsb29wRnJvbTsgaSA8IGxvb3BUbzsgaSArPSAxKSB7XG4gICAgICBpZiAoaSA+PSBmcm9tICYmIGkgPD0gdG8pIHtcbiAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IGdldFNsaWRlSW5kZXgoaSk7XG4gICAgICAgIGlmICh0eXBlb2YgcHJldmlvdXNUbyA9PT0gJ3VuZGVmaW5lZCcgfHwgZm9yY2UpIHtcbiAgICAgICAgICBhcHBlbmRJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGkgPiBwcmV2aW91c1RvKSBhcHBlbmRJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgICAgaWYgKGkgPCBwcmV2aW91c0Zyb20pIHByZXBlbmRJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgYXBwZW5kSW5kZXhlcy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIHN3aXBlci5zbGlkZXNFbC5hcHBlbmQocmVuZGVyU2xpZGUoc2xpZGVzW2luZGV4XSwgaW5kZXgpKTtcbiAgICB9KTtcbiAgICBpZiAoaXNMb29wKSB7XG4gICAgICBmb3IgKGxldCBpID0gcHJlcGVuZEluZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwcmVwZW5kSW5kZXhlc1tpXTtcbiAgICAgICAgc3dpcGVyLnNsaWRlc0VsLnByZXBlbmQocmVuZGVyU2xpZGUoc2xpZGVzW2luZGV4XSwgaW5kZXgpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcHJlcGVuZEluZGV4ZXMuc29ydCgoYSwgYikgPT4gYiAtIGEpO1xuICAgICAgcHJlcGVuZEluZGV4ZXMuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICAgIHN3aXBlci5zbGlkZXNFbC5wcmVwZW5kKHJlbmRlclNsaWRlKHNsaWRlc1tpbmRleF0sIGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxlbWVudENoaWxkcmVuKHN3aXBlci5zbGlkZXNFbCwgJy5zd2lwZXItc2xpZGUsIHN3aXBlci1zbGlkZScpLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBzbGlkZUVsLnN0eWxlW29mZnNldFByb3BdID0gYCR7b2Zmc2V0IC0gTWF0aC5hYnMoc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpKX1weGA7XG4gICAgfSk7XG4gICAgb25SZW5kZXJlZCgpO1xuICB9XG4gIGZ1bmN0aW9uIGFwcGVuZFNsaWRlKHNsaWRlcykge1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0pIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5wdXNoKHNsaWRlc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5wdXNoKHNsaWRlcyk7XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgfVxuICBmdW5jdGlvbiBwcmVwZW5kU2xpZGUoc2xpZGVzKSB7XG4gICAgY29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgbGV0IG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyAxO1xuICAgIGxldCBudW1iZXJPZk5ld1NsaWRlcyA9IDE7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2xpZGVzKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSkgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoc2xpZGVzW2ldKTtcbiAgICAgIH1cbiAgICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyBzbGlkZXMubGVuZ3RoO1xuICAgICAgbnVtYmVyT2ZOZXdTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMudW5zaGlmdChzbGlkZXMpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICBjb25zdCBjYWNoZSA9IHN3aXBlci52aXJ0dWFsLmNhY2hlO1xuICAgICAgY29uc3QgbmV3Q2FjaGUgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGNhY2hlKS5mb3JFYWNoKGNhY2hlZEluZGV4ID0+IHtcbiAgICAgICAgY29uc3QgY2FjaGVkRWwgPSBjYWNoZVtjYWNoZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNhY2hlZEVsSW5kZXggPSBjYWNoZWRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgICAgIGlmIChjYWNoZWRFbEluZGV4KSB7XG4gICAgICAgICAgY2FjaGVkRWwuc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIHBhcnNlSW50KGNhY2hlZEVsSW5kZXgsIDEwKSArIG51bWJlck9mTmV3U2xpZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdDYWNoZVtwYXJzZUludChjYWNoZWRJbmRleCwgMTApICsgbnVtYmVyT2ZOZXdTbGlkZXNdID0gY2FjaGVkRWw7XG4gICAgICB9KTtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlID0gbmV3Q2FjaGU7XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlU2xpZGUoc2xpZGVzSW5kZXhlcykge1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzSW5kZXhlcyA9PT0gJ3VuZGVmaW5lZCcgfHwgc2xpZGVzSW5kZXhlcyA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGxldCBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzbGlkZXNJbmRleGVzKSkge1xuICAgICAgZm9yIChsZXQgaSA9IHNsaWRlc0luZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5jYWNoZSkge1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIudmlydHVhbC5jYWNoZVtzbGlkZXNJbmRleGVzW2ldXTtcbiAgICAgICAgICAvLyBzaGlmdCBjYWNoZSBpbmRleGVzXG4gICAgICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnZpcnR1YWwuY2FjaGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPiBzbGlkZXNJbmRleGVzKSB7XG4gICAgICAgICAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlW2tleSAtIDFdID0gc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5XTtcbiAgICAgICAgICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5IC0gMV0uc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGtleSAtIDEpO1xuICAgICAgICAgICAgICBkZWxldGUgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMuc3BsaWNlKHNsaWRlc0luZGV4ZXNbaV0sIDEpO1xuICAgICAgICBpZiAoc2xpZGVzSW5kZXhlc1tpXSA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgICBhY3RpdmVJbmRleCA9IE1hdGgubWF4KGFjdGl2ZUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5jYWNoZSkge1xuICAgICAgICBkZWxldGUgc3dpcGVyLnZpcnR1YWwuY2FjaGVbc2xpZGVzSW5kZXhlc107XG4gICAgICAgIC8vIHNoaWZ0IGNhY2hlIGluZGV4ZXNcbiAgICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnZpcnR1YWwuY2FjaGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICBpZiAoa2V5ID4gc2xpZGVzSW5kZXhlcykge1xuICAgICAgICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5IC0gMV0gPSBzd2lwZXIudmlydHVhbC5jYWNoZVtrZXldO1xuICAgICAgICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5IC0gMV0uc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGtleSAtIDEpO1xuICAgICAgICAgICAgZGVsZXRlIHN3aXBlci52aXJ0dWFsLmNhY2hlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5zcGxpY2Uoc2xpZGVzSW5kZXhlcywgMSk7XG4gICAgICBpZiAoc2xpZGVzSW5kZXhlcyA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgYWN0aXZlSW5kZXggPSBNYXRoLm1heChhY3RpdmVJbmRleCwgMCk7XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCwgMCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsU2xpZGVzKCkge1xuICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcyA9IFtdO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlID0ge307XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbygwLCAwKTtcbiAgfVxuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gICAgbGV0IGRvbVNsaWRlc0Fzc2lnbmVkO1xuICAgIGlmICh0eXBlb2Ygc3dpcGVyLnBhc3NlZFBhcmFtcy52aXJ0dWFsLnNsaWRlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHNsaWRlcyA9IFsuLi5zd2lwZXIuc2xpZGVzRWwuY2hpbGRyZW5dLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSk7XG4gICAgICBpZiAoc2xpZGVzICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzID0gWy4uLnNsaWRlc107XG4gICAgICAgIGRvbVNsaWRlc0Fzc2lnbmVkID0gdHJ1ZTtcbiAgICAgICAgc2xpZGVzLmZvckVhY2goKHNsaWRlRWwsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgICBzbGlkZUVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBzbGlkZUluZGV4KTtcbiAgICAgICAgICBzd2lwZXIudmlydHVhbC5jYWNoZVtzbGlkZUluZGV4XSA9IHNsaWRlRWw7XG4gICAgICAgICAgc2xpZGVFbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZG9tU2xpZGVzQXNzaWduZWQpIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcyA9IHN3aXBlci5wYXJhbXMudmlydHVhbC5zbGlkZXM7XG4gICAgfVxuICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXZpcnR1YWxgKTtcbiAgICBzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgJiYgIXN3aXBlci5faW1tZWRpYXRlVmlydHVhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGNzc01vZGVUaW1lb3V0KTtcbiAgICAgIGNzc01vZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2luaXQgdXBkYXRlIHJlc2l6ZScsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc2V0Q1NTUHJvcGVydHkoc3dpcGVyLndyYXBwZXJFbCwgJy0tc3dpcGVyLXZpcnR1YWwtc2l6ZScsIGAke3N3aXBlci52aXJ0dWFsU2l6ZX1weGApO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnZpcnR1YWwsIHtcbiAgICBhcHBlbmRTbGlkZSxcbiAgICBwcmVwZW5kU2xpZGUsXG4gICAgcmVtb3ZlU2xpZGUsXG4gICAgcmVtb3ZlQWxsU2xpZGVzLFxuICAgIHVwZGF0ZVxuICB9KTtcbn1cblxuZXhwb3J0IHsgVmlydHVhbCBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCwgYSBhcyBnZXRXaW5kb3cgfSBmcm9tICcuLi9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGEgYXMgZWxlbWVudFBhcmVudHMsIGIgYXMgZWxlbWVudE9mZnNldCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuZnVuY3Rpb24gS2V5Ym9hcmQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgc3dpcGVyLmtleWJvYXJkID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlXG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAga2V5Ym9hcmQ6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgb25seUluVmlld3BvcnQ6IHRydWUsXG4gICAgICBwYWdlVXBEb3duOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBsZXQgZSA9IGV2ZW50O1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7IC8vIGpxdWVyeSBmaXhcbiAgICBjb25zdCBrYyA9IGUua2V5Q29kZSB8fCBlLmNoYXJDb2RlO1xuICAgIGNvbnN0IHBhZ2VVcERvd24gPSBzd2lwZXIucGFyYW1zLmtleWJvYXJkLnBhZ2VVcERvd247XG4gICAgY29uc3QgaXNQYWdlVXAgPSBwYWdlVXBEb3duICYmIGtjID09PSAzMztcbiAgICBjb25zdCBpc1BhZ2VEb3duID0gcGFnZVVwRG93biAmJiBrYyA9PT0gMzQ7XG4gICAgY29uc3QgaXNBcnJvd0xlZnQgPSBrYyA9PT0gMzc7XG4gICAgY29uc3QgaXNBcnJvd1JpZ2h0ID0ga2MgPT09IDM5O1xuICAgIGNvbnN0IGlzQXJyb3dVcCA9IGtjID09PSAzODtcbiAgICBjb25zdCBpc0Fycm93RG93biA9IGtjID09PSA0MDtcbiAgICAvLyBEaXJlY3Rpb25zIGxvY2tzXG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiBpc0Fycm93UmlnaHQgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiBpc0Fycm93RG93biB8fCBpc1BhZ2VEb3duKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIGlzQXJyb3dMZWZ0IHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgaXNBcnJvd1VwIHx8IGlzUGFnZVVwKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lICYmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dGFyZWEnKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMua2V5Ym9hcmQub25seUluVmlld3BvcnQgJiYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd0xlZnQgfHwgaXNBcnJvd1JpZ2h0IHx8IGlzQXJyb3dVcCB8fCBpc0Fycm93RG93bikpIHtcbiAgICAgIGxldCBpblZpZXcgPSBmYWxzZTtcbiAgICAgIC8vIENoZWNrIHRoYXQgc3dpcGVyIHNob3VsZCBiZSBpbnNpZGUgb2YgdmlzaWJsZSBhcmVhIG9mIHdpbmRvd1xuICAgICAgaWYgKGVsZW1lbnRQYXJlbnRzKHN3aXBlci5lbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApLmxlbmd0aCA+IDAgJiYgZWxlbWVudFBhcmVudHMoc3dpcGVyLmVsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzfWApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgY29uc3QgZWwgPSBzd2lwZXIuZWw7XG4gICAgICBjb25zdCBzd2lwZXJXaWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuICAgICAgY29uc3Qgc3dpcGVySGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNvbnN0IHN3aXBlck9mZnNldCA9IGVsZW1lbnRPZmZzZXQoZWwpO1xuICAgICAgaWYgKHJ0bCkgc3dpcGVyT2Zmc2V0LmxlZnQgLT0gZWwuc2Nyb2xsTGVmdDtcbiAgICAgIGNvbnN0IHN3aXBlckNvb3JkID0gW1tzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlcldpZHRoLCBzd2lwZXJPZmZzZXQudG9wXSwgW3N3aXBlck9mZnNldC5sZWZ0LCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVySGVpZ2h0XSwgW3N3aXBlck9mZnNldC5sZWZ0ICsgc3dpcGVyV2lkdGgsIHN3aXBlck9mZnNldC50b3AgKyBzd2lwZXJIZWlnaHRdXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyQ29vcmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBzd2lwZXJDb29yZFtpXTtcbiAgICAgICAgaWYgKHBvaW50WzBdID49IDAgJiYgcG9pbnRbMF0gPD0gd2luZG93V2lkdGggJiYgcG9pbnRbMV0gPj0gMCAmJiBwb2ludFsxXSA8PSB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICBpZiAocG9pbnRbMF0gPT09IDAgJiYgcG9pbnRbMV0gPT09IDApIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpblZpZXcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIGlmIChpc1BhZ2VVcCB8fCBpc1BhZ2VEb3duIHx8IGlzQXJyb3dMZWZ0IHx8IGlzQXJyb3dSaWdodCkge1xuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKChpc1BhZ2VEb3duIHx8IGlzQXJyb3dSaWdodCkgJiYgIXJ0bCB8fCAoaXNQYWdlVXAgfHwgaXNBcnJvd0xlZnQpICYmIHJ0bCkgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgaWYgKChpc1BhZ2VVcCB8fCBpc0Fycm93TGVmdCkgJiYgIXJ0bCB8fCAoaXNQYWdlRG93biB8fCBpc0Fycm93UmlnaHQpICYmIHJ0bCkgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNQYWdlVXAgfHwgaXNQYWdlRG93biB8fCBpc0Fycm93VXAgfHwgaXNBcnJvd0Rvd24pIHtcbiAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtlbHNlIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BhZ2VEb3duIHx8IGlzQXJyb3dEb3duKSBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICBpZiAoaXNQYWdlVXAgfHwgaXNBcnJvd1VwKSBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgfVxuICAgIGVtaXQoJ2tleVByZXNzJywga2MpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGlmIChzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGUpO1xuICAgIHN3aXBlci5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIGlmICghc3dpcGVyLmtleWJvYXJkLmVuYWJsZWQpIHJldHVybjtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlKTtcbiAgICBzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xuICB9XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmtleWJvYXJkLmVuYWJsZWQpIHtcbiAgICAgIGVuYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkge1xuICAgICAgZGlzYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmtleWJvYXJkLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEtleWJvYXJkIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgbiBhcyBuZXh0VGljaywgZCBhcyBub3cgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cbmZ1bmN0aW9uIE1vdXNld2hlZWwoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgbW91c2V3aGVlbDoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByZWxlYXNlT25FZGdlczogZmFsc2UsXG4gICAgICBpbnZlcnQ6IGZhbHNlLFxuICAgICAgZm9yY2VUb0F4aXM6IGZhbHNlLFxuICAgICAgc2Vuc2l0aXZpdHk6IDEsXG4gICAgICBldmVudHNUYXJnZXQ6ICdjb250YWluZXInLFxuICAgICAgdGhyZXNob2xkRGVsdGE6IG51bGwsXG4gICAgICB0aHJlc2hvbGRUaW1lOiBudWxsLFxuICAgICAgbm9Nb3VzZXdoZWVsQ2xhc3M6ICdzd2lwZXItbm8tbW91c2V3aGVlbCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIubW91c2V3aGVlbCA9IHtcbiAgICBlbmFibGVkOiBmYWxzZVxuICB9O1xuICBsZXQgdGltZW91dDtcbiAgbGV0IGxhc3RTY3JvbGxUaW1lID0gbm93KCk7XG4gIGxldCBsYXN0RXZlbnRCZWZvcmVTbmFwO1xuICBjb25zdCByZWNlbnRXaGVlbEV2ZW50cyA9IFtdO1xuICBmdW5jdGlvbiBub3JtYWxpemUoZSkge1xuICAgIC8vIFJlYXNvbmFibGUgZGVmYXVsdHNcbiAgICBjb25zdCBQSVhFTF9TVEVQID0gMTA7XG4gICAgY29uc3QgTElORV9IRUlHSFQgPSA0MDtcbiAgICBjb25zdCBQQUdFX0hFSUdIVCA9IDgwMDtcbiAgICBsZXQgc1ggPSAwO1xuICAgIGxldCBzWSA9IDA7IC8vIHNwaW5YLCBzcGluWVxuICAgIGxldCBwWCA9IDA7XG4gICAgbGV0IHBZID0gMDsgLy8gcGl4ZWxYLCBwaXhlbFlcblxuICAgIC8vIExlZ2FjeVxuICAgIGlmICgnZGV0YWlsJyBpbiBlKSB7XG4gICAgICBzWSA9IGUuZGV0YWlsO1xuICAgIH1cbiAgICBpZiAoJ3doZWVsRGVsdGEnIGluIGUpIHtcbiAgICAgIHNZID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcbiAgICB9XG4gICAgaWYgKCd3aGVlbERlbHRhWScgaW4gZSkge1xuICAgICAgc1kgPSAtZS53aGVlbERlbHRhWSAvIDEyMDtcbiAgICB9XG4gICAgaWYgKCd3aGVlbERlbHRhWCcgaW4gZSkge1xuICAgICAgc1ggPSAtZS53aGVlbERlbHRhWCAvIDEyMDtcbiAgICB9XG5cbiAgICAvLyBzaWRlIHNjcm9sbGluZyBvbiBGRiB3aXRoIERPTU1vdXNlU2Nyb2xsXG4gICAgaWYgKCdheGlzJyBpbiBlICYmIGUuYXhpcyA9PT0gZS5IT1JJWk9OVEFMX0FYSVMpIHtcbiAgICAgIHNYID0gc1k7XG4gICAgICBzWSA9IDA7XG4gICAgfVxuICAgIHBYID0gc1ggKiBQSVhFTF9TVEVQO1xuICAgIHBZID0gc1kgKiBQSVhFTF9TVEVQO1xuICAgIGlmICgnZGVsdGFZJyBpbiBlKSB7XG4gICAgICBwWSA9IGUuZGVsdGFZO1xuICAgIH1cbiAgICBpZiAoJ2RlbHRhWCcgaW4gZSkge1xuICAgICAgcFggPSBlLmRlbHRhWDtcbiAgICB9XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgIXBYKSB7XG4gICAgICAvLyBpZiB1c2VyIHNjcm9sbHMgd2l0aCBzaGlmdCBoZSB3YW50cyBob3Jpem9udGFsIHNjcm9sbFxuICAgICAgcFggPSBwWTtcbiAgICAgIHBZID0gMDtcbiAgICB9XG4gICAgaWYgKChwWCB8fCBwWSkgJiYgZS5kZWx0YU1vZGUpIHtcbiAgICAgIGlmIChlLmRlbHRhTW9kZSA9PT0gMSkge1xuICAgICAgICAvLyBkZWx0YSBpbiBMSU5FIHVuaXRzXG4gICAgICAgIHBYICo9IExJTkVfSEVJR0hUO1xuICAgICAgICBwWSAqPSBMSU5FX0hFSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlbHRhIGluIFBBR0UgdW5pdHNcbiAgICAgICAgcFggKj0gUEFHRV9IRUlHSFQ7XG4gICAgICAgIHBZICo9IFBBR0VfSEVJR0hUO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGwtYmFjayBpZiBzcGluIGNhbm5vdCBiZSBkZXRlcm1pbmVkXG4gICAgaWYgKHBYICYmICFzWCkge1xuICAgICAgc1ggPSBwWCA8IDEgPyAtMSA6IDE7XG4gICAgfVxuICAgIGlmIChwWSAmJiAhc1kpIHtcbiAgICAgIHNZID0gcFkgPCAxID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3Bpblg6IHNYLFxuICAgICAgc3Bpblk6IHNZLFxuICAgICAgcGl4ZWxYOiBwWCxcbiAgICAgIHBpeGVsWTogcFlcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBhbmltYXRlU2xpZGVyKG5ld0V2ZW50KSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSAmJiBuZXdFdmVudC5kZWx0YSA8IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSkge1xuICAgICAgLy8gUHJldmVudCBpZiBkZWx0YSBvZiB3aGVlbCBzY3JvbGwgZGVsdGEgaXMgYmVsb3cgY29uZmlndXJlZCB0aHJlc2hvbGRcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lICYmIG5vdygpIC0gbGFzdFNjcm9sbFRpbWUgPCBzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSkge1xuICAgICAgLy8gUHJldmVudCBpZiB0aW1lIGJldHdlZW4gc2Nyb2xscyBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBtb3ZlbWVudCBpcyBOT1QgYmlnIGVub3VnaCBhbmRcbiAgICAvLyBpZiB0aGUgbGFzdCB0aW1lIHRoZSB1c2VyIHNjcm9sbGVkIHdhcyB0b28gY2xvc2UgdG8gdGhlIGN1cnJlbnQgb25lIChhdm9pZCBjb250aW51b3VzbHkgdHJpZ2dlcmluZyB0aGUgc2xpZGVyKTpcbiAgICAvLyAgIERvbid0IGdvIGFueSBmdXJ0aGVyIChhdm9pZCBpbnNpZ25pZmljYW50IHNjcm9sbCBtb3ZlbWVudCkuXG4gICAgaWYgKG5ld0V2ZW50LmRlbHRhID49IDYgJiYgbm93KCkgLSBsYXN0U2Nyb2xsVGltZSA8IDYwKSB7XG4gICAgICAvLyBSZXR1cm4gZmFsc2UgYXMgYSBkZWZhdWx0XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gSWYgdXNlciBpcyBzY3JvbGxpbmcgdG93YXJkcyB0aGUgZW5kOlxuICAgIC8vICAgSWYgdGhlIHNsaWRlciBoYXNuJ3QgaGl0IHRoZSBsYXRlc3Qgc2xpZGUgb3JcbiAgICAvLyAgIGlmIHRoZSBzbGlkZXIgaXMgYSBsb29wIGFuZFxuICAgIC8vICAgaWYgdGhlIHNsaWRlciBpc24ndCBtb3ZpbmcgcmlnaHQgbm93OlxuICAgIC8vICAgICBHbyB0byBuZXh0IHNsaWRlIGFuZFxuICAgIC8vICAgICBlbWl0IGEgc2Nyb2xsIGV2ZW50LlxuICAgIC8vIEVsc2UgKHRoZSB1c2VyIGlzIHNjcm9sbGluZyB0b3dhcmRzIHRoZSBiZWdpbm5pbmcpIGFuZFxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaGFzbid0IGhpdCB0aGUgZmlyc3Qgc2xpZGUgb3JcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzIGEgbG9vcCBhbmRcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzbid0IG1vdmluZyByaWdodCBub3c6XG4gICAgLy8gICBHbyB0byBwcmV2IHNsaWRlIGFuZFxuICAgIC8vICAgZW1pdCBhIHNjcm9sbCBldmVudC5cbiAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uIDwgMCkge1xuICAgICAgaWYgKCghc3dpcGVyLmlzRW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCkgJiYgIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgICBlbWl0KCdzY3JvbGwnLCBuZXdFdmVudC5yYXcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKCFzd2lwZXIuaXNCZWdpbm5pbmcgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgZW1pdCgnc2Nyb2xsJywgbmV3RXZlbnQucmF3KTtcbiAgICB9XG4gICAgLy8gSWYgeW91IGdvdCBoZXJlIGlzIGJlY2F1c2UgYW4gYW5pbWF0aW9uIGhhcyBiZWVuIHRyaWdnZXJlZCBzbyBzdG9yZSB0aGUgY3VycmVudCB0aW1lXG4gICAgbGFzdFNjcm9sbFRpbWUgPSBuZXcgd2luZG93LkRhdGUoKS5nZXRUaW1lKCk7XG4gICAgLy8gUmV0dXJuIGZhbHNlIGFzIGEgZGVmYXVsdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiByZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsO1xuICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gPCAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAvLyBSZXR1cm4gdHJ1ZSB0byBhbmltYXRlIHNjcm9sbCBvbiBlZGdlc1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICBsZXQgZSA9IGV2ZW50O1xuICAgIGxldCBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG5cbiAgICAvLyBJZ25vcmUgZXZlbnQgaWYgdGhlIHRhcmdldCBvciBpdHMgcGFyZW50cyBoYXZlIHRoZSBzd2lwZXItbm8tbW91c2V3aGVlbCBjbGFzc1xuICAgIGlmIChldmVudC50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLm5vTW91c2V3aGVlbENsYXNzfWApKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgbGV0IHRhcmdldEVsID0gc3dpcGVyLmVsO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgdGFyZ2V0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRFbENvbnRhaW5zVGFyZ2V0ID0gdGFyZ2V0RWwgJiYgdGFyZ2V0RWwuY29udGFpbnMoZS50YXJnZXQpO1xuICAgIGlmICghc3dpcGVyLm1vdXNlRW50ZXJlZCAmJiAhdGFyZ2V0RWxDb250YWluc1RhcmdldCAmJiAhcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50OyAvLyBqcXVlcnkgZml4XG4gICAgbGV0IGRlbHRhID0gMDtcbiAgICBjb25zdCBydGxGYWN0b3IgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLTEgOiAxO1xuICAgIGNvbnN0IGRhdGEgPSBub3JtYWxpemUoZSk7XG4gICAgaWYgKHBhcmFtcy5mb3JjZVRvQXhpcykge1xuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpKSBkZWx0YSA9IC1kYXRhLnBpeGVsWCAqIHJ0bEZhY3RvcjtlbHNlIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkYXRhLnBpeGVsWSkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWCkpIGRlbHRhID0gLWRhdGEucGl4ZWxZO2Vsc2UgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbHRhID0gTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpID8gLWRhdGEucGl4ZWxYICogcnRsRmFjdG9yIDogLWRhdGEucGl4ZWxZO1xuICAgIH1cbiAgICBpZiAoZGVsdGEgPT09IDApIHJldHVybiB0cnVlO1xuICAgIGlmIChwYXJhbXMuaW52ZXJ0KSBkZWx0YSA9IC1kZWx0YTtcblxuICAgIC8vIEdldCB0aGUgc2Nyb2xsIHBvc2l0aW9uc1xuICAgIGxldCBwb3NpdGlvbnMgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCkgKyBkZWx0YSAqIHBhcmFtcy5zZW5zaXRpdml0eTtcbiAgICBpZiAocG9zaXRpb25zID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb25zID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgIGlmIChwb3NpdGlvbnMgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSBwb3NpdGlvbnMgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG5cbiAgICAvLyBXaGVuIGxvb3AgaXMgdHJ1ZTpcbiAgICAvLyAgICAgdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vIFdoZW4gbG9vcCBpcyBmYWxzZTpcbiAgICAvLyAgICAgaWYgdGhlIHNjcm9sbCBwb3NpdGlvbnMgaXMgbm90IG9uIGVkZ2UsXG4gICAgLy8gICAgIHRoZW4gdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIG9uIGVkZ2UgcG9zaXRpb25zLFxuICAgIC8vICAgICB0aGVuIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgZmFsc2UuXG4gICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHRydWUgOiAhKHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIHx8IHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKTtcbiAgICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlciAmJiBzd2lwZXIucGFyYW1zLm5lc3RlZCkgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUgfHwgIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgICAgLy8gUmVnaXN0ZXIgdGhlIG5ldyBldmVudCBpbiBhIHZhcmlhYmxlIHdoaWNoIHN0b3JlcyB0aGUgcmVsZXZhbnQgZGF0YVxuICAgICAgY29uc3QgbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSksXG4gICAgICAgIHJhdzogZXZlbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIEtlZXAgdGhlIG1vc3QgcmVjZW50IGV2ZW50c1xuICAgICAgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNoaWZ0KCk7IC8vIG9ubHkgc3RvcmUgdGhlIGxhc3QgTiBldmVudHNcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJldkV2ZW50ID0gcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID8gcmVjZW50V2hlZWxFdmVudHNbcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICByZWNlbnRXaGVlbEV2ZW50cy5wdXNoKG5ld0V2ZW50KTtcblxuICAgICAgLy8gSWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByZXZpb3VzIHJlY29yZGVkIGV2ZW50OlxuICAgICAgLy8gICBJZiBkaXJlY3Rpb24gaGFzIGNoYW5nZWQgb3JcbiAgICAgIC8vICAgaWYgdGhlIHNjcm9sbCBpcyBxdWlja2VyIHRoYW4gdGhlIHByZXZpb3VzIG9uZTpcbiAgICAgIC8vICAgICBBbmltYXRlIHRoZSBzbGlkZXIuXG4gICAgICAvLyBFbHNlICh0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSB3aGVlbCBpcyBtb3ZlZCk6XG4gICAgICAvLyAgICAgQW5pbWF0ZSB0aGUgc2xpZGVyLlxuICAgICAgaWYgKHByZXZFdmVudCkge1xuICAgICAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uICE9PSBwcmV2RXZlbnQuZGlyZWN0aW9uIHx8IG5ld0V2ZW50LmRlbHRhID4gcHJldkV2ZW50LmRlbHRhIHx8IG5ld0V2ZW50LnRpbWUgPiBwcmV2RXZlbnQudGltZSArIDE1MCkge1xuICAgICAgICAgIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRlU2xpZGVyKG5ld0V2ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXQncyB0aW1lIHRvIHJlbGVhc2UgdGhlIHNjcm9sbDpcbiAgICAgIC8vICAgUmV0dXJuIG5vdyBzbyB5b3UgZG9uJ3QgaGl0IHRoZSBwcmV2ZW50RGVmYXVsdC5cbiAgICAgIGlmIChyZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRnJlZW1vZGUgb3Igc2Nyb2xsQ29udGFpbmVyOlxuXG4gICAgICAvLyBJZiB3ZSByZWNlbnRseSBzbmFwcGVkIGFmdGVyIGEgbW9tZW50dW0gc2Nyb2xsLCB0aGVuIGlnbm9yZSB3aGVlbCBldmVudHNcbiAgICAgIC8vIHRvIGdpdmUgdGltZSBmb3IgdGhlIGRlY2VsZXJhdGlvbiB0byBmaW5pc2guIFN0b3AgaWdub3JpbmcgYWZ0ZXIgNTAwIG1zZWNzXG4gICAgICAvLyBvciBpZiBpdCdzIGEgbmV3IHNjcm9sbCAobGFyZ2VyIGRlbHRhIG9yIGludmVyc2Ugc2lnbiBhcyBsYXN0IGV2ZW50IGJlZm9yZVxuICAgICAgLy8gYW4gZW5kLW9mLW1vbWVudHVtIHNuYXApLlxuICAgICAgY29uc3QgbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSlcbiAgICAgIH07XG4gICAgICBjb25zdCBpZ25vcmVXaGVlbEV2ZW50cyA9IGxhc3RFdmVudEJlZm9yZVNuYXAgJiYgbmV3RXZlbnQudGltZSA8IGxhc3RFdmVudEJlZm9yZVNuYXAudGltZSArIDUwMCAmJiBuZXdFdmVudC5kZWx0YSA8PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRlbHRhICYmIG5ld0V2ZW50LmRpcmVjdGlvbiA9PT0gbGFzdEV2ZW50QmVmb3JlU25hcC5kaXJlY3Rpb247XG4gICAgICBpZiAoIWlnbm9yZVdoZWVsRXZlbnRzKSB7XG4gICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKSArIGRlbHRhICogcGFyYW1zLnNlbnNpdGl2aXR5O1xuICAgICAgICBjb25zdCB3YXNCZWdpbm5pbmcgPSBzd2lwZXIuaXNCZWdpbm5pbmc7XG4gICAgICAgIGNvbnN0IHdhc0VuZCA9IHN3aXBlci5pc0VuZDtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHBvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShwb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgaWYgKCF3YXNCZWdpbm5pbmcgJiYgc3dpcGVyLmlzQmVnaW5uaW5nIHx8ICF3YXNFbmQgJiYgc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBuZXdFdmVudC5kaXJlY3Rpb24gPCAwID8gJ25leHQnIDogJ3ByZXYnLFxuICAgICAgICAgICAgYnlNb3VzZXdoZWVsOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICAgICAgLy8gV2hlbiB3aGVlbCBzY3JvbGxpbmcgc3RhcnRzIHdpdGggc3RpY2t5IChha2Egc25hcCkgZW5hYmxlZCwgdGhlbiBkZXRlY3RcbiAgICAgICAgICAvLyB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGJ5IHN0b3JpbmcgcmVjZW50IChOPTE1Pykgd2hlZWwgZXZlbnRzLlxuICAgICAgICAgIC8vIDEuIGRvIGFsbCBOIGV2ZW50cyBoYXZlIGRlY3JlYXNpbmcgb3Igc2FtZSAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhP1xuICAgICAgICAgIC8vIDIuIGRpZCBhbGwgTiBldmVudHMgYXJyaXZlIGluIHRoZSBsYXN0IE0gKE09NTAwPykgbXNlY3M/XG4gICAgICAgICAgLy8gMy4gZG9lcyB0aGUgZWFybGllc3QgZXZlbnQgaGF2ZSBhbiAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhIHRoYXQnc1xuICAgICAgICAgIC8vICAgIGF0IGxlYXN0IFAgKFA9MT8pIGxhcmdlciB0aGFuIHRoZSBtb3N0IHJlY2VudCBldmVudCdzIGRlbHRhP1xuICAgICAgICAgIC8vIDQuIGRvZXMgdGhlIGxhdGVzdCBldmVudCBoYXZlIGEgZGVsdGEgdGhhdCdzIHNtYWxsZXIgdGhhbiBRIChRPTY/KSBwaXhlbHM/XG4gICAgICAgICAgLy8gSWYgMS00IGFyZSBcInllc1wiIHRoZW4gd2UncmUgbmVhciB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGRlY2VsZXJhdGlvbi5cbiAgICAgICAgICAvLyBTbmFwIGltbWVkaWF0ZWx5IGFuZCBpZ25vcmUgcmVtYWluaW5nIHdoZWVsIGV2ZW50cyBpbiB0aGlzIHNjcm9sbC5cbiAgICAgICAgICAvLyBTZWUgY29tbWVudCBhYm92ZSBmb3IgXCJyZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsXCIgZGV0ZXJtaW5hdGlvbi5cbiAgICAgICAgICAvLyBJZiAxLTQgYXJlbid0IHNhdGlzZmllZCwgdGhlbiB3YWl0IHRvIHNuYXAgdW50aWwgNTAwbXMgYWZ0ZXIgdGhlIGxhc3QgZXZlbnQuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSkge1xuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc2hpZnQoKTsgLy8gb25seSBzdG9yZSB0aGUgbGFzdCBOIGV2ZW50c1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHByZXZFdmVudCA9IHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA/IHJlY2VudFdoZWVsRXZlbnRzW3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IGZpcnN0RXZlbnQgPSByZWNlbnRXaGVlbEV2ZW50c1swXTtcbiAgICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5wdXNoKG5ld0V2ZW50KTtcbiAgICAgICAgICBpZiAocHJldkV2ZW50ICYmIChuZXdFdmVudC5kZWx0YSA+IHByZXZFdmVudC5kZWx0YSB8fCBuZXdFdmVudC5kaXJlY3Rpb24gIT09IHByZXZFdmVudC5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICAvLyBJbmNyZWFzaW5nIG9yIHJldmVyc2Utc2lnbiBkZWx0YSBtZWFucyB0aGUgdXNlciBzdGFydGVkIHNjcm9sbGluZyBhZ2Fpbi4gQ2xlYXIgdGhlIHdoZWVsIGV2ZW50IGxvZy5cbiAgICAgICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSAmJiBuZXdFdmVudC50aW1lIC0gZmlyc3RFdmVudC50aW1lIDwgNTAwICYmIGZpcnN0RXZlbnQuZGVsdGEgLSBuZXdFdmVudC5kZWx0YSA+PSAxICYmIG5ld0V2ZW50LmRlbHRhIDw9IDYpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGF0IHRoZSBlbmQgb2YgdGhlIGRlY2VsZXJhdGlvbiBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc28gdGhlcmUncyBubyBuZWVkXG4gICAgICAgICAgICAvLyB0byB3YWl0IGZvciBtb3JlIGV2ZW50cy4gU25hcCBBU0FQIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgICAgICAgICAvLyBBbHNvLCBiZWNhdXNlIHRoZXJlJ3Mgc29tZSByZW1haW5pbmcgbW9tZW50dW0gd2UnbGwgYmlhcyB0aGUgc25hcCBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiBvZiB0aGUgb25nb2luZyBzY3JvbGwgYmVjYXVzZSBpdCdzIGJldHRlciBVWCBmb3IgdGhlIHNjcm9sbCB0byBzbmFwXG4gICAgICAgICAgICAvLyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gYXMgdGhlIHNjcm9sbCBpbnN0ZWFkIG9mIHJldmVyc2luZyB0byBzbmFwLiAgVGhlcmVmb3JlLFxuICAgICAgICAgICAgLy8gaWYgaXQncyBhbHJlYWR5IHNjcm9sbGVkIG1vcmUgdGhhbiAyMCUgaW4gdGhlIGN1cnJlbnQgZGlyZWN0aW9uLCBrZWVwIGdvaW5nLlxuICAgICAgICAgICAgY29uc3Qgc25hcFRvVGhyZXNob2xkID0gZGVsdGEgPiAwID8gMC44IDogMC4yO1xuICAgICAgICAgICAgbGFzdEV2ZW50QmVmb3JlU25hcCA9IG5ld0V2ZW50O1xuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgdGltZW91dCA9IG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHVuZGVmaW5lZCwgc25hcFRvVGhyZXNob2xkKTtcbiAgICAgICAgICAgIH0sIDApOyAvLyBubyBkZWxheTsgbW92ZSBvbiBuZXh0IHRpY2tcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGdldCBoZXJlLCB0aGVuIHdlIGhhdmVuJ3QgZGV0ZWN0ZWQgdGhlIGVuZCBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc29cbiAgICAgICAgICAgIC8vIHdlJ2xsIGNvbnNpZGVyIGEgc2Nyb2xsIFwiY29tcGxldGVcIiB3aGVuIHRoZXJlIGhhdmVuJ3QgYmVlbiBhbnkgd2hlZWwgZXZlbnRzXG4gICAgICAgICAgICAvLyBmb3IgNTAwbXMuXG4gICAgICAgICAgICB0aW1lb3V0ID0gbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzbmFwVG9UaHJlc2hvbGQgPSAwLjU7XG4gICAgICAgICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXAgPSBuZXdFdmVudDtcbiAgICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbWl0IGV2ZW50XG4gICAgICAgIGlmICghaWdub3JlV2hlZWxFdmVudHMpIGVtaXQoJ3Njcm9sbCcsIGUpO1xuXG4gICAgICAgIC8vIFN0b3AgYXV0b3BsYXlcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkgJiYgc3dpcGVyLnBhcmFtcy5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uKSBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICAvLyBSZXR1cm4gcGFnZSBzY3JvbGwgb24gZWRnZSBwb3NpdGlvbnNcbiAgICAgICAgaWYgKHBhcmFtcy5yZWxlYXNlT25FZGdlcyAmJiAocG9zaXRpb24gPT09IHN3aXBlci5taW5UcmFuc2xhdGUoKSB8fCBwb3NpdGlvbiA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGV2ZW50cyhtZXRob2QpIHtcbiAgICBsZXQgdGFyZ2V0RWwgPSBzd2lwZXIuZWw7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQgIT09ICdjb250YWluZXInKSB7XG4gICAgICB0YXJnZXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgfVxuICAgIHRhcmdldEVsW21ldGhvZF0oJ21vdXNlZW50ZXInLCBoYW5kbGVNb3VzZUVudGVyKTtcbiAgICB0YXJnZXRFbFttZXRob2RdKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgdGFyZ2V0RWxbbWV0aG9kXSgnd2hlZWwnLCBoYW5kbGUpO1xuICB9XG4gIGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgaGFuZGxlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGV2ZW50cygnYWRkRXZlbnRMaXN0ZW5lcicpO1xuICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGV2ZW50cygncmVtb3ZlRXZlbnRMaXN0ZW5lcicpO1xuICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZGlzYWJsZSgpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQpIGVuYWJsZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZW5hYmxlKCk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSBkaXNhYmxlKCk7XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5tb3VzZXdoZWVsLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IE1vdXNld2hlZWwgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGUgYXMgZWxlbWVudENoaWxkcmVuLCBjIGFzIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQoc3dpcGVyLCBvcmlnaW5hbFBhcmFtcywgcGFyYW1zLCBjaGVja1Byb3BzKSB7XG4gIGlmIChzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgT2JqZWN0LmtleXMoY2hlY2tQcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKCFwYXJhbXNba2V5XSAmJiBwYXJhbXMuYXV0byA9PT0gdHJ1ZSkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGVsZW1lbnRDaGlsZHJlbihzd2lwZXIuZWwsIGAuJHtjaGVja1Byb3BzW2tleV19YClbMF07XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBjaGVja1Byb3BzW2tleV0pO1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2hlY2tQcm9wc1trZXldO1xuICAgICAgICAgIHN3aXBlci5lbC5hcHBlbmQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zW2tleV0gPSBlbGVtZW50O1xuICAgICAgICBvcmlnaW5hbFBhcmFtc1trZXldID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgeyBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIGFzIGMgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzJztcblxuZnVuY3Rpb24gTmF2aWdhdGlvbihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogbnVsbCxcbiAgICAgIHByZXZFbDogbnVsbCxcbiAgICAgIGhpZGVPbkNsaWNrOiBmYWxzZSxcbiAgICAgIGRpc2FibGVkQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWRpc2FibGVkJyxcbiAgICAgIGhpZGRlbkNsYXNzOiAnc3dpcGVyLWJ1dHRvbi1oaWRkZW4nLFxuICAgICAgbG9ja0NsYXNzOiAnc3dpcGVyLWJ1dHRvbi1sb2NrJyxcbiAgICAgIG5hdmlnYXRpb25EaXNhYmxlZENsYXNzOiAnc3dpcGVyLW5hdmlnYXRpb24tZGlzYWJsZWQnXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLm5hdmlnYXRpb24gPSB7XG4gICAgbmV4dEVsOiBudWxsLFxuICAgIHByZXZFbDogbnVsbFxuICB9O1xuICBjb25zdCBtYWtlRWxlbWVudHNBcnJheSA9IGVsID0+IChBcnJheS5pc0FycmF5KGVsKSA/IGVsIDogW2VsXSkuZmlsdGVyKGUgPT4gISFlKTtcbiAgZnVuY3Rpb24gZ2V0RWwoZWwpIHtcbiAgICBsZXQgcmVzO1xuICAgIGlmIChlbCAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIHJlcyA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgIGlmIChyZXMpIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChlbCkge1xuICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKV07XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHJlcy5sZW5ndGggPiAxICYmIHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKGVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmVzID0gc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWwgJiYgIXJlcykgcmV0dXJuIGVsO1xuICAgIC8vIGlmIChBcnJheS5pc0FycmF5KHJlcykgJiYgcmVzLmxlbmd0aCA9PT0gMSkgcmVzID0gcmVzWzBdO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gdG9nZ2xlRWwoZWwsIGRpc2FibGVkKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHN1YkVsKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtkaXNhYmxlZCA/ICdhZGQnIDogJ3JlbW92ZSddKC4uLnBhcmFtcy5kaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICBpZiAoc3ViRWwudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHN1YkVsLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgICBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZCcgOiAncmVtb3ZlJ10ocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gVXBkYXRlIE5hdmlnYXRpb24gQnV0dG9uc1xuICAgIGNvbnN0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICB0b2dnbGVFbChwcmV2RWwsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUVsKG5leHRFbCwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b2dnbGVFbChwcmV2RWwsIHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpO1xuICAgIHRvZ2dsZUVsKG5leHRFbCwgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLnJld2luZCk7XG4gIH1cbiAgZnVuY3Rpb24gb25QcmV2Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25QcmV2Jyk7XG4gIH1cbiAgZnVuY3Rpb24gb25OZXh0Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25OZXh0Jyk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5uYXZpZ2F0aW9uLCBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24sIHtcbiAgICAgIG5leHRFbDogJ3N3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICBwcmV2RWw6ICdzd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSk7XG4gICAgaWYgKCEocGFyYW1zLm5leHRFbCB8fCBwYXJhbXMucHJldkVsKSkgcmV0dXJuO1xuICAgIGxldCBuZXh0RWwgPSBnZXRFbChwYXJhbXMubmV4dEVsKTtcbiAgICBsZXQgcHJldkVsID0gZ2V0RWwocGFyYW1zLnByZXZFbCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSk7XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGNvbnN0IGluaXRCdXR0b24gPSAoZWwsIGRpcikgPT4ge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQgJiYgZWwpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5wYXJhbXMubG9ja0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgIH07XG4gICAgbmV4dEVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ25leHQnKSk7XG4gICAgcHJldkVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ3ByZXYnKSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBjb25zdCBkZXN0cm95QnV0dG9uID0gKGVsLCBkaXIpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgfTtcbiAgICBuZXh0RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAnbmV4dCcpKTtcbiAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAncHJldicpKTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3RvRWRnZSBmcm9tRWRnZSBsb2NrIHVubG9jaycsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBbLi4ubmV4dEVsLCAuLi5wcmV2RWxdLmZpbHRlcihlbCA9PiAhIWVsKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcykpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrICYmICFwcmV2RWwuaW5jbHVkZXModGFyZ2V0RWwpICYmICFuZXh0RWwuaW5jbHVkZXModGFyZ2V0RWwpKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgKHN3aXBlci5wYWdpbmF0aW9uLmVsID09PSB0YXJnZXRFbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyh0YXJnZXRFbCkpKSByZXR1cm47XG4gICAgICBsZXQgaXNIaWRkZW47XG4gICAgICBpZiAobmV4dEVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IG5leHRFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldkVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IHByZXZFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBlbWl0KCduYXZpZ2F0aW9uU2hvdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1pdCgnbmF2aWdhdGlvbkhpZGUnKTtcbiAgICAgIH1cbiAgICAgIFsuLi5uZXh0RWwsIC4uLnByZXZFbF0uZmlsdGVyKGVsID0+ICEhZWwpLmZvckVhY2goZWwgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBlbmFibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgIGluaXQoKTtcbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZCguLi5zd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubmF2aWdhdGlvbkRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgZGVzdHJveSgpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbiBhcyBkZWZhdWx0IH07XG4iLCAiZnVuY3Rpb24gY2xhc3Nlc1RvU2VsZWN0b3IoY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9ICcnO1xuICB9XG4gIHJldHVybiBgLiR7Y2xhc3Nlcy50cmltKCkucmVwbGFjZSgvKFtcXC46IStcXC9dKS9nLCAnXFxcXCQxJykgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAucmVwbGFjZSgvIC9nLCAnLicpfWA7XG59XG5cbmV4cG9ydCB7IGNsYXNzZXNUb1NlbGVjdG9yIGFzIGMgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNsYXNzZXNUb1NlbGVjdG9yIH0gZnJvbSAnLi4vc2hhcmVkL2NsYXNzZXMtdG8tc2VsZWN0b3IubWpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGUtZWxlbWVudC1pZi1ub3QtZGVmaW5lZC5tanMnO1xuaW1wb3J0IHsgZiBhcyBlbGVtZW50T3V0ZXJTaXplLCBnIGFzIGVsZW1lbnRJbmRleCwgYSBhcyBlbGVtZW50UGFyZW50cyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBQYWdpbmF0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHBmeCA9ICdzd2lwZXItcGFnaW5hdGlvbic7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IG51bGwsXG4gICAgICBidWxsZXRFbGVtZW50OiAnc3BhbicsXG4gICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgcmVuZGVyQnVsbGV0OiBudWxsLFxuICAgICAgcmVuZGVyUHJvZ3Jlc3NiYXI6IG51bGwsXG4gICAgICByZW5kZXJGcmFjdGlvbjogbnVsbCxcbiAgICAgIHJlbmRlckN1c3RvbTogbnVsbCxcbiAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2J1bGxldHMnLFxuICAgICAgLy8gJ2J1bGxldHMnIG9yICdwcm9ncmVzc2Jhcicgb3IgJ2ZyYWN0aW9uJyBvciAnY3VzdG9tJ1xuICAgICAgZHluYW1pY0J1bGxldHM6IGZhbHNlLFxuICAgICAgZHluYW1pY01haW5CdWxsZXRzOiAxLFxuICAgICAgZm9ybWF0RnJhY3Rpb25DdXJyZW50OiBudW1iZXIgPT4gbnVtYmVyLFxuICAgICAgZm9ybWF0RnJhY3Rpb25Ub3RhbDogbnVtYmVyID0+IG51bWJlcixcbiAgICAgIGJ1bGxldENsYXNzOiBgJHtwZnh9LWJ1bGxldGAsXG4gICAgICBidWxsZXRBY3RpdmVDbGFzczogYCR7cGZ4fS1idWxsZXQtYWN0aXZlYCxcbiAgICAgIG1vZGlmaWVyQ2xhc3M6IGAke3BmeH0tYCxcbiAgICAgIGN1cnJlbnRDbGFzczogYCR7cGZ4fS1jdXJyZW50YCxcbiAgICAgIHRvdGFsQ2xhc3M6IGAke3BmeH0tdG90YWxgLFxuICAgICAgaGlkZGVuQ2xhc3M6IGAke3BmeH0taGlkZGVuYCxcbiAgICAgIHByb2dyZXNzYmFyRmlsbENsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLWZpbGxgLFxuICAgICAgcHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLW9wcG9zaXRlYCxcbiAgICAgIGNsaWNrYWJsZUNsYXNzOiBgJHtwZnh9LWNsaWNrYWJsZWAsXG4gICAgICBsb2NrQ2xhc3M6IGAke3BmeH0tbG9ja2AsXG4gICAgICBob3Jpem9udGFsQ2xhc3M6IGAke3BmeH0taG9yaXpvbnRhbGAsXG4gICAgICB2ZXJ0aWNhbENsYXNzOiBgJHtwZnh9LXZlcnRpY2FsYCxcbiAgICAgIHBhZ2luYXRpb25EaXNhYmxlZENsYXNzOiBgJHtwZnh9LWRpc2FibGVkYFxuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5wYWdpbmF0aW9uID0ge1xuICAgIGVsOiBudWxsLFxuICAgIGJ1bGxldHM6IFtdXG4gIH07XG4gIGxldCBidWxsZXRTaXplO1xuICBsZXQgZHluYW1pY0J1bGxldEluZGV4ID0gMDtcbiAgY29uc3QgbWFrZUVsZW1lbnRzQXJyYXkgPSBlbCA9PiAoQXJyYXkuaXNBcnJheShlbCkgPyBlbCA6IFtlbF0pLmZpbHRlcihlID0+ICEhZSk7XG4gIGZ1bmN0aW9uIGlzUGFnaW5hdGlvbkRpc2FibGVkKCkge1xuICAgIHJldHVybiAhc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCBBcnJheS5pc0FycmF5KHN3aXBlci5wYWdpbmF0aW9uLmVsKSAmJiBzd2lwZXIucGFnaW5hdGlvbi5lbC5sZW5ndGggPT09IDA7XG4gIH1cbiAgZnVuY3Rpb24gc2V0U2lkZUJ1bGxldHMoYnVsbGV0RWwsIHBvc2l0aW9uKSB7XG4gICAgY29uc3Qge1xuICAgICAgYnVsbGV0QWN0aXZlQ2xhc3NcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghYnVsbGV0RWwpIHJldHVybjtcbiAgICBidWxsZXRFbCA9IGJ1bGxldEVsW2Ake3Bvc2l0aW9uID09PSAncHJldicgPyAncHJldmlvdXMnIDogJ25leHQnfUVsZW1lbnRTaWJsaW5nYF07XG4gICAgaWYgKGJ1bGxldEVsKSB7XG4gICAgICBidWxsZXRFbC5jbGFzc0xpc3QuYWRkKGAke2J1bGxldEFjdGl2ZUNsYXNzfS0ke3Bvc2l0aW9ufWApO1xuICAgICAgYnVsbGV0RWwgPSBidWxsZXRFbFtgJHtwb3NpdGlvbiA9PT0gJ3ByZXYnID8gJ3ByZXZpb3VzJyA6ICduZXh0J31FbGVtZW50U2libGluZ2BdO1xuICAgICAgaWYgKGJ1bGxldEVsKSB7XG4gICAgICAgIGJ1bGxldEVsLmNsYXNzTGlzdC5hZGQoYCR7YnVsbGV0QWN0aXZlQ2xhc3N9LSR7cG9zaXRpb259LSR7cG9zaXRpb259YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uQnVsbGV0Q2xpY2soZSkge1xuICAgIGNvbnN0IGJ1bGxldEVsID0gZS50YXJnZXQuY2xvc2VzdChjbGFzc2VzVG9TZWxlY3Rvcihzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKTtcbiAgICBpZiAoIWJ1bGxldEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpbmRleCA9IGVsZW1lbnRJbmRleChidWxsZXRFbCkgKiBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIGlmIChzd2lwZXIucmVhbEluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gUmVuZGVyIHx8IFVwZGF0ZSBQYWdpbmF0aW9uIGJ1bGxldHMvaXRlbXNcbiAgICBjb25zdCBydGwgPSBzd2lwZXIucnRsO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIC8vIEN1cnJlbnQvVG90YWxcbiAgICBsZXQgY3VycmVudDtcbiAgICBsZXQgcHJldmlvdXNJbmRleDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IE1hdGguY2VpbChzbGlkZXNMZW5ndGggLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c1JlYWxJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxID8gTWF0aC5mbG9vcihzd2lwZXIucmVhbEluZGV4IC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBzd2lwZXIucmVhbEluZGV4O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLnNuYXBJbmRleDtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNTbmFwSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5hY3RpdmVJbmRleCB8fCAwO1xuICAgIH1cbiAgICAvLyBUeXBlc1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBidWxsZXRzID0gc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cztcbiAgICAgIGxldCBmaXJzdEluZGV4O1xuICAgICAgbGV0IGxhc3RJbmRleDtcbiAgICAgIGxldCBtaWRJbmRleDtcbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgYnVsbGV0U2l6ZSA9IGVsZW1lbnRPdXRlclNpemUoYnVsbGV0c1swXSwgc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnLCB0cnVlKTtcbiAgICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICAgICAgc3ViRWwuc3R5bGVbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA9IGAke2J1bGxldFNpemUgKiAocGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpfXB4YDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzID4gMSAmJiBwcmV2aW91c0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggKz0gY3VycmVudCAtIChwcmV2aW91c0luZGV4IHx8IDApO1xuICAgICAgICAgIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPiBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkge1xuICAgICAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyAtIDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPCAwKSB7XG4gICAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaXJzdEluZGV4ID0gTWF0aC5tYXgoY3VycmVudCAtIGR5bmFtaWNCdWxsZXRJbmRleCwgMCk7XG4gICAgICAgIGxhc3RJbmRleCA9IGZpcnN0SW5kZXggKyAoTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMpIC0gMSk7XG4gICAgICAgIG1pZEluZGV4ID0gKGxhc3RJbmRleCArIGZpcnN0SW5kZXgpIC8gMjtcbiAgICAgIH1cbiAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXRFbCA9PiB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXNUb1JlbW92ZSA9IFsuLi5bJycsICctbmV4dCcsICctbmV4dC1uZXh0JywgJy1wcmV2JywgJy1wcmV2LXByZXYnLCAnLW1haW4nXS5tYXAoc3VmZml4ID0+IGAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30ke3N1ZmZpeH1gKV0ubWFwKHMgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIHMuaW5jbHVkZXMoJyAnKSA/IHMuc3BsaXQoJyAnKSA6IHMpLmZsYXQoKTtcbiAgICAgICAgYnVsbGV0RWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzVG9SZW1vdmUpO1xuICAgICAgfSk7XG4gICAgICBpZiAoZWwubGVuZ3RoID4gMSkge1xuICAgICAgICBidWxsZXRzLmZvckVhY2goYnVsbGV0ID0+IHtcbiAgICAgICAgICBjb25zdCBidWxsZXRJbmRleCA9IGVsZW1lbnRJbmRleChidWxsZXQpO1xuICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgICAgICAgYnVsbGV0LnNldEF0dHJpYnV0ZSgncGFydCcsICdidWxsZXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGZpcnN0SW5kZXggJiYgYnVsbGV0SW5kZXggPD0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPT09IGZpcnN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAncHJldicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAnbmV4dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRzW2N1cnJlbnRdO1xuICAgICAgICBpZiAoYnVsbGV0KSB7XG4gICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICAgICAgYnVsbGV0cy5mb3JFYWNoKChidWxsZXRFbCwgYnVsbGV0SW5kZXgpID0+IHtcbiAgICAgICAgICAgIGJ1bGxldEVsLnNldEF0dHJpYnV0ZSgncGFydCcsIGJ1bGxldEluZGV4ID09PSBjdXJyZW50ID8gJ2J1bGxldC1hY3RpdmUnIDogJ2J1bGxldCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbZmlyc3RJbmRleF07XG4gICAgICAgICAgY29uc3QgbGFzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbbGFzdEluZGV4XTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJ1bGxldHNbaV0pIHtcbiAgICAgICAgICAgICAgYnVsbGV0c1tpXS5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGZpcnN0RGlzcGxheWVkQnVsbGV0LCAncHJldicpO1xuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGxhc3REaXNwbGF5ZWRCdWxsZXQsICduZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgY29uc3QgZHluYW1pY0J1bGxldHNMZW5ndGggPSBNYXRoLm1pbihidWxsZXRzLmxlbmd0aCwgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpO1xuICAgICAgICBjb25zdCBidWxsZXRzT2Zmc2V0ID0gKGJ1bGxldFNpemUgKiBkeW5hbWljQnVsbGV0c0xlbmd0aCAtIGJ1bGxldFNpemUpIC8gMiAtIG1pZEluZGV4ICogYnVsbGV0U2l6ZTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0UHJvcCA9IHJ0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXQgPT4ge1xuICAgICAgICAgIGJ1bGxldC5zdHlsZVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBvZmZzZXRQcm9wIDogJ3RvcCddID0gYCR7YnVsbGV0c09mZnNldH1weGA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC5mb3JFYWNoKChzdWJFbCwgc3ViRWxJbmRleCkgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICAgIHN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmN1cnJlbnRDbGFzcykpLmZvckVhY2goZnJhY3Rpb25FbCA9PiB7XG4gICAgICAgICAgZnJhY3Rpb25FbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvbkN1cnJlbnQoY3VycmVudCArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMudG90YWxDbGFzcykpLmZvckVhY2godG90YWxFbCA9PiB7XG4gICAgICAgICAgdG90YWxFbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvblRvdGFsKHRvdGFsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzYmFyRGlyZWN0aW9uO1xuICAgICAgICBpZiAocGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGUpIHtcbiAgICAgICAgICBwcm9ncmVzc2JhckRpcmVjdGlvbiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlID0gKGN1cnJlbnQgKyAxKSAvIHRvdGFsO1xuICAgICAgICBsZXQgc2NhbGVYID0gMTtcbiAgICAgICAgbGV0IHNjYWxlWSA9IDE7XG4gICAgICAgIGlmIChwcm9ncmVzc2JhckRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NhbGVZID0gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS5mb3JFYWNoKHByb2dyZXNzRWwgPT4ge1xuICAgICAgICAgIHByb2dyZXNzRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZVgoJHtzY2FsZVh9KSBzY2FsZVkoJHtzY2FsZVl9KWA7XG4gICAgICAgICAgcHJvZ3Jlc3NFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtzd2lwZXIucGFyYW1zLnNwZWVkfW1zYDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdjdXN0b20nICYmIHBhcmFtcy5yZW5kZXJDdXN0b20pIHtcbiAgICAgICAgc3ViRWwuaW5uZXJIVE1MID0gcGFyYW1zLnJlbmRlckN1c3RvbShzd2lwZXIsIGN1cnJlbnQgKyAxLCB0b3RhbCk7XG4gICAgICAgIGlmIChzdWJFbEluZGV4ID09PSAwKSBlbWl0KCdwYWdpbmF0aW9uUmVuZGVyJywgc3ViRWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN1YkVsSW5kZXggPT09IDApIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBzdWJFbCk7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25VcGRhdGUnLCBzdWJFbCk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkJyA6ICdyZW1vdmUnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIENvbnRhaW5lclxuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGNvbnN0IHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMSA/IHN3aXBlci5zbGlkZXMubGVuZ3RoIC8gTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzKSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGxldCBwYWdpbmF0aW9uSFRNTCA9ICcnO1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnKSB7XG4gICAgICBsZXQgbnVtYmVyT2ZCdWxsZXRzID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKHNsaWRlc0xlbmd0aCAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBudW1iZXJPZkJ1bGxldHMgPiBzbGlkZXNMZW5ndGgpIHtcbiAgICAgICAgbnVtYmVyT2ZCdWxsZXRzID0gc2xpZGVzTGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJ1bGxldHM7IGkgKz0gMSkge1xuICAgICAgICBpZiAocGFyYW1zLnJlbmRlckJ1bGxldCkge1xuICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IHBhcmFtcy5yZW5kZXJCdWxsZXQuY2FsbChzd2lwZXIsIGksIHBhcmFtcy5idWxsZXRDbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgKz0gYDwke3BhcmFtcy5idWxsZXRFbGVtZW50fSAke3N3aXBlci5pc0VsZW1lbnQgPyAncGFydD1cImJ1bGxldFwiJyA6ICcnfSBjbGFzcz1cIiR7cGFyYW1zLmJ1bGxldENsYXNzfVwiPjwvJHtwYXJhbXMuYnVsbGV0RWxlbWVudH0+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdmcmFjdGlvbicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyRnJhY3Rpb24pIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyRnJhY3Rpb24uY2FsbChzd2lwZXIsIHBhcmFtcy5jdXJyZW50Q2xhc3MsIHBhcmFtcy50b3RhbENsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2luYXRpb25IVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtwYXJhbXMuY3VycmVudENsYXNzfVwiPjwvc3Bhbj5gICsgJyAvICcgKyBgPHNwYW4gY2xhc3M9XCIke3BhcmFtcy50b3RhbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIpIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChzd2lwZXIsIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7cGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzID0gW107XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgIHN1YkVsLmlubmVySFRNTCA9IHBhZ2luYXRpb25IVE1MIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5wdXNoKC4uLnN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmJ1bGxldENsYXNzKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBlbFswXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5wYWdpbmF0aW9uLCBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24sIHtcbiAgICAgIGVsOiAnc3dpcGVyLXBhZ2luYXRpb24nXG4gICAgfSk7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghcGFyYW1zLmVsKSByZXR1cm47XG4gICAgbGV0IGVsO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBlbCA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKHBhcmFtcy5lbCk7XG4gICAgfVxuICAgIGlmICghZWwgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKV07XG4gICAgfVxuICAgIGlmICghZWwpIHtcbiAgICAgIGVsID0gcGFyYW1zLmVsO1xuICAgIH1cbiAgICBpZiAoIWVsIHx8IGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoZWwpICYmIGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgIGVsID0gWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCldO1xuICAgICAgLy8gY2hlY2sgaWYgaXQgYmVsb25ncyB0byBhbm90aGVyIG5lc3RlZCBTd2lwZXJcbiAgICAgIGlmIChlbC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGVsID0gZWwuZmlsdGVyKHN1YkVsID0+IHtcbiAgICAgICAgICBpZiAoZWxlbWVudFBhcmVudHMoc3ViRWwsICcuc3dpcGVyJylbMF0gIT09IHN3aXBlci5lbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KVswXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpICYmIGVsLmxlbmd0aCA9PT0gMSkgZWwgPSBlbFswXTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5wYWdpbmF0aW9uLCB7XG4gICAgICBlbFxuICAgIH0pO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKC4uLihwYXJhbXMuY2xpY2thYmxlQ2xhc3MgfHwgJycpLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5tb2RpZmllckNsYXNzfSR7cGFyYW1zLnR5cGV9LWR5bmFtaWNgKTtcbiAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gMDtcbiAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPCAxKSB7XG4gICAgICAgICAgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJyAmJiBwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZSkge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgc3ViRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkJ1bGxldENsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuaGlkZGVuQ2xhc3MpO1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgICAgIGlmIChwYXJhbXMuY2xpY2thYmxlKSB7XG4gICAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZSguLi4ocGFyYW1zLmNsaWNrYWJsZUNsYXNzIHx8ICcnKS5zcGxpdCgnICcpKTtcbiAgICAgICAgICBzdWJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQnVsbGV0Q2xpY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMpIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKC4uLnBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcy5zcGxpdCgnICcpKSk7XG4gIH1cbiAgb24oJ2NoYW5nZURpcmVjdGlvbicsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYWdpbmF0aW9uIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBsZXQge1xuICAgICAgZWxcbiAgICB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MsIHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICB9KTtcbiAgfSk7XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgICByZW5kZXIoKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdhY3RpdmVJbmRleENoYW5nZScsICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc25hcEluZGV4Q2hhbmdlJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJywgKCkgPT4ge1xuICAgIHJlbmRlcigpO1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGVzdHJveSgpO1xuICB9KTtcbiAgb24oJ2VuYWJsZSBkaXNhYmxlJywgKCkgPT4ge1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlJyA6ICdhZGQnXShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ubG9ja0NsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2xvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBjb25zdCBlbCA9IG1ha2VFbGVtZW50c0FycmF5KHN3aXBlci5wYWdpbmF0aW9uLmVsKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRlT25DbGljayAmJiBlbCAmJiBlbC5sZW5ndGggPiAwICYmICF0YXJnZXRFbC5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkge1xuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIChzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGlzSGlkZGVuID0gZWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgZW1pdCgncGFnaW5hdGlvblNob3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25IaWRlJyk7XG4gICAgICB9XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC50b2dnbGUoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZW5hYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcyk7XG4gICAgbGV0IHtcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlci5wYWdpbmF0aW9uO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKSk7XG4gICAgfVxuICAgIGluaXQoKTtcbiAgICByZW5kZXIoKTtcbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpO1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcykpO1xuICAgIH1cbiAgICBkZXN0cm95KCk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhZ2luYXRpb24sIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICByZW5kZXIsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cblxuZXhwb3J0IHsgUGFnaW5hdGlvbiBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgaCBhcyBjbGFzc2VzVG9Ub2tlbnMsIGMgYXMgY3JlYXRlRWxlbWVudCwgbiBhcyBuZXh0VGljaywgYiBhcyBlbGVtZW50T2Zmc2V0IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzJztcbmltcG9ydCB7IGMgYXMgY2xhc3Nlc1RvU2VsZWN0b3IgfSBmcm9tICcuLi9zaGFyZWQvY2xhc3Nlcy10by1zZWxlY3Rvci5tanMnO1xuXG5mdW5jdGlvbiBTY3JvbGxiYXIoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBsZXQgaXNUb3VjaGVkID0gZmFsc2U7XG4gIGxldCB0aW1lb3V0ID0gbnVsbDtcbiAgbGV0IGRyYWdUaW1lb3V0ID0gbnVsbDtcbiAgbGV0IGRyYWdTdGFydFBvcztcbiAgbGV0IGRyYWdTaXplO1xuICBsZXQgdHJhY2tTaXplO1xuICBsZXQgZGl2aWRlcjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBzY3JvbGxiYXI6IHtcbiAgICAgIGVsOiBudWxsLFxuICAgICAgZHJhZ1NpemU6ICdhdXRvJyxcbiAgICAgIGhpZGU6IGZhbHNlLFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIHNuYXBPblJlbGVhc2U6IHRydWUsXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItc2Nyb2xsYmFyLWxvY2snLFxuICAgICAgZHJhZ0NsYXNzOiAnc3dpcGVyLXNjcm9sbGJhci1kcmFnJyxcbiAgICAgIHNjcm9sbGJhckRpc2FibGVkQ2xhc3M6ICdzd2lwZXItc2Nyb2xsYmFyLWRpc2FibGVkJyxcbiAgICAgIGhvcml6b250YWxDbGFzczogYHN3aXBlci1zY3JvbGxiYXItaG9yaXpvbnRhbGAsXG4gICAgICB2ZXJ0aWNhbENsYXNzOiBgc3dpcGVyLXNjcm9sbGJhci12ZXJ0aWNhbGBcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIuc2Nyb2xsYmFyID0ge1xuICAgIGVsOiBudWxsLFxuICAgIGRyYWdFbDogbnVsbFxuICB9O1xuICBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCB7XG4gICAgICBkcmFnRWwsXG4gICAgICBlbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXI7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBzd2lwZXIucHJvZ3Jlc3NMb29wIDogc3dpcGVyLnByb2dyZXNzO1xuICAgIGxldCBuZXdTaXplID0gZHJhZ1NpemU7XG4gICAgbGV0IG5ld1BvcyA9ICh0cmFja1NpemUgLSBkcmFnU2l6ZSkgKiBwcm9ncmVzcztcbiAgICBpZiAocnRsKSB7XG4gICAgICBuZXdQb3MgPSAtbmV3UG9zO1xuICAgICAgaWYgKG5ld1BvcyA+IDApIHtcbiAgICAgICAgbmV3U2l6ZSA9IGRyYWdTaXplIC0gbmV3UG9zO1xuICAgICAgICBuZXdQb3MgPSAwO1xuICAgICAgfSBlbHNlIGlmICgtbmV3UG9zICsgZHJhZ1NpemUgPiB0cmFja1NpemUpIHtcbiAgICAgICAgbmV3U2l6ZSA9IHRyYWNrU2l6ZSArIG5ld1BvcztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5ld1BvcyA8IDApIHtcbiAgICAgIG5ld1NpemUgPSBkcmFnU2l6ZSArIG5ld1BvcztcbiAgICAgIG5ld1BvcyA9IDA7XG4gICAgfSBlbHNlIGlmIChuZXdQb3MgKyBkcmFnU2l6ZSA+IHRyYWNrU2l6ZSkge1xuICAgICAgbmV3U2l6ZSA9IHRyYWNrU2l6ZSAtIG5ld1BvcztcbiAgICB9XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgZHJhZ0VsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke25ld1Bvc31weCwgMCwgMClgO1xuICAgICAgZHJhZ0VsLnN0eWxlLndpZHRoID0gYCR7bmV3U2l6ZX1weGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMHB4LCAke25ld1Bvc31weCwgMClgO1xuICAgICAgZHJhZ0VsLnN0eWxlLmhlaWdodCA9IGAke25ld1NpemV9cHhgO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLmhpZGUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzQwMG1zJztcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIHN3aXBlci5zY3JvbGxiYXIuZHJhZ0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwgfHwgIXN3aXBlci5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICBzY3JvbGxiYXJcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHtcbiAgICAgIGRyYWdFbCxcbiAgICAgIGVsXG4gICAgfSA9IHNjcm9sbGJhcjtcbiAgICBkcmFnRWwuc3R5bGUud2lkdGggPSAnJztcbiAgICBkcmFnRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgdHJhY2tTaXplID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gZWwub2Zmc2V0V2lkdGggOiBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgZGl2aWRlciA9IHN3aXBlci5zaXplIC8gKHN3aXBlci52aXJ0dWFsU2l6ZSArIHN3aXBlci5wYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlIC0gKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIuc25hcEdyaWRbMF0gOiAwKSk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdTaXplID09PSAnYXV0bycpIHtcbiAgICAgIGRyYWdTaXplID0gdHJhY2tTaXplICogZGl2aWRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhZ1NpemUgPSBwYXJzZUludChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZSwgMTApO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICBkcmFnRWwuc3R5bGUud2lkdGggPSBgJHtkcmFnU2l6ZX1weGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdFbC5zdHlsZS5oZWlnaHQgPSBgJHtkcmFnU2l6ZX1weGA7XG4gICAgfVxuICAgIGlmIChkaXZpZGVyID49IDEpIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmhpZGUpIHtcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICBzY3JvbGxiYXIuZWwuY2xhc3NMaXN0W3N3aXBlci5pc0xvY2tlZCA/ICdhZGQnIDogJ3JlbW92ZSddKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFBvaW50ZXJQb3NpdGlvbihlKSB7XG4gICAgcmV0dXJuIHN3aXBlci5pc0hvcml6b250YWwoKSA/IGUuY2xpZW50WCA6IGUuY2xpZW50WTtcbiAgfVxuICBmdW5jdGlvbiBzZXREcmFnUG9zaXRpb24oZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCB7XG4gICAgICBlbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgbGV0IHBvc2l0aW9uUmF0aW87XG4gICAgcG9zaXRpb25SYXRpbyA9IChnZXRQb2ludGVyUG9zaXRpb24oZSkgLSBlbGVtZW50T2Zmc2V0KGVsKVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJ10gLSAoZHJhZ1N0YXJ0UG9zICE9PSBudWxsID8gZHJhZ1N0YXJ0UG9zIDogZHJhZ1NpemUgLyAyKSkgLyAodHJhY2tTaXplIC0gZHJhZ1NpemUpO1xuICAgIHBvc2l0aW9uUmF0aW8gPSBNYXRoLm1heChNYXRoLm1pbihwb3NpdGlvblJhdGlvLCAxKSwgMCk7XG4gICAgaWYgKHJ0bCkge1xuICAgICAgcG9zaXRpb25SYXRpbyA9IDEgLSBwb3NpdGlvblJhdGlvO1xuICAgIH1cbiAgICBjb25zdCBwb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSArIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpICogcG9zaXRpb25SYXRpbztcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MocG9zaXRpb24pO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUocG9zaXRpb24pO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cbiAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHdyYXBwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3Qge1xuICAgICAgZWwsXG4gICAgICBkcmFnRWxcbiAgICB9ID0gc2Nyb2xsYmFyO1xuICAgIGlzVG91Y2hlZCA9IHRydWU7XG4gICAgZHJhZ1N0YXJ0UG9zID0gZS50YXJnZXQgPT09IGRyYWdFbCA/IGdldFBvaW50ZXJQb3NpdGlvbihlKSAtIGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnXSA6IG51bGw7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcxMDBtcyc7XG4gICAgZHJhZ0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcxMDBtcyc7XG4gICAgc2V0RHJhZ1Bvc2l0aW9uKGUpO1xuICAgIGNsZWFyVGltZW91dChkcmFnVGltZW91dCk7XG4gICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBtcyc7XG4gICAgaWYgKHBhcmFtcy5oaWRlKSB7XG4gICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZVsnc2Nyb2xsLXNuYXAtdHlwZSddID0gJ25vbmUnO1xuICAgIH1cbiAgICBlbWl0KCdzY3JvbGxiYXJEcmFnU3RhcnQnLCBlKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRyYWdNb3ZlKGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBzY3JvbGxiYXIsXG4gICAgICB3cmFwcGVyRWxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHtcbiAgICAgIGVsLFxuICAgICAgZHJhZ0VsXG4gICAgfSA9IHNjcm9sbGJhcjtcbiAgICBpZiAoIWlzVG91Y2hlZCkgcmV0dXJuO1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgc2V0RHJhZ1Bvc2l0aW9uKGUpO1xuICAgIHdyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICBkcmFnRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBtcyc7XG4gICAgZW1pdCgnc2Nyb2xsYmFyRHJhZ01vdmUnLCBlKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRyYWdFbmQoZSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHdyYXBwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3Qge1xuICAgICAgZWxcbiAgICB9ID0gc2Nyb2xsYmFyO1xuICAgIGlmICghaXNUb3VjaGVkKSByZXR1cm47XG4gICAgaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZVsnc2Nyb2xsLXNuYXAtdHlwZSddID0gJyc7XG4gICAgICB3cmFwcGVyRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuaGlkZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KGRyYWdUaW1lb3V0KTtcbiAgICAgIGRyYWdUaW1lb3V0ID0gbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzQwMG1zJztcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgICBlbWl0KCdzY3JvbGxiYXJEcmFnRW5kJywgZSk7XG4gICAgaWYgKHBhcmFtcy5zbmFwT25SZWxlYXNlKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3QoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXZlbnRzKG1ldGhvZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHBhcmFtc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgZWwgPSBzY3JvbGxiYXIuZWw7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNvbnN0IHRhcmdldCA9IGVsO1xuICAgIGNvbnN0IGFjdGl2ZUxpc3RlbmVyID0gcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGNvbnN0IHBhc3NpdmVMaXN0ZW5lciA9IHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgY29uc3QgZXZlbnRNZXRob2QgPSBtZXRob2QgPT09ICdvbicgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4gICAgdGFyZ2V0W2V2ZW50TWV0aG9kXSgncG9pbnRlcmRvd24nLCBvbkRyYWdTdGFydCwgYWN0aXZlTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50W2V2ZW50TWV0aG9kXSgncG9pbnRlcm1vdmUnLCBvbkRyYWdNb3ZlLCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgZG9jdW1lbnRbZXZlbnRNZXRob2RdKCdwb2ludGVydXAnLCBvbkRyYWdFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gIH1cbiAgZnVuY3Rpb24gZW5hYmxlRHJhZ2dhYmxlKCkge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwgfHwgIXN3aXBlci5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICBldmVudHMoJ29uJyk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzYWJsZURyYWdnYWJsZSgpIHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsIHx8ICFzd2lwZXIuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgZXZlbnRzKCdvZmYnKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIGVsOiBzd2lwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIgPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLnNjcm9sbGJhciwgc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIsIHtcbiAgICAgIGVsOiAnc3dpcGVyLXNjcm9sbGJhcidcbiAgICB9KTtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICBpZiAoIXBhcmFtcy5lbCkgcmV0dXJuO1xuICAgIGxldCBlbDtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgZWwgPSBzd2lwZXIuZWwucXVlcnlTZWxlY3RvcihwYXJhbXMuZWwpO1xuICAgIH1cbiAgICBpZiAoIWVsICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKTtcbiAgICAgIGlmICghZWwubGVuZ3RoKSByZXR1cm47XG4gICAgfSBlbHNlIGlmICghZWwpIHtcbiAgICAgIGVsID0gcGFyYW1zLmVsO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBlbC5sZW5ndGggPiAxICYmIHN3aXBlckVsLnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGVsID0gc3dpcGVyRWwucXVlcnlTZWxlY3RvcihwYXJhbXMuZWwpO1xuICAgIH1cbiAgICBpZiAoZWwubGVuZ3RoID4gMCkgZWwgPSBlbFswXTtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgbGV0IGRyYWdFbDtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGRyYWdFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ0NsYXNzKSk7XG4gICAgICBpZiAoIWRyYWdFbCkge1xuICAgICAgICBkcmFnRWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3MpO1xuICAgICAgICBlbC5hcHBlbmQoZHJhZ0VsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihzY3JvbGxiYXIsIHtcbiAgICAgIGVsLFxuICAgICAgZHJhZ0VsXG4gICAgfSk7XG4gICAgaWYgKHBhcmFtcy5kcmFnZ2FibGUpIHtcbiAgICAgIGVuYWJsZURyYWdnYWJsZSgpO1xuICAgIH1cbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsLmNsYXNzTGlzdFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmUnIDogJ2FkZCddKC4uLmNsYXNzZXNUb1Rva2Vucyhzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICBjb25zdCBlbCA9IHN3aXBlci5zY3JvbGxiYXIuZWw7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzZXNUb1Rva2Vucyhzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBwYXJhbXMuaG9yaXpvbnRhbENsYXNzIDogcGFyYW1zLnZlcnRpY2FsQ2xhc3MpKTtcbiAgICB9XG4gICAgZGlzYWJsZURyYWdnYWJsZSgpO1xuICB9XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBkaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIHVwZGF0ZVNpemUoKTtcbiAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd1cGRhdGUgcmVzaXplIG9ic2VydmVyVXBkYXRlIGxvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIHVwZGF0ZVNpemUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgc2V0VHJhbnNsYXRlKCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNpdGlvbicsIChfcywgZHVyYXRpb24pID0+IHtcbiAgICBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIuc2Nyb2xsYmFyO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwuY2xhc3NMaXN0W3N3aXBlci5lbmFibGVkID8gJ3JlbW92ZScgOiAnYWRkJ10oLi4uY2xhc3Nlc1RvVG9rZW5zKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcykpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIGNvbnN0IGVuYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzVG9Ub2tlbnMoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuc2Nyb2xsYmFyRGlzYWJsZWRDbGFzcykpO1xuICAgIGlmIChzd2lwZXIuc2Nyb2xsYmFyLmVsKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLmVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3Nlc1RvVG9rZW5zKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLnNjcm9sbGJhckRpc2FibGVkQ2xhc3MpKTtcbiAgICB9XG4gICAgaW5pdCgpO1xuICAgIHVwZGF0ZVNpemUoKTtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzVG9Ub2tlbnMoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuc2Nyb2xsYmFyRGlzYWJsZWRDbGFzcykpO1xuICAgIGlmIChzd2lwZXIuc2Nyb2xsYmFyLmVsKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLmVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlc1RvVG9rZW5zKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLnNjcm9sbGJhckRpc2FibGVkQ2xhc3MpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5zY3JvbGxiYXIsIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICB1cGRhdGVTaXplLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBpbml0LFxuICAgIGRlc3Ryb3lcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFNjcm9sbGJhciBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gUGFyYWxsYXgoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgcGFyYWxsYXg6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgY29uc3QgZWxlbWVudHNTZWxlY3RvciA9ICdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJztcbiAgY29uc3Qgc2V0VHJhbnNmb3JtID0gKGVsLCBwcm9ncmVzcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHJ0bFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcnRsRmFjdG9yID0gcnRsID8gLTEgOiAxO1xuICAgIGNvbnN0IHAgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4JykgfHwgJzAnO1xuICAgIGxldCB4ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1wYXJhbGxheC14Jyk7XG4gICAgbGV0IHkgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LXknKTtcbiAgICBjb25zdCBzY2FsZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGUnKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgcm90YXRlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1wYXJhbGxheC1yb3RhdGUnKTtcbiAgICBpZiAoeCB8fCB5KSB7XG4gICAgICB4ID0geCB8fCAnMCc7XG4gICAgICB5ID0geSB8fCAnMCc7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHggPSBwO1xuICAgICAgeSA9ICcwJztcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IHA7XG4gICAgICB4ID0gJzAnO1xuICAgIH1cbiAgICBpZiAoeC5pbmRleE9mKCclJykgPj0gMCkge1xuICAgICAgeCA9IGAke3BhcnNlSW50KHgsIDEwKSAqIHByb2dyZXNzICogcnRsRmFjdG9yfSVgO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gYCR7eCAqIHByb2dyZXNzICogcnRsRmFjdG9yfXB4YDtcbiAgICB9XG4gICAgaWYgKHkuaW5kZXhPZignJScpID49IDApIHtcbiAgICAgIHkgPSBgJHtwYXJzZUludCh5LCAxMCkgKiBwcm9ncmVzc30lYDtcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IGAke3kgKiBwcm9ncmVzc31weGA7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgJiYgb3BhY2l0eSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudE9wYWNpdHkgPSBvcGFjaXR5IC0gKG9wYWNpdHkgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSBjdXJyZW50T3BhY2l0eTtcbiAgICB9XG4gICAgbGV0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3h9LCAke3l9LCAwcHgpYDtcbiAgICBpZiAodHlwZW9mIHNjYWxlICE9PSAndW5kZWZpbmVkJyAmJiBzY2FsZSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudFNjYWxlID0gc2NhbGUgLSAoc2NhbGUgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgIHRyYW5zZm9ybSArPSBgIHNjYWxlKCR7Y3VycmVudFNjYWxlfSlgO1xuICAgIH1cbiAgICBpZiAocm90YXRlICYmIHR5cGVvZiByb3RhdGUgIT09ICd1bmRlZmluZWQnICYmIHJvdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudFJvdGF0ZSA9IHJvdGF0ZSAqIHByb2dyZXNzICogLTE7XG4gICAgICB0cmFuc2Zvcm0gKz0gYCByb3RhdGUoJHtjdXJyZW50Um90YXRlfWRlZylgO1xuICAgIH1cbiAgICBlbC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIH07XG4gIGNvbnN0IHNldFRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBlbCxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHByb2dyZXNzLFxuICAgICAgc25hcEdyaWQsXG4gICAgICBpc0VsZW1lbnRcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZWxlbWVudENoaWxkcmVuKGVsLCBlbGVtZW50c1NlbGVjdG9yKTtcbiAgICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgZWxlbWVudHMucHVzaCguLi5lbGVtZW50Q2hpbGRyZW4oc3dpcGVyLmhvc3RFbCwgZWxlbWVudHNTZWxlY3RvcikpO1xuICAgIH1cbiAgICBlbGVtZW50cy5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHNldFRyYW5zZm9ybShzdWJFbCwgcHJvZ3Jlc3MpO1xuICAgIH0pO1xuICAgIHNsaWRlcy5mb3JFYWNoKChzbGlkZUVsLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBsZXQgc2xpZGVQcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEgJiYgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycpIHtcbiAgICAgICAgc2xpZGVQcm9ncmVzcyArPSBNYXRoLmNlaWwoc2xpZGVJbmRleCAvIDIpIC0gcHJvZ3Jlc3MgKiAoc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICBzbGlkZVByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVQcm9ncmVzcywgLTEpLCAxKTtcbiAgICAgIHNsaWRlRWwucXVlcnlTZWxlY3RvckFsbChgJHtlbGVtZW50c1NlbGVjdG9yfSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXJvdGF0ZV1gKS5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgc2V0VHJhbnNmb3JtKHN1YkVsLCBzbGlkZVByb2dyZXNzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgaWYgKGR1cmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGR1cmF0aW9uID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgZWwsXG4gICAgICBob3N0RWxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHNTZWxlY3RvcildO1xuICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBlbGVtZW50cy5wdXNoKC4uLmhvc3RFbC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzU2VsZWN0b3IpKTtcbiAgICB9XG4gICAgZWxlbWVudHMuZm9yRWFjaChwYXJhbGxheEVsID0+IHtcbiAgICAgIGxldCBwYXJhbGxheER1cmF0aW9uID0gcGFyc2VJbnQocGFyYWxsYXhFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LWR1cmF0aW9uJyksIDEwKSB8fCBkdXJhdGlvbjtcbiAgICAgIGlmIChkdXJhdGlvbiA9PT0gMCkgcGFyYWxsYXhEdXJhdGlvbiA9IDA7XG4gICAgICBwYXJhbGxheEVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke3BhcmFsbGF4RHVyYXRpb259bXNgO1xuICAgIH0pO1xuICB9O1xuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICB9KTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zd2lwZXIsIGR1cmF0aW9uKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFBhcmFsbGF4IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGEgYXMgZWxlbWVudFBhcmVudHMsIGIgYXMgZWxlbWVudE9mZnNldCwgaSBhcyBnZXRUcmFuc2xhdGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gWm9vbShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICB6b29tOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIG1heFJhdGlvOiAzLFxuICAgICAgbWluUmF0aW86IDEsXG4gICAgICB0b2dnbGU6IHRydWUsXG4gICAgICBjb250YWluZXJDbGFzczogJ3N3aXBlci16b29tLWNvbnRhaW5lcicsXG4gICAgICB6b29tZWRTbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXpvb21lZCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIuem9vbSA9IHtcbiAgICBlbmFibGVkOiBmYWxzZVxuICB9O1xuICBsZXQgY3VycmVudFNjYWxlID0gMTtcbiAgbGV0IGlzU2NhbGluZyA9IGZhbHNlO1xuICBsZXQgZmFrZUdlc3R1cmVUb3VjaGVkO1xuICBsZXQgZmFrZUdlc3R1cmVNb3ZlZDtcbiAgY29uc3QgZXZDYWNoZSA9IFtdO1xuICBjb25zdCBnZXN0dXJlID0ge1xuICAgIG9yaWdpblg6IDAsXG4gICAgb3JpZ2luWTogMCxcbiAgICBzbGlkZUVsOiB1bmRlZmluZWQsXG4gICAgc2xpZGVXaWR0aDogdW5kZWZpbmVkLFxuICAgIHNsaWRlSGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgaW1hZ2VFbDogdW5kZWZpbmVkLFxuICAgIGltYWdlV3JhcEVsOiB1bmRlZmluZWQsXG4gICAgbWF4UmF0aW86IDNcbiAgfTtcbiAgY29uc3QgaW1hZ2UgPSB7XG4gICAgaXNUb3VjaGVkOiB1bmRlZmluZWQsXG4gICAgaXNNb3ZlZDogdW5kZWZpbmVkLFxuICAgIGN1cnJlbnRYOiB1bmRlZmluZWQsXG4gICAgY3VycmVudFk6IHVuZGVmaW5lZCxcbiAgICBtaW5YOiB1bmRlZmluZWQsXG4gICAgbWluWTogdW5kZWZpbmVkLFxuICAgIG1heFg6IHVuZGVmaW5lZCxcbiAgICBtYXhZOiB1bmRlZmluZWQsXG4gICAgd2lkdGg6IHVuZGVmaW5lZCxcbiAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICBzdGFydFg6IHVuZGVmaW5lZCxcbiAgICBzdGFydFk6IHVuZGVmaW5lZCxcbiAgICB0b3VjaGVzU3RhcnQ6IHt9LFxuICAgIHRvdWNoZXNDdXJyZW50OiB7fVxuICB9O1xuICBjb25zdCB2ZWxvY2l0eSA9IHtcbiAgICB4OiB1bmRlZmluZWQsXG4gICAgeTogdW5kZWZpbmVkLFxuICAgIHByZXZQb3NpdGlvblg6IHVuZGVmaW5lZCxcbiAgICBwcmV2UG9zaXRpb25ZOiB1bmRlZmluZWQsXG4gICAgcHJldlRpbWU6IHVuZGVmaW5lZFxuICB9O1xuICBsZXQgc2NhbGUgPSAxO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3dpcGVyLnpvb20sICdzY2FsZScsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc2NhbGU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGlmIChzY2FsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VFbCA9IGdlc3R1cmUuaW1hZ2VFbDtcbiAgICAgICAgY29uc3Qgc2xpZGVFbCA9IGdlc3R1cmUuc2xpZGVFbDtcbiAgICAgICAgZW1pdCgnem9vbUNoYW5nZScsIHZhbHVlLCBpbWFnZUVsLCBzbGlkZUVsKTtcbiAgICAgIH1cbiAgICAgIHNjYWxlID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcygpIHtcbiAgICBpZiAoZXZDYWNoZS5sZW5ndGggPCAyKSByZXR1cm4gMTtcbiAgICBjb25zdCB4MSA9IGV2Q2FjaGVbMF0ucGFnZVg7XG4gICAgY29uc3QgeTEgPSBldkNhY2hlWzBdLnBhZ2VZO1xuICAgIGNvbnN0IHgyID0gZXZDYWNoZVsxXS5wYWdlWDtcbiAgICBjb25zdCB5MiA9IGV2Q2FjaGVbMV0ucGFnZVk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHgyIC0geDEpICoqIDIgKyAoeTIgLSB5MSkgKiogMik7XG4gICAgcmV0dXJuIGRpc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIGdldFNjYWxlT3JpZ2luKCkge1xuICAgIGlmIChldkNhY2hlLmxlbmd0aCA8IDIpIHJldHVybiB7XG4gICAgICB4OiBudWxsLFxuICAgICAgeTogbnVsbFxuICAgIH07XG4gICAgY29uc3QgYm94ID0gZ2VzdHVyZS5pbWFnZUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiBbKGV2Q2FjaGVbMF0ucGFnZVggKyAoZXZDYWNoZVsxXS5wYWdlWCAtIGV2Q2FjaGVbMF0ucGFnZVgpIC8gMiAtIGJveC54IC0gd2luZG93LnNjcm9sbFgpIC8gY3VycmVudFNjYWxlLCAoZXZDYWNoZVswXS5wYWdlWSArIChldkNhY2hlWzFdLnBhZ2VZIC0gZXZDYWNoZVswXS5wYWdlWSkgLyAyIC0gYm94LnkgLSB3aW5kb3cuc2Nyb2xsWSkgLyBjdXJyZW50U2NhbGVdO1xuICB9XG4gIGZ1bmN0aW9uIGdldFNsaWRlU2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIHN3aXBlci5pc0VsZW1lbnQgPyBgc3dpcGVyLXNsaWRlYCA6IGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YDtcbiAgfVxuICBmdW5jdGlvbiBldmVudFdpdGhpblNsaWRlKGUpIHtcbiAgICBjb25zdCBzbGlkZVNlbGVjdG9yID0gZ2V0U2xpZGVTZWxlY3RvcigpO1xuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKHNsaWRlU2VsZWN0b3IpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbnRhaW5zKGUudGFyZ2V0KSkubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGV2ZW50V2l0aGluWm9vbUNvbnRhaW5lcihlKSB7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBgLiR7c3dpcGVyLnBhcmFtcy56b29tLmNvbnRhaW5lckNsYXNzfWA7XG4gICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoWy4uLnN3aXBlci5ob3N0RWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcildLmZpbHRlcihjb250YWluZXJFbCA9PiBjb250YWluZXJFbC5jb250YWlucyhlLnRhcmdldCkpLmxlbmd0aCA+IDApIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEV2ZW50c1xuICBmdW5jdGlvbiBvbkdlc3R1cmVTdGFydChlKSB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgIGV2Q2FjaGUuc3BsaWNlKDAsIGV2Q2FjaGUubGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKCFldmVudFdpdGhpblNsaWRlKGUpKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGZha2VHZXN0dXJlVG91Y2hlZCA9IGZhbHNlO1xuICAgIGZha2VHZXN0dXJlTW92ZWQgPSBmYWxzZTtcbiAgICBldkNhY2hlLnB1c2goZSk7XG4gICAgaWYgKGV2Q2FjaGUubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmYWtlR2VzdHVyZVRvdWNoZWQgPSB0cnVlO1xuICAgIGdlc3R1cmUuc2NhbGVTdGFydCA9IGdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoKTtcbiAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkge1xuICAgICAgZ2VzdHVyZS5zbGlkZUVsID0gZS50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkgZ2VzdHVyZS5zbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuICAgICAgbGV0IGltYWdlRWwgPSBnZXN0dXJlLnNsaWRlRWwucXVlcnlTZWxlY3RvcihgLiR7cGFyYW1zLmNvbnRhaW5lckNsYXNzfWApO1xuICAgICAgaWYgKGltYWdlRWwpIHtcbiAgICAgICAgaW1hZ2VFbCA9IGltYWdlRWwucXVlcnlTZWxlY3RvckFsbCgncGljdHVyZSwgaW1nLCBzdmcsIGNhbnZhcywgLnN3aXBlci16b29tLXRhcmdldCcpWzBdO1xuICAgICAgfVxuICAgICAgZ2VzdHVyZS5pbWFnZUVsID0gaW1hZ2VFbDtcbiAgICAgIGlmIChpbWFnZUVsKSB7XG4gICAgICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwgPSBlbGVtZW50UGFyZW50cyhnZXN0dXJlLmltYWdlRWwsIGAuJHtwYXJhbXMuY29udGFpbmVyQ2xhc3N9YClbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXN0dXJlLmltYWdlV3JhcEVsID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKCFnZXN0dXJlLmltYWdlV3JhcEVsKSB7XG4gICAgICAgIGdlc3R1cmUuaW1hZ2VFbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ2VzdHVyZS5tYXhSYXRpbyA9IGdlc3R1cmUuaW1hZ2VXcmFwRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIH1cbiAgICBpZiAoZ2VzdHVyZS5pbWFnZUVsKSB7XG4gICAgICBjb25zdCBbb3JpZ2luWCwgb3JpZ2luWV0gPSBnZXRTY2FsZU9yaWdpbigpO1xuICAgICAgZ2VzdHVyZS5vcmlnaW5YID0gb3JpZ2luWDtcbiAgICAgIGdlc3R1cmUub3JpZ2luWSA9IG9yaWdpblk7XG4gICAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBtcyc7XG4gICAgfVxuICAgIGlzU2NhbGluZyA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gb25HZXN0dXJlQ2hhbmdlKGUpIHtcbiAgICBpZiAoIWV2ZW50V2l0aGluU2xpZGUoZSkpIHJldHVybjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGNvbnN0IHBvaW50ZXJJbmRleCA9IGV2Q2FjaGUuZmluZEluZGV4KGNhY2hlZEV2ID0+IGNhY2hlZEV2LnBvaW50ZXJJZCA9PT0gZS5wb2ludGVySWQpO1xuICAgIGlmIChwb2ludGVySW5kZXggPj0gMCkgZXZDYWNoZVtwb2ludGVySW5kZXhdID0gZTtcbiAgICBpZiAoZXZDYWNoZS5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZha2VHZXN0dXJlTW92ZWQgPSB0cnVlO1xuICAgIGdlc3R1cmUuc2NhbGVNb3ZlID0gZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcygpO1xuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLnNjYWxlTW92ZSAvIGdlc3R1cmUuc2NhbGVTdGFydCAqIGN1cnJlbnRTY2FsZTtcbiAgICBpZiAoem9vbS5zY2FsZSA+IGdlc3R1cmUubWF4UmF0aW8pIHtcbiAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLm1heFJhdGlvIC0gMSArICh6b29tLnNjYWxlIC0gZ2VzdHVyZS5tYXhSYXRpbyArIDEpICoqIDAuNTtcbiAgICB9XG4gICAgaWYgKHpvb20uc2NhbGUgPCBwYXJhbXMubWluUmF0aW8pIHtcbiAgICAgIHpvb20uc2NhbGUgPSBwYXJhbXMubWluUmF0aW8gKyAxIC0gKHBhcmFtcy5taW5SYXRpbyAtIHpvb20uc2NhbGUgKyAxKSAqKiAwLjU7XG4gICAgfVxuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7em9vbS5zY2FsZX0pYDtcbiAgfVxuICBmdW5jdGlvbiBvbkdlc3R1cmVFbmQoZSkge1xuICAgIGlmICghZXZlbnRXaXRoaW5TbGlkZShlKSkgcmV0dXJuO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGUudHlwZSA9PT0gJ3BvaW50ZXJvdXQnKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGNvbnN0IHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICBjb25zdCBwb2ludGVySW5kZXggPSBldkNhY2hlLmZpbmRJbmRleChjYWNoZWRFdiA9PiBjYWNoZWRFdi5wb2ludGVySWQgPT09IGUucG9pbnRlcklkKTtcbiAgICBpZiAocG9pbnRlckluZGV4ID49IDApIGV2Q2FjaGUuc3BsaWNlKHBvaW50ZXJJbmRleCwgMSk7XG4gICAgaWYgKCFmYWtlR2VzdHVyZVRvdWNoZWQgfHwgIWZha2VHZXN0dXJlTW92ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmFrZUdlc3R1cmVUb3VjaGVkID0gZmFsc2U7XG4gICAgZmFrZUdlc3R1cmVNb3ZlZCA9IGZhbHNlO1xuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsKSByZXR1cm47XG4gICAgem9vbS5zY2FsZSA9IE1hdGgubWF4KE1hdGgubWluKHpvb20uc2NhbGUsIGdlc3R1cmUubWF4UmF0aW8pLCBwYXJhbXMubWluUmF0aW8pO1xuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtzd2lwZXIucGFyYW1zLnNwZWVkfW1zYDtcbiAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgke3pvb20uc2NhbGV9KWA7XG4gICAgY3VycmVudFNjYWxlID0gem9vbS5zY2FsZTtcbiAgICBpc1NjYWxpbmcgPSBmYWxzZTtcbiAgICBpZiAoem9vbS5zY2FsZSA+IDEgJiYgZ2VzdHVyZS5zbGlkZUVsKSB7XG4gICAgICBnZXN0dXJlLnNsaWRlRWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuem9vbWVkU2xpZGVDbGFzc31gKTtcbiAgICB9IGVsc2UgaWYgKHpvb20uc2NhbGUgPD0gMSAmJiBnZXN0dXJlLnNsaWRlRWwpIHtcbiAgICAgIGdlc3R1cmUuc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKGAke3BhcmFtcy56b29tZWRTbGlkZUNsYXNzfWApO1xuICAgIH1cbiAgICBpZiAoem9vbS5zY2FsZSA9PT0gMSkge1xuICAgICAgZ2VzdHVyZS5vcmlnaW5YID0gMDtcbiAgICAgIGdlc3R1cmUub3JpZ2luWSA9IDA7XG4gICAgICBnZXN0dXJlLnNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uVG91Y2hTdGFydChlKSB7XG4gICAgY29uc3QgZGV2aWNlID0gc3dpcGVyLmRldmljZTtcbiAgICBpZiAoIWdlc3R1cmUuaW1hZ2VFbCkgcmV0dXJuO1xuICAgIGlmIChpbWFnZS5pc1RvdWNoZWQpIHJldHVybjtcbiAgICBpZiAoZGV2aWNlLmFuZHJvaWQgJiYgZS5jYW5jZWxhYmxlKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaW1hZ2UuaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICBjb25zdCBldmVudCA9IGV2Q2FjaGUubGVuZ3RoID4gMCA/IGV2Q2FjaGVbMF0gOiBlO1xuICAgIGltYWdlLnRvdWNoZXNTdGFydC54ID0gZXZlbnQucGFnZVg7XG4gICAgaW1hZ2UudG91Y2hlc1N0YXJ0LnkgPSBldmVudC5wYWdlWTtcbiAgfVxuICBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7XG4gICAgaWYgKCFldmVudFdpdGhpblNsaWRlKGUpIHx8ICFldmVudFdpdGhpblpvb21Db250YWluZXIoZSkpIHJldHVybjtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCFnZXN0dXJlLmltYWdlRWwpIHJldHVybjtcbiAgICBpZiAoIWltYWdlLmlzVG91Y2hlZCB8fCAhZ2VzdHVyZS5zbGlkZUVsKSByZXR1cm47XG4gICAgaWYgKCFpbWFnZS5pc01vdmVkKSB7XG4gICAgICBpbWFnZS53aWR0aCA9IGdlc3R1cmUuaW1hZ2VFbC5vZmZzZXRXaWR0aDtcbiAgICAgIGltYWdlLmhlaWdodCA9IGdlc3R1cmUuaW1hZ2VFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBpbWFnZS5zdGFydFggPSBnZXRUcmFuc2xhdGUoZ2VzdHVyZS5pbWFnZVdyYXBFbCwgJ3gnKSB8fCAwO1xuICAgICAgaW1hZ2Uuc3RhcnRZID0gZ2V0VHJhbnNsYXRlKGdlc3R1cmUuaW1hZ2VXcmFwRWwsICd5JykgfHwgMDtcbiAgICAgIGdlc3R1cmUuc2xpZGVXaWR0aCA9IGdlc3R1cmUuc2xpZGVFbC5vZmZzZXRXaWR0aDtcbiAgICAgIGdlc3R1cmUuc2xpZGVIZWlnaHQgPSBnZXN0dXJlLnNsaWRlRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgZ2VzdHVyZS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICB9XG4gICAgLy8gRGVmaW5lIGlmIHdlIG5lZWQgaW1hZ2UgZHJhZ1xuICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gaW1hZ2Uud2lkdGggKiB6b29tLnNjYWxlO1xuICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IGltYWdlLmhlaWdodCAqIHpvb20uc2NhbGU7XG4gICAgaWYgKHNjYWxlZFdpZHRoIDwgZ2VzdHVyZS5zbGlkZVdpZHRoICYmIHNjYWxlZEhlaWdodCA8IGdlc3R1cmUuc2xpZGVIZWlnaHQpIHJldHVybjtcbiAgICBpbWFnZS5taW5YID0gTWF0aC5taW4oZ2VzdHVyZS5zbGlkZVdpZHRoIC8gMiAtIHNjYWxlZFdpZHRoIC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WCA9IC1pbWFnZS5taW5YO1xuICAgIGltYWdlLm1pblkgPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgIGltYWdlLm1heFkgPSAtaW1hZ2UubWluWTtcbiAgICBpbWFnZS50b3VjaGVzQ3VycmVudC54ID0gZXZDYWNoZS5sZW5ndGggPiAwID8gZXZDYWNoZVswXS5wYWdlWCA6IGUucGFnZVg7XG4gICAgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA9IGV2Q2FjaGUubGVuZ3RoID4gMCA/IGV2Q2FjaGVbMF0ucGFnZVkgOiBlLnBhZ2VZO1xuICAgIGNvbnN0IHRvdWNoZXNEaWZmID0gTWF0aC5tYXgoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIGltYWdlLnRvdWNoZXNTdGFydC54KSwgTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIGltYWdlLnRvdWNoZXNTdGFydC55KSk7XG4gICAgaWYgKHRvdWNoZXNEaWZmID4gNSkge1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFpbWFnZS5pc01vdmVkICYmICFpc1NjYWxpbmcpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgKE1hdGguZmxvb3IoaW1hZ2UubWluWCkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRYKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC54IDwgaW1hZ2UudG91Y2hlc1N0YXJ0LnggfHwgTWF0aC5mbG9vcihpbWFnZS5tYXhYKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFgpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnggPiBpbWFnZS50b3VjaGVzU3RhcnQueCkpIHtcbiAgICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIChNYXRoLmZsb29yKGltYWdlLm1pblkpID09PSBNYXRoLmZsb29yKGltYWdlLnN0YXJ0WSkgJiYgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA8IGltYWdlLnRvdWNoZXNTdGFydC55IHx8IE1hdGguZmxvb3IoaW1hZ2UubWF4WSkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRZKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC55ID4gaW1hZ2UudG91Y2hlc1N0YXJ0LnkpKSB7XG4gICAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlLmNhbmNlbGFibGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpbWFnZS5pc01vdmVkID0gdHJ1ZTtcbiAgICBjb25zdCBzY2FsZVJhdGlvID0gKHpvb20uc2NhbGUgLSBjdXJyZW50U2NhbGUpIC8gKGdlc3R1cmUubWF4UmF0aW8gLSBzd2lwZXIucGFyYW1zLnpvb20ubWluUmF0aW8pO1xuICAgIGNvbnN0IHtcbiAgICAgIG9yaWdpblgsXG4gICAgICBvcmlnaW5ZXG4gICAgfSA9IGdlc3R1cmU7XG4gICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gaW1hZ2UudG91Y2hlc1N0YXJ0LnggKyBpbWFnZS5zdGFydFggKyBzY2FsZVJhdGlvICogKGltYWdlLndpZHRoIC0gb3JpZ2luWCAqIDIpO1xuICAgIGltYWdlLmN1cnJlbnRZID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIGltYWdlLnRvdWNoZXNTdGFydC55ICsgaW1hZ2Uuc3RhcnRZICsgc2NhbGVSYXRpbyAqIChpbWFnZS5oZWlnaHQgLSBvcmlnaW5ZICogMik7XG4gICAgaWYgKGltYWdlLmN1cnJlbnRYIDwgaW1hZ2UubWluWCkge1xuICAgICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS5taW5YICsgMSAtIChpbWFnZS5taW5YIC0gaW1hZ2UuY3VycmVudFggKyAxKSAqKiAwLjg7XG4gICAgfVxuICAgIGlmIChpbWFnZS5jdXJyZW50WCA+IGltYWdlLm1heFgpIHtcbiAgICAgIGltYWdlLmN1cnJlbnRYID0gaW1hZ2UubWF4WCAtIDEgKyAoaW1hZ2UuY3VycmVudFggLSBpbWFnZS5tYXhYICsgMSkgKiogMC44O1xuICAgIH1cbiAgICBpZiAoaW1hZ2UuY3VycmVudFkgPCBpbWFnZS5taW5ZKSB7XG4gICAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLm1pblkgKyAxIC0gKGltYWdlLm1pblkgLSBpbWFnZS5jdXJyZW50WSArIDEpICoqIDAuODtcbiAgICB9XG4gICAgaWYgKGltYWdlLmN1cnJlbnRZID4gaW1hZ2UubWF4WSkge1xuICAgICAgaW1hZ2UuY3VycmVudFkgPSBpbWFnZS5tYXhZIC0gMSArIChpbWFnZS5jdXJyZW50WSAtIGltYWdlLm1heFkgKyAxKSAqKiAwLjg7XG4gICAgfVxuXG4gICAgLy8gVmVsb2NpdHlcbiAgICBpZiAoIXZlbG9jaXR5LnByZXZQb3NpdGlvblgpIHZlbG9jaXR5LnByZXZQb3NpdGlvblggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54O1xuICAgIGlmICghdmVsb2NpdHkucHJldlBvc2l0aW9uWSkgdmVsb2NpdHkucHJldlBvc2l0aW9uWSA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lnk7XG4gICAgaWYgKCF2ZWxvY2l0eS5wcmV2VGltZSkgdmVsb2NpdHkucHJldlRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZlbG9jaXR5LnggPSAoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblgpIC8gKERhdGUubm93KCkgLSB2ZWxvY2l0eS5wcmV2VGltZSkgLyAyO1xuICAgIHZlbG9jaXR5LnkgPSAoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblkpIC8gKERhdGUubm93KCkgLSB2ZWxvY2l0eS5wcmV2VGltZSkgLyAyO1xuICAgIGlmIChNYXRoLmFicyhpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gdmVsb2NpdHkucHJldlBvc2l0aW9uWCkgPCAyKSB2ZWxvY2l0eS54ID0gMDtcbiAgICBpZiAoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblkpIDwgMikgdmVsb2NpdHkueSA9IDA7XG4gICAgdmVsb2NpdHkucHJldlBvc2l0aW9uWCA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lng7XG4gICAgdmVsb2NpdHkucHJldlBvc2l0aW9uWSA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lnk7XG4gICAgdmVsb2NpdHkucHJldlRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7aW1hZ2UuY3VycmVudFh9cHgsICR7aW1hZ2UuY3VycmVudFl9cHgsMClgO1xuICB9XG4gIGZ1bmN0aW9uIG9uVG91Y2hFbmQoKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsKSByZXR1cm47XG4gICAgaWYgKCFpbWFnZS5pc1RvdWNoZWQgfHwgIWltYWdlLmlzTW92ZWQpIHtcbiAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgaW1hZ2UuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbWFnZS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICBpbWFnZS5pc01vdmVkID0gZmFsc2U7XG4gICAgbGV0IG1vbWVudHVtRHVyYXRpb25YID0gMzAwO1xuICAgIGxldCBtb21lbnR1bUR1cmF0aW9uWSA9IDMwMDtcbiAgICBjb25zdCBtb21lbnR1bURpc3RhbmNlWCA9IHZlbG9jaXR5LnggKiBtb21lbnR1bUR1cmF0aW9uWDtcbiAgICBjb25zdCBuZXdQb3NpdGlvblggPSBpbWFnZS5jdXJyZW50WCArIG1vbWVudHVtRGlzdGFuY2VYO1xuICAgIGNvbnN0IG1vbWVudHVtRGlzdGFuY2VZID0gdmVsb2NpdHkueSAqIG1vbWVudHVtRHVyYXRpb25ZO1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uWSA9IGltYWdlLmN1cnJlbnRZICsgbW9tZW50dW1EaXN0YW5jZVk7XG5cbiAgICAvLyBGaXggZHVyYXRpb25cbiAgICBpZiAodmVsb2NpdHkueCAhPT0gMCkgbW9tZW50dW1EdXJhdGlvblggPSBNYXRoLmFicygobmV3UG9zaXRpb25YIC0gaW1hZ2UuY3VycmVudFgpIC8gdmVsb2NpdHkueCk7XG4gICAgaWYgKHZlbG9jaXR5LnkgIT09IDApIG1vbWVudHVtRHVyYXRpb25ZID0gTWF0aC5hYnMoKG5ld1Bvc2l0aW9uWSAtIGltYWdlLmN1cnJlbnRZKSAvIHZlbG9jaXR5LnkpO1xuICAgIGNvbnN0IG1vbWVudHVtRHVyYXRpb24gPSBNYXRoLm1heChtb21lbnR1bUR1cmF0aW9uWCwgbW9tZW50dW1EdXJhdGlvblkpO1xuICAgIGltYWdlLmN1cnJlbnRYID0gbmV3UG9zaXRpb25YO1xuICAgIGltYWdlLmN1cnJlbnRZID0gbmV3UG9zaXRpb25ZO1xuICAgIC8vIERlZmluZSBpZiB3ZSBuZWVkIGltYWdlIGRyYWdcbiAgICBjb25zdCBzY2FsZWRXaWR0aCA9IGltYWdlLndpZHRoICogem9vbS5zY2FsZTtcbiAgICBjb25zdCBzY2FsZWRIZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiB6b29tLnNjYWxlO1xuICAgIGltYWdlLm1pblggPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICBpbWFnZS5tYXhYID0gLWltYWdlLm1pblg7XG4gICAgaW1hZ2UubWluWSA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVIZWlnaHQgLyAyIC0gc2NhbGVkSGVpZ2h0IC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WSA9IC1pbWFnZS5taW5ZO1xuICAgIGltYWdlLmN1cnJlbnRYID0gTWF0aC5tYXgoTWF0aC5taW4oaW1hZ2UuY3VycmVudFgsIGltYWdlLm1heFgpLCBpbWFnZS5taW5YKTtcbiAgICBpbWFnZS5jdXJyZW50WSA9IE1hdGgubWF4KE1hdGgubWluKGltYWdlLmN1cnJlbnRZLCBpbWFnZS5tYXhZKSwgaW1hZ2UubWluWSk7XG4gICAgZ2VzdHVyZS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHttb21lbnR1bUR1cmF0aW9ufW1zYDtcbiAgICBnZXN0dXJlLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke2ltYWdlLmN1cnJlbnRYfXB4LCAke2ltYWdlLmN1cnJlbnRZfXB4LDApYDtcbiAgfVxuICBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGlmIChnZXN0dXJlLnNsaWRlRWwgJiYgc3dpcGVyLmFjdGl2ZUluZGV4ICE9PSBzd2lwZXIuc2xpZGVzLmluZGV4T2YoZ2VzdHVyZS5zbGlkZUVsKSkge1xuICAgICAgaWYgKGdlc3R1cmUuaW1hZ2VFbCkge1xuICAgICAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKSc7XG4gICAgICB9XG4gICAgICBpZiAoZ2VzdHVyZS5pbWFnZVdyYXBFbCkge1xuICAgICAgICBnZXN0dXJlLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLDAsMCknO1xuICAgICAgfVxuICAgICAgZ2VzdHVyZS5zbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7c3dpcGVyLnBhcmFtcy56b29tLnpvb21lZFNsaWRlQ2xhc3N9YCk7XG4gICAgICB6b29tLnNjYWxlID0gMTtcbiAgICAgIGN1cnJlbnRTY2FsZSA9IDE7XG4gICAgICBnZXN0dXJlLnNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgICBnZXN0dXJlLmltYWdlRWwgPSB1bmRlZmluZWQ7XG4gICAgICBnZXN0dXJlLmltYWdlV3JhcEVsID0gdW5kZWZpbmVkO1xuICAgICAgZ2VzdHVyZS5vcmlnaW5YID0gMDtcbiAgICAgIGdlc3R1cmUub3JpZ2luWSA9IDA7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHpvb21JbihlKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuem9vbTtcbiAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkge1xuICAgICAgaWYgKGUgJiYgZS50YXJnZXQpIHtcbiAgICAgICAgZ2VzdHVyZS5zbGlkZUVsID0gZS50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsKSB7XG4gICAgICAgICAgZ2VzdHVyZS5zbGlkZUVsID0gZWxlbWVudENoaWxkcmVuKHN3aXBlci5zbGlkZXNFbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzc31gKVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnZXN0dXJlLnNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBpbWFnZUVsID0gZ2VzdHVyZS5zbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoYC4ke3BhcmFtcy5jb250YWluZXJDbGFzc31gKTtcbiAgICAgIGlmIChpbWFnZUVsKSB7XG4gICAgICAgIGltYWdlRWwgPSBpbWFnZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BpY3R1cmUsIGltZywgc3ZnLCBjYW52YXMsIC5zd2lwZXItem9vbS10YXJnZXQnKVswXTtcbiAgICAgIH1cbiAgICAgIGdlc3R1cmUuaW1hZ2VFbCA9IGltYWdlRWw7XG4gICAgICBpZiAoaW1hZ2VFbCkge1xuICAgICAgICBnZXN0dXJlLmltYWdlV3JhcEVsID0gZWxlbWVudFBhcmVudHMoZ2VzdHVyZS5pbWFnZUVsLCBgLiR7cGFyYW1zLmNvbnRhaW5lckNsYXNzfWApWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VzdHVyZS5pbWFnZVdyYXBFbCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFnZXN0dXJlLmltYWdlRWwgfHwgIWdlc3R1cmUuaW1hZ2VXcmFwRWwpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgIH1cbiAgICBnZXN0dXJlLnNsaWRlRWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuem9vbWVkU2xpZGVDbGFzc31gKTtcbiAgICBsZXQgdG91Y2hYO1xuICAgIGxldCB0b3VjaFk7XG4gICAgbGV0IG9mZnNldFg7XG4gICAgbGV0IG9mZnNldFk7XG4gICAgbGV0IGRpZmZYO1xuICAgIGxldCBkaWZmWTtcbiAgICBsZXQgdHJhbnNsYXRlWDtcbiAgICBsZXQgdHJhbnNsYXRlWTtcbiAgICBsZXQgaW1hZ2VXaWR0aDtcbiAgICBsZXQgaW1hZ2VIZWlnaHQ7XG4gICAgbGV0IHNjYWxlZFdpZHRoO1xuICAgIGxldCBzY2FsZWRIZWlnaHQ7XG4gICAgbGV0IHRyYW5zbGF0ZU1pblg7XG4gICAgbGV0IHRyYW5zbGF0ZU1pblk7XG4gICAgbGV0IHRyYW5zbGF0ZU1heFg7XG4gICAgbGV0IHRyYW5zbGF0ZU1heFk7XG4gICAgbGV0IHNsaWRlV2lkdGg7XG4gICAgbGV0IHNsaWRlSGVpZ2h0O1xuICAgIGlmICh0eXBlb2YgaW1hZ2UudG91Y2hlc1N0YXJ0LnggPT09ICd1bmRlZmluZWQnICYmIGUpIHtcbiAgICAgIHRvdWNoWCA9IGUucGFnZVg7XG4gICAgICB0b3VjaFkgPSBlLnBhZ2VZO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3VjaFggPSBpbWFnZS50b3VjaGVzU3RhcnQueDtcbiAgICAgIHRvdWNoWSA9IGltYWdlLnRvdWNoZXNTdGFydC55O1xuICAgIH1cbiAgICBjb25zdCBmb3JjZVpvb21SYXRpbyA9IHR5cGVvZiBlID09PSAnbnVtYmVyJyA/IGUgOiBudWxsO1xuICAgIGlmIChjdXJyZW50U2NhbGUgPT09IDEgJiYgZm9yY2Vab29tUmF0aW8pIHtcbiAgICAgIHRvdWNoWCA9IHVuZGVmaW5lZDtcbiAgICAgIHRvdWNoWSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgem9vbS5zY2FsZSA9IGZvcmNlWm9vbVJhdGlvIHx8IGdlc3R1cmUuaW1hZ2VXcmFwRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIGN1cnJlbnRTY2FsZSA9IGZvcmNlWm9vbVJhdGlvIHx8IGdlc3R1cmUuaW1hZ2VXcmFwRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIGlmIChlICYmICEoY3VycmVudFNjYWxlID09PSAxICYmIGZvcmNlWm9vbVJhdGlvKSkge1xuICAgICAgc2xpZGVXaWR0aCA9IGdlc3R1cmUuc2xpZGVFbC5vZmZzZXRXaWR0aDtcbiAgICAgIHNsaWRlSGVpZ2h0ID0gZ2VzdHVyZS5zbGlkZUVsLm9mZnNldEhlaWdodDtcbiAgICAgIG9mZnNldFggPSBlbGVtZW50T2Zmc2V0KGdlc3R1cmUuc2xpZGVFbCkubGVmdCArIHdpbmRvdy5zY3JvbGxYO1xuICAgICAgb2Zmc2V0WSA9IGVsZW1lbnRPZmZzZXQoZ2VzdHVyZS5zbGlkZUVsKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIGRpZmZYID0gb2Zmc2V0WCArIHNsaWRlV2lkdGggLyAyIC0gdG91Y2hYO1xuICAgICAgZGlmZlkgPSBvZmZzZXRZICsgc2xpZGVIZWlnaHQgLyAyIC0gdG91Y2hZO1xuICAgICAgaW1hZ2VXaWR0aCA9IGdlc3R1cmUuaW1hZ2VFbC5vZmZzZXRXaWR0aDtcbiAgICAgIGltYWdlSGVpZ2h0ID0gZ2VzdHVyZS5pbWFnZUVsLm9mZnNldEhlaWdodDtcbiAgICAgIHNjYWxlZFdpZHRoID0gaW1hZ2VXaWR0aCAqIHpvb20uc2NhbGU7XG4gICAgICBzY2FsZWRIZWlnaHQgPSBpbWFnZUhlaWdodCAqIHpvb20uc2NhbGU7XG4gICAgICB0cmFuc2xhdGVNaW5YID0gTWF0aC5taW4oc2xpZGVXaWR0aCAvIDIgLSBzY2FsZWRXaWR0aCAvIDIsIDApO1xuICAgICAgdHJhbnNsYXRlTWluWSA9IE1hdGgubWluKHNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgICAgdHJhbnNsYXRlTWF4WCA9IC10cmFuc2xhdGVNaW5YO1xuICAgICAgdHJhbnNsYXRlTWF4WSA9IC10cmFuc2xhdGVNaW5ZO1xuICAgICAgdHJhbnNsYXRlWCA9IGRpZmZYICogem9vbS5zY2FsZTtcbiAgICAgIHRyYW5zbGF0ZVkgPSBkaWZmWSAqIHpvb20uc2NhbGU7XG4gICAgICBpZiAodHJhbnNsYXRlWCA8IHRyYW5zbGF0ZU1pblgpIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZU1pblg7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNsYXRlWCA+IHRyYW5zbGF0ZU1heFgpIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZU1heFg7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNsYXRlWSA8IHRyYW5zbGF0ZU1pblkpIHtcbiAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZU1pblk7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNsYXRlWSA+IHRyYW5zbGF0ZU1heFkpIHtcbiAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZU1heFk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zbGF0ZVggPSAwO1xuICAgICAgdHJhbnNsYXRlWSA9IDA7XG4gICAgfVxuICAgIGlmIChmb3JjZVpvb21SYXRpbyAmJiB6b29tLnNjYWxlID09PSAxKSB7XG4gICAgICBnZXN0dXJlLm9yaWdpblggPSAwO1xuICAgICAgZ2VzdHVyZS5vcmlnaW5ZID0gMDtcbiAgICB9XG4gICAgZ2VzdHVyZS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMzAwbXMnO1xuICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlWH1weCwgJHt0cmFuc2xhdGVZfXB4LDApYDtcbiAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzMwMG1zJztcbiAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgke3pvb20uc2NhbGV9KWA7XG4gIH1cbiAgZnVuY3Rpb24gem9vbU91dCgpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGlmICghZ2VzdHVyZS5zbGlkZUVsKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsKSB7XG4gICAgICAgIGdlc3R1cmUuc2xpZGVFbCA9IGVsZW1lbnRDaGlsZHJlbihzd2lwZXIuc2xpZGVzRWwsIGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3N9YClbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXN0dXJlLnNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF07XG4gICAgICB9XG4gICAgICBsZXQgaW1hZ2VFbCA9IGdlc3R1cmUuc2xpZGVFbC5xdWVyeVNlbGVjdG9yKGAuJHtwYXJhbXMuY29udGFpbmVyQ2xhc3N9YCk7XG4gICAgICBpZiAoaW1hZ2VFbCkge1xuICAgICAgICBpbWFnZUVsID0gaW1hZ2VFbC5xdWVyeVNlbGVjdG9yQWxsKCdwaWN0dXJlLCBpbWcsIHN2ZywgY2FudmFzLCAuc3dpcGVyLXpvb20tdGFyZ2V0JylbMF07XG4gICAgICB9XG4gICAgICBnZXN0dXJlLmltYWdlRWwgPSBpbWFnZUVsO1xuICAgICAgaWYgKGltYWdlRWwpIHtcbiAgICAgICAgZ2VzdHVyZS5pbWFnZVdyYXBFbCA9IGVsZW1lbnRQYXJlbnRzKGdlc3R1cmUuaW1hZ2VFbCwgYC4ke3BhcmFtcy5jb250YWluZXJDbGFzc31gKVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsIHx8ICFnZXN0dXJlLmltYWdlV3JhcEVsKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgIH1cbiAgICB6b29tLnNjYWxlID0gMTtcbiAgICBjdXJyZW50U2NhbGUgPSAxO1xuICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzMwMG1zJztcbiAgICBnZXN0dXJlLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLDAsMCknO1xuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMzAwbXMnO1xuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEpJztcbiAgICBnZXN0dXJlLnNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShgJHtwYXJhbXMuem9vbWVkU2xpZGVDbGFzc31gKTtcbiAgICBnZXN0dXJlLnNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgZ2VzdHVyZS5vcmlnaW5YID0gMDtcbiAgICBnZXN0dXJlLm9yaWdpblkgPSAwO1xuICB9XG5cbiAgLy8gVG9nZ2xlIFpvb21cbiAgZnVuY3Rpb24gem9vbVRvZ2dsZShlKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGlmICh6b29tLnNjYWxlICYmIHpvb20uc2NhbGUgIT09IDEpIHtcbiAgICAgIC8vIFpvb20gT3V0XG4gICAgICB6b29tT3V0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFpvb20gSW5cbiAgICAgIHpvb21JbihlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHBhc3NpdmVMaXN0ZW5lciA9IHN3aXBlci5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcbiAgICBjb25zdCBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlID0gc3dpcGVyLnBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSA6IHRydWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhc3NpdmVMaXN0ZW5lcixcbiAgICAgIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmVcbiAgICB9O1xuICB9XG5cbiAgLy8gQXR0YWNoL0RldGFjaCBFdmVudHNcbiAgZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGNvbnN0IHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICBpZiAoem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgem9vbS5lbmFibGVkID0gdHJ1ZTtcbiAgICBjb25zdCB7XG4gICAgICBwYXNzaXZlTGlzdGVuZXIsXG4gICAgICBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlXG4gICAgfSA9IGdldExpc3RlbmVycygpO1xuXG4gICAgLy8gU2NhbGUgaW1hZ2VcbiAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25HZXN0dXJlU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uR2VzdHVyZUNoYW5nZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gICAgWydwb2ludGVydXAnLCAncG9pbnRlcmNhbmNlbCcsICdwb2ludGVyb3V0J10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0pO1xuXG4gICAgLy8gTW92ZSBpbWFnZVxuICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblRvdWNoTW92ZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCF6b29tLmVuYWJsZWQpIHJldHVybjtcbiAgICB6b29tLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBjb25zdCB7XG4gICAgICBwYXNzaXZlTGlzdGVuZXIsXG4gICAgICBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlXG4gICAgfSA9IGdldExpc3RlbmVycygpO1xuXG4gICAgLy8gU2NhbGUgaW1hZ2VcbiAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25HZXN0dXJlU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uR2VzdHVyZUNoYW5nZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gICAgWydwb2ludGVydXAnLCAncG9pbnRlcmNhbmNlbCcsICdwb2ludGVyb3V0J10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0pO1xuXG4gICAgLy8gTW92ZSBpbWFnZVxuICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblRvdWNoTW92ZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gIH1cbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkKSB7XG4gICAgICBlbmFibGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkaXNhYmxlKCk7XG4gIH0pO1xuICBvbigndG91Y2hTdGFydCcsIChfcywgZSkgPT4ge1xuICAgIGlmICghc3dpcGVyLnpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgIG9uVG91Y2hTdGFydChlKTtcbiAgfSk7XG4gIG9uKCd0b3VjaEVuZCcsIChfcywgZSkgPT4ge1xuICAgIGlmICghc3dpcGVyLnpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgIG9uVG91Y2hFbmQoKTtcbiAgfSk7XG4gIG9uKCdkb3VibGVUYXAnLCAoX3MsIGUpID0+IHtcbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20udG9nZ2xlKSB7XG4gICAgICB6b29tVG9nZ2xlKGUpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd0cmFuc2l0aW9uRW5kJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuem9vbS5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkKSB7XG4gICAgICBvblRyYW5zaXRpb25FbmQoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBvblRyYW5zaXRpb25FbmQoKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci56b29tLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgaW46IHpvb21JbixcbiAgICBvdXQ6IHpvb21PdXQsXG4gICAgdG9nZ2xlOiB6b29tVG9nZ2xlXG4gIH0pO1xufVxuXG5leHBvcnQgeyBab29tIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBuIGFzIG5leHRUaWNrLCBqIGFzIGVsZW1lbnRUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbi8qIGVzbGludCBuby1iaXR3aXNlOiBbXCJlcnJvclwiLCB7IFwiYWxsb3dcIjogW1wiPj5cIl0gfV0gKi9cbmZ1bmN0aW9uIENvbnRyb2xsZXIoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgY29udHJvbGxlcjoge1xuICAgICAgY29udHJvbDogdW5kZWZpbmVkLFxuICAgICAgaW52ZXJzZTogZmFsc2UsXG4gICAgICBieTogJ3NsaWRlJyAvLyBvciAnY29udGFpbmVyJ1xuICAgIH1cbiAgfSk7XG5cbiAgc3dpcGVyLmNvbnRyb2xsZXIgPSB7XG4gICAgY29udHJvbDogdW5kZWZpbmVkXG4gIH07XG4gIGZ1bmN0aW9uIExpbmVhclNwbGluZSh4LCB5KSB7XG4gICAgY29uc3QgYmluYXJ5U2VhcmNoID0gZnVuY3Rpb24gc2VhcmNoKCkge1xuICAgICAgbGV0IG1heEluZGV4O1xuICAgICAgbGV0IG1pbkluZGV4O1xuICAgICAgbGV0IGd1ZXNzO1xuICAgICAgcmV0dXJuIChhcnJheSwgdmFsKSA9PiB7XG4gICAgICAgIG1pbkluZGV4ID0gLTE7XG4gICAgICAgIG1heEluZGV4ID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobWF4SW5kZXggLSBtaW5JbmRleCA+IDEpIHtcbiAgICAgICAgICBndWVzcyA9IG1heEluZGV4ICsgbWluSW5kZXggPj4gMTtcbiAgICAgICAgICBpZiAoYXJyYXlbZ3Vlc3NdIDw9IHZhbCkge1xuICAgICAgICAgICAgbWluSW5kZXggPSBndWVzcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF4SW5kZXggPSBndWVzcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heEluZGV4O1xuICAgICAgfTtcbiAgICB9KCk7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMubGFzdEluZGV4ID0geC5sZW5ndGggLSAxO1xuICAgIC8vIEdpdmVuIGFuIHggdmFsdWUgKHgyKSwgcmV0dXJuIHRoZSBleHBlY3RlZCB5MiB2YWx1ZTpcbiAgICAvLyAoeDEseTEpIGlzIHRoZSBrbm93biBwb2ludCBiZWZvcmUgZ2l2ZW4gdmFsdWUsXG4gICAgLy8gKHgzLHkzKSBpcyB0aGUga25vd24gcG9pbnQgYWZ0ZXIgZ2l2ZW4gdmFsdWUuXG4gICAgbGV0IGkxO1xuICAgIGxldCBpMztcbiAgICB0aGlzLmludGVycG9sYXRlID0gZnVuY3Rpb24gaW50ZXJwb2xhdGUoeDIpIHtcbiAgICAgIGlmICgheDIpIHJldHVybiAwO1xuXG4gICAgICAvLyBHZXQgdGhlIGluZGV4ZXMgb2YgeDEgYW5kIHgzICh0aGUgYXJyYXkgaW5kZXhlcyBiZWZvcmUgYW5kIGFmdGVyIGdpdmVuIHgyKTpcbiAgICAgIGkzID0gYmluYXJ5U2VhcmNoKHRoaXMueCwgeDIpO1xuICAgICAgaTEgPSBpMyAtIDE7XG5cbiAgICAgIC8vIFdlIGhhdmUgb3VyIGluZGV4ZXMgaTEgJiBpMywgc28gd2UgY2FuIGNhbGN1bGF0ZSBhbHJlYWR5OlxuICAgICAgLy8geTIgOj0gKCh4Mlx1MjIxMngxKSBcdTAwRDcgKHkzXHUyMjEyeTEpKSBcdTAwRjcgKHgzXHUyMjEyeDEpICsgeTFcbiAgICAgIHJldHVybiAoeDIgLSB0aGlzLnhbaTFdKSAqICh0aGlzLnlbaTNdIC0gdGhpcy55W2kxXSkgLyAodGhpcy54W2kzXSAtIHRoaXMueFtpMV0pICsgdGhpcy55W2kxXTtcbiAgICB9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIGdldEludGVycG9sYXRlRnVuY3Rpb24oYykge1xuICAgIHN3aXBlci5jb250cm9sbGVyLnNwbGluZSA9IHN3aXBlci5wYXJhbXMubG9vcCA/IG5ldyBMaW5lYXJTcGxpbmUoc3dpcGVyLnNsaWRlc0dyaWQsIGMuc2xpZGVzR3JpZCkgOiBuZXcgTGluZWFyU3BsaW5lKHN3aXBlci5zbmFwR3JpZCwgYy5zbmFwR3JpZCk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKF90LCBieUNvbnRyb2xsZXIpIHtcbiAgICBjb25zdCBjb250cm9sbGVkID0gc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbDtcbiAgICBsZXQgbXVsdGlwbGllcjtcbiAgICBsZXQgY29udHJvbGxlZFRyYW5zbGF0ZTtcbiAgICBjb25zdCBTd2lwZXIgPSBzd2lwZXIuY29uc3RydWN0b3I7XG4gICAgZnVuY3Rpb24gc2V0Q29udHJvbGxlZFRyYW5zbGF0ZShjKSB7XG4gICAgICBpZiAoYy5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgLy8gdGhpcyB3aWxsIGNyZWF0ZSBhbiBJbnRlcnBvbGF0ZSBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgc25hcEdyaWRzXG4gICAgICAvLyB4IGlzIHRoZSBHcmlkIG9mIHRoZSBzY3JvbGxlZCBzY3JvbGxlciBhbmQgeSB3aWxsIGJlIHRoZSBjb250cm9sbGVkIHNjcm9sbGVyXG4gICAgICAvLyBpdCBtYWtlcyBzZW5zZSB0byBjcmVhdGUgdGhpcyBvbmx5IG9uY2UgYW5kIHJlY2FsbCBpdCBmb3IgdGhlIGludGVycG9sYXRpb25cbiAgICAgIC8vIHRoZSBmdW5jdGlvbiBkb2VzIGEgbG90IG9mIHZhbHVlIGNhY2hpbmcgZm9yIHBlcmZvcm1hbmNlXG4gICAgICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5ieSA9PT0gJ3NsaWRlJykge1xuICAgICAgICBnZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uKGMpO1xuICAgICAgICAvLyBpIGFtIG5vdCBzdXJlIHdoeSB0aGUgdmFsdWVzIGhhdmUgdG8gYmUgbXVsdGlwbGljYXRlZCB0aGlzIHdheSwgdHJpZWQgdG8gaW52ZXJ0IHRoZSBzbmFwR3JpZFxuICAgICAgICAvLyBidXQgaXQgZGlkIG5vdCB3b3JrIG91dFxuICAgICAgICBjb250cm9sbGVkVHJhbnNsYXRlID0gLXN3aXBlci5jb250cm9sbGVyLnNwbGluZS5pbnRlcnBvbGF0ZSgtdHJhbnNsYXRlKTtcbiAgICAgIH1cbiAgICAgIGlmICghY29udHJvbGxlZFRyYW5zbGF0ZSB8fCBzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuYnkgPT09ICdjb250YWluZXInKSB7XG4gICAgICAgIG11bHRpcGxpZXIgPSAoYy5tYXhUcmFuc2xhdGUoKSAtIGMubWluVHJhbnNsYXRlKCkpIC8gKHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4obXVsdGlwbGllcikgfHwgIU51bWJlci5pc0Zpbml0ZShtdWx0aXBsaWVyKSkge1xuICAgICAgICAgIG11bHRpcGxpZXIgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAqIG11bHRpcGxpZXIgKyBjLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5pbnZlcnNlKSB7XG4gICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSBjLm1heFRyYW5zbGF0ZSgpIC0gY29udHJvbGxlZFRyYW5zbGF0ZTtcbiAgICAgIH1cbiAgICAgIGMudXBkYXRlUHJvZ3Jlc3MoY29udHJvbGxlZFRyYW5zbGF0ZSk7XG4gICAgICBjLnNldFRyYW5zbGF0ZShjb250cm9sbGVkVHJhbnNsYXRlLCBzd2lwZXIpO1xuICAgICAgYy51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgYy51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRyb2xsZWQpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xsZWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGNvbnRyb2xsZWRbaV0gIT09IGJ5Q29udHJvbGxlciAmJiBjb250cm9sbGVkW2ldIGluc3RhbmNlb2YgU3dpcGVyKSB7XG4gICAgICAgICAgc2V0Q29udHJvbGxlZFRyYW5zbGF0ZShjb250cm9sbGVkW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29udHJvbGxlZCBpbnN0YW5jZW9mIFN3aXBlciAmJiBieUNvbnRyb2xsZXIgIT09IGNvbnRyb2xsZWQpIHtcbiAgICAgIHNldENvbnRyb2xsZWRUcmFuc2xhdGUoY29udHJvbGxlZCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICAgIGNvbnN0IFN3aXBlciA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcbiAgICBjb25zdCBjb250cm9sbGVkID0gc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbDtcbiAgICBsZXQgaTtcbiAgICBmdW5jdGlvbiBzZXRDb250cm9sbGVkVHJhbnNpdGlvbihjKSB7XG4gICAgICBpZiAoYy5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgIGMuc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgc3dpcGVyKTtcbiAgICAgIGlmIChkdXJhdGlvbiAhPT0gMCkge1xuICAgICAgICBjLnRyYW5zaXRpb25TdGFydCgpO1xuICAgICAgICBpZiAoYy5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGMudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRUcmFuc2l0aW9uRW5kKGMud3JhcHBlckVsLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCFjb250cm9sbGVkKSByZXR1cm47XG4gICAgICAgICAgYy50cmFuc2l0aW9uRW5kKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb250cm9sbGVkKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRyb2xsZWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGNvbnRyb2xsZWRbaV0gIT09IGJ5Q29udHJvbGxlciAmJiBjb250cm9sbGVkW2ldIGluc3RhbmNlb2YgU3dpcGVyKSB7XG4gICAgICAgICAgc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oY29udHJvbGxlZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZWQgaW5zdGFuY2VvZiBTd2lwZXIgJiYgYnlDb250cm9sbGVyICE9PSBjb250cm9sbGVkKSB7XG4gICAgICBzZXRDb250cm9sbGVkVHJhbnNpdGlvbihjb250cm9sbGVkKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlU3BsaW5lKCkge1xuICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIuY29udHJvbGxlci5zcGxpbmUpIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLnNwbGluZSA9IHVuZGVmaW5lZDtcbiAgICAgIGRlbGV0ZSBzd2lwZXIuY29udHJvbGxlci5zcGxpbmU7XG4gICAgfVxuICB9XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHR5cGVvZiBzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbCA9PT0gJ3N0cmluZycgfHwgc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2wgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGNvbnRyb2xFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbCk7XG4gICAgICBpZiAoY29udHJvbEVsZW1lbnQgJiYgY29udHJvbEVsZW1lbnQuc3dpcGVyKSB7XG4gICAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgPSBjb250cm9sRWxlbWVudC5zd2lwZXI7XG4gICAgICB9IGVsc2UgaWYgKGNvbnRyb2xFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG9uQ29udHJvbGxlclN3aXBlciA9IGUgPT4ge1xuICAgICAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgPSBlLmRldGFpbFswXTtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlKCk7XG4gICAgICAgICAgY29udHJvbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5pdCcsIG9uQ29udHJvbGxlclN3aXBlcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnRyb2xFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2luaXQnLCBvbkNvbnRyb2xsZXJTd2lwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2lwZXIuY29udHJvbGxlci5jb250cm9sID0gc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2w7XG4gIH0pO1xuICBvbigndXBkYXRlJywgKCkgPT4ge1xuICAgIHJlbW92ZVNwbGluZSgpO1xuICB9KTtcbiAgb24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICByZW1vdmVTcGxpbmUoKTtcbiAgfSk7XG4gIG9uKCdvYnNlcnZlclVwZGF0ZScsICgpID0+IHtcbiAgICByZW1vdmVTcGxpbmUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoX3MsIHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sIHx8IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wuZGVzdHJveWVkKSByZXR1cm47XG4gICAgc3dpcGVyLmNvbnRyb2xsZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sIHx8IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wuZGVzdHJveWVkKSByZXR1cm47XG4gICAgc3dpcGVyLmNvbnRyb2xsZXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmNvbnRyb2xsZXIsIHtcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvblxuICB9KTtcbn1cblxuZXhwb3J0IHsgQ29udHJvbGxlciBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjbGFzc2VzVG9TZWxlY3RvciB9IGZyb20gJy4uL3NoYXJlZC9jbGFzc2VzLXRvLXNlbGVjdG9yLm1qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnQsIGcgYXMgZWxlbWVudEluZGV4IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIEExMXkoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgYTExeToge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIG5vdGlmaWNhdGlvbkNsYXNzOiAnc3dpcGVyLW5vdGlmaWNhdGlvbicsXG4gICAgICBwcmV2U2xpZGVNZXNzYWdlOiAnUHJldmlvdXMgc2xpZGUnLFxuICAgICAgbmV4dFNsaWRlTWVzc2FnZTogJ05leHQgc2xpZGUnLFxuICAgICAgZmlyc3RTbGlkZU1lc3NhZ2U6ICdUaGlzIGlzIHRoZSBmaXJzdCBzbGlkZScsXG4gICAgICBsYXN0U2xpZGVNZXNzYWdlOiAnVGhpcyBpcyB0aGUgbGFzdCBzbGlkZScsXG4gICAgICBwYWdpbmF0aW9uQnVsbGV0TWVzc2FnZTogJ0dvIHRvIHNsaWRlIHt7aW5kZXh9fScsXG4gICAgICBzbGlkZUxhYmVsTWVzc2FnZTogJ3t7aW5kZXh9fSAvIHt7c2xpZGVzTGVuZ3RofX0nLFxuICAgICAgY29udGFpbmVyTWVzc2FnZTogbnVsbCxcbiAgICAgIGNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2U6IG51bGwsXG4gICAgICBpdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZTogbnVsbCxcbiAgICAgIHNsaWRlUm9sZTogJ2dyb3VwJyxcbiAgICAgIGlkOiBudWxsXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLmExMXkgPSB7XG4gICAgY2xpY2tlZDogZmFsc2VcbiAgfTtcbiAgbGV0IGxpdmVSZWdpb24gPSBudWxsO1xuICBmdW5jdGlvbiBub3RpZnkobWVzc2FnZSkge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGxpdmVSZWdpb247XG4gICAgaWYgKG5vdGlmaWNhdGlvbi5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBub3RpZmljYXRpb24uaW5uZXJIVE1MID0gJyc7XG4gICAgbm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gIH1cbiAgY29uc3QgbWFrZUVsZW1lbnRzQXJyYXkgPSBlbCA9PiAoQXJyYXkuaXNBcnJheShlbCkgPyBlbCA6IFtlbF0pLmZpbHRlcihlID0+ICEhZSk7XG4gIGZ1bmN0aW9uIGdldFJhbmRvbU51bWJlcihzaXplKSB7XG4gICAgaWYgKHNpemUgPT09IHZvaWQgMCkge1xuICAgICAgc2l6ZSA9IDE2O1xuICAgIH1cbiAgICBjb25zdCByYW5kb21DaGFyID0gKCkgPT4gTWF0aC5yb3VuZCgxNiAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gJ3gnLnJlcGVhdChzaXplKS5yZXBsYWNlKC94L2csIHJhbmRvbUNoYXIpO1xuICB9XG4gIGZ1bmN0aW9uIG1ha2VFbEZvY3VzYWJsZShlbCkge1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgc3ViRWwuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICcwJyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZUVsTm90Rm9jdXNhYmxlKGVsKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYWRkRWxSb2xlKGVsLCByb2xlKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCByb2xlKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBhZGRFbFJvbGVEZXNjcmlwdGlvbihlbCwgZGVzY3JpcHRpb24pIHtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHN1YkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1yb2xlZGVzY3JpcHRpb24nLCBkZXNjcmlwdGlvbik7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYWRkRWxDb250cm9scyhlbCwgY29udHJvbHMpIHtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHN1YkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIGNvbnRyb2xzKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBhZGRFbExhYmVsKGVsLCBsYWJlbCkge1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgc3ViRWwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgbGFiZWwpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFkZEVsSWQoZWwsIGlkKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFkZEVsTGl2ZShlbCwgbGl2ZSkge1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgc3ViRWwuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCBsaXZlKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkaXNhYmxlRWwoZWwpIHtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHN1YkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIHRydWUpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGVuYWJsZUVsKGVsKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb25FbnRlck9yU3BhY2VLZXkoZSkge1xuICAgIGlmIChlLmtleUNvZGUgIT09IDEzICYmIGUua2V5Q29kZSAhPT0gMzIpIHJldHVybjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhZ2luYXRpb24uZWwgJiYgKHRhcmdldEVsID09PSBzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyhlLnRhcmdldCkpKSB7XG4gICAgICBpZiAoIWUudGFyZ2V0Lm1hdGNoZXMoY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkpIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsKSB7XG4gICAgICBpZiAoIShzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5pc0VuZCkge1xuICAgICAgICBub3RpZnkocGFyYW1zLmxhc3RTbGlkZU1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm90aWZ5KHBhcmFtcy5uZXh0U2xpZGVNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKSB7XG4gICAgICBpZiAoIShzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgICBub3RpZnkocGFyYW1zLmZpcnN0U2xpZGVNZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vdGlmeShwYXJhbXMucHJldlNsaWRlTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiB0YXJnZXRFbC5tYXRjaGVzKGNsYXNzZXNUb1NlbGVjdG9yKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpKSB7XG4gICAgICB0YXJnZXRFbC5jbGljaygpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVOYXZpZ2F0aW9uKCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQgfHwgIXN3aXBlci5uYXZpZ2F0aW9uKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIGlmIChwcmV2RWwpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgICAgZGlzYWJsZUVsKHByZXZFbCk7XG4gICAgICAgIG1ha2VFbE5vdEZvY3VzYWJsZShwcmV2RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5hYmxlRWwocHJldkVsKTtcbiAgICAgICAgbWFrZUVsRm9jdXNhYmxlKHByZXZFbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuZXh0RWwpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgZGlzYWJsZUVsKG5leHRFbCk7XG4gICAgICAgIG1ha2VFbE5vdEZvY3VzYWJsZShuZXh0RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5hYmxlRWwobmV4dEVsKTtcbiAgICAgICAgbWFrZUVsRm9jdXNhYmxlKG5leHRFbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhc1BhZ2luYXRpb24oKSB7XG4gICAgcmV0dXJuIHN3aXBlci5wYWdpbmF0aW9uICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGg7XG4gIH1cbiAgZnVuY3Rpb24gaGFzQ2xpY2thYmxlUGFnaW5hdGlvbigpIHtcbiAgICByZXR1cm4gaGFzUGFnaW5hdGlvbigpICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGU7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvbigpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgaWYgKCFoYXNQYWdpbmF0aW9uKCkpIHJldHVybjtcbiAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmZvckVhY2goYnVsbGV0RWwgPT4ge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUpIHtcbiAgICAgICAgbWFrZUVsRm9jdXNhYmxlKGJ1bGxldEVsKTtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucmVuZGVyQnVsbGV0KSB7XG4gICAgICAgICAgYWRkRWxSb2xlKGJ1bGxldEVsLCAnYnV0dG9uJyk7XG4gICAgICAgICAgYWRkRWxMYWJlbChidWxsZXRFbCwgcGFyYW1zLnBhZ2luYXRpb25CdWxsZXRNZXNzYWdlLnJlcGxhY2UoL1xce1xce2luZGV4XFx9XFx9LywgZWxlbWVudEluZGV4KGJ1bGxldEVsKSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJ1bGxldEVsLm1hdGNoZXMoY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldEFjdGl2ZUNsYXNzKSkpIHtcbiAgICAgICAgYnVsbGV0RWwuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVsbGV0RWwucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjb25zdCBpbml0TmF2RWwgPSAoZWwsIHdyYXBwZXJJZCwgbWVzc2FnZSkgPT4ge1xuICAgIG1ha2VFbEZvY3VzYWJsZShlbCk7XG4gICAgaWYgKGVsLnRhZ05hbWUgIT09ICdCVVRUT04nKSB7XG4gICAgICBhZGRFbFJvbGUoZWwsICdidXR0b24nKTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSk7XG4gICAgfVxuICAgIGFkZEVsTGFiZWwoZWwsIG1lc3NhZ2UpO1xuICAgIGFkZEVsQ29udHJvbHMoZWwsIHdyYXBwZXJJZCk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKCkgPT4ge1xuICAgIHN3aXBlci5hMTF5LmNsaWNrZWQgPSB0cnVlO1xuICB9O1xuICBjb25zdCBoYW5kbGVQb2ludGVyVXAgPSAoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGlmICghc3dpcGVyLmRlc3Ryb3llZCkge1xuICAgICAgICAgIHN3aXBlci5hMTF5LmNsaWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUZvY3VzID0gZSA9PiB7XG4gICAgaWYgKHN3aXBlci5hMTF5LmNsaWNrZWQpIHJldHVybjtcbiAgICBjb25zdCBzbGlkZUVsID0gZS50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgaWYgKCFzbGlkZUVsIHx8ICFzd2lwZXIuc2xpZGVzLmluY2x1ZGVzKHNsaWRlRWwpKSByZXR1cm47XG4gICAgY29uc3QgaXNBY3RpdmUgPSBzd2lwZXIuc2xpZGVzLmluZGV4T2Yoc2xpZGVFbCkgPT09IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICBjb25zdCBpc1Zpc2libGUgPSBzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgJiYgc3dpcGVyLnZpc2libGVTbGlkZXMgJiYgc3dpcGVyLnZpc2libGVTbGlkZXMuaW5jbHVkZXMoc2xpZGVFbCk7XG4gICAgaWYgKGlzQWN0aXZlIHx8IGlzVmlzaWJsZSkgcmV0dXJuO1xuICAgIGlmIChlLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBlLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgc3dpcGVyLmVsLnNjcm9sbExlZnQgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZWwuc2Nyb2xsVG9wID0gMDtcbiAgICB9XG4gICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5pbmRleE9mKHNsaWRlRWwpLCAwKTtcbiAgfTtcbiAgY29uc3QgaW5pdFNsaWRlcyA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgaWYgKHBhcmFtcy5pdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZSkge1xuICAgICAgYWRkRWxSb2xlRGVzY3JpcHRpb24oc3dpcGVyLnNsaWRlcywgcGFyYW1zLml0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5zbGlkZVJvbGUpIHtcbiAgICAgIGFkZEVsUm9sZShzd2lwZXIuc2xpZGVzLCBwYXJhbXMuc2xpZGVSb2xlKTtcbiAgICB9XG4gICAgY29uc3Qgc2xpZGVzTGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgaWYgKHBhcmFtcy5zbGlkZUxhYmVsTWVzc2FnZSkge1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZUVsLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBzbGlkZUluZGV4ID0gc3dpcGVyLnBhcmFtcy5sb29wID8gcGFyc2VJbnQoc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKSA6IGluZGV4O1xuICAgICAgICBjb25zdCBhcmlhTGFiZWxNZXNzYWdlID0gcGFyYW1zLnNsaWRlTGFiZWxNZXNzYWdlLnJlcGxhY2UoL1xce1xce2luZGV4XFx9XFx9Lywgc2xpZGVJbmRleCArIDEpLnJlcGxhY2UoL1xce1xce3NsaWRlc0xlbmd0aFxcfVxcfS8sIHNsaWRlc0xlbmd0aCk7XG4gICAgICAgIGFkZEVsTGFiZWwoc2xpZGVFbCwgYXJpYUxhYmVsTWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5hMTF5O1xuICAgIHN3aXBlci5lbC5hcHBlbmQobGl2ZVJlZ2lvbik7XG5cbiAgICAvLyBDb250YWluZXJcbiAgICBjb25zdCBjb250YWluZXJFbCA9IHN3aXBlci5lbDtcbiAgICBpZiAocGFyYW1zLmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpIHtcbiAgICAgIGFkZEVsUm9sZURlc2NyaXB0aW9uKGNvbnRhaW5lckVsLCBwYXJhbXMuY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZSk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuY29udGFpbmVyTWVzc2FnZSkge1xuICAgICAgYWRkRWxMYWJlbChjb250YWluZXJFbCwgcGFyYW1zLmNvbnRhaW5lck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8vIFdyYXBwZXJcbiAgICBjb25zdCB3cmFwcGVyRWwgPSBzd2lwZXIud3JhcHBlckVsO1xuICAgIGNvbnN0IHdyYXBwZXJJZCA9IHBhcmFtcy5pZCB8fCB3cmFwcGVyRWwuZ2V0QXR0cmlidXRlKCdpZCcpIHx8IGBzd2lwZXItd3JhcHBlci0ke2dldFJhbmRvbU51bWJlcigxNil9YDtcbiAgICBjb25zdCBsaXZlID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheSAmJiBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQgPyAnb2ZmJyA6ICdwb2xpdGUnO1xuICAgIGFkZEVsSWQod3JhcHBlckVsLCB3cmFwcGVySWQpO1xuICAgIGFkZEVsTGl2ZSh3cmFwcGVyRWwsIGxpdmUpO1xuXG4gICAgLy8gU2xpZGVcbiAgICBpbml0U2xpZGVzKCk7XG5cbiAgICAvLyBOYXZpZ2F0aW9uXG4gICAgbGV0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbiA/IHN3aXBlci5uYXZpZ2F0aW9uIDoge307XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGlmIChuZXh0RWwpIHtcbiAgICAgIG5leHRFbC5mb3JFYWNoKGVsID0+IGluaXROYXZFbChlbCwgd3JhcHBlcklkLCBwYXJhbXMubmV4dFNsaWRlTWVzc2FnZSkpO1xuICAgIH1cbiAgICBpZiAocHJldkVsKSB7XG4gICAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBpbml0TmF2RWwoZWwsIHdyYXBwZXJJZCwgcGFyYW1zLnByZXZTbGlkZU1lc3NhZ2UpKTtcbiAgICB9XG5cbiAgICAvLyBQYWdpbmF0aW9uXG4gICAgaWYgKGhhc0NsaWNrYWJsZVBhZ2luYXRpb24oKSkge1xuICAgICAgY29uc3QgcGFnaW5hdGlvbkVsID0gbWFrZUVsZW1lbnRzQXJyYXkoc3dpcGVyLnBhZ2luYXRpb24uZWwpO1xuICAgICAgcGFnaW5hdGlvbkVsLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25FbnRlck9yU3BhY2VLZXkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGFiIGZvY3VzXG4gICAgc3dpcGVyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlRm9jdXMsIHRydWUpO1xuICAgIHN3aXBlci5lbC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGhhbmRsZVBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICBzd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwLCB0cnVlKTtcbiAgfTtcbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAobGl2ZVJlZ2lvbikgbGl2ZVJlZ2lvbi5yZW1vdmUoKTtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uID8gc3dpcGVyLm5hdmlnYXRpb24gOiB7fTtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgaWYgKG5leHRFbCkge1xuICAgICAgbmV4dEVsLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uRW50ZXJPclNwYWNlS2V5KSk7XG4gICAgfVxuICAgIGlmIChwcmV2RWwpIHtcbiAgICAgIHByZXZFbC5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSkpO1xuICAgIH1cblxuICAgIC8vIFBhZ2luYXRpb25cbiAgICBpZiAoaGFzQ2xpY2thYmxlUGFnaW5hdGlvbigpKSB7XG4gICAgICBjb25zdCBwYWdpbmF0aW9uRWwgPSBtYWtlRWxlbWVudHNBcnJheShzd2lwZXIucGFnaW5hdGlvbi5lbCk7XG4gICAgICBwYWdpbmF0aW9uRWwuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBUYWIgZm9jdXNcbiAgICBzd2lwZXIuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgc3dpcGVyLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlUG9pbnRlckRvd24sIHRydWUpO1xuICAgIHN3aXBlci5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVQb2ludGVyVXAsIHRydWUpO1xuICB9XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGxpdmVSZWdpb24gPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgc3dpcGVyLnBhcmFtcy5hMTF5Lm5vdGlmaWNhdGlvbkNsYXNzKTtcbiAgICBsaXZlUmVnaW9uLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgIGxpdmVSZWdpb24uc2V0QXR0cmlidXRlKCdhcmlhLWF0b21pYycsICd0cnVlJyk7XG4gIH0pO1xuICBvbignYWZ0ZXJJbml0JywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICBpbml0KCk7XG4gIH0pO1xuICBvbignc2xpZGVzTGVuZ3RoQ2hhbmdlIHNuYXBHcmlkTGVuZ3RoQ2hhbmdlIHNsaWRlc0dyaWRMZW5ndGhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGluaXRTbGlkZXMoKTtcbiAgfSk7XG4gIG9uKCdmcm9tRWRnZSB0b0VkZ2UgYWZ0ZXJJbml0IGxvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICB1cGRhdGVOYXZpZ2F0aW9uKCk7XG4gIH0pO1xuICBvbigncGFnaW5hdGlvblVwZGF0ZScsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgdXBkYXRlUGFnaW5hdGlvbigpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEExMXkgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGEgYXMgZ2V0V2luZG93IH0gZnJvbSAnLi4vc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5cbmZ1bmN0aW9uIEhpc3RvcnkoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgaGlzdG9yeToge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByb290OiAnJyxcbiAgICAgIHJlcGxhY2VTdGF0ZTogZmFsc2UsXG4gICAgICBrZXk6ICdzbGlkZXMnLFxuICAgICAga2VlcFF1ZXJ5OiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIGxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBsZXQgcGF0aHMgPSB7fTtcbiAgY29uc3Qgc2x1Z2lmeSA9IHRleHQgPT4ge1xuICAgIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csICcnKS5yZXBsYWNlKC8tLSsvZywgJy0nKS5yZXBsYWNlKC9eLSsvLCAnJykucmVwbGFjZSgvLSskLywgJycpO1xuICB9O1xuICBjb25zdCBnZXRQYXRoVmFsdWVzID0gdXJsT3ZlcnJpZGUgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIGxldCBsb2NhdGlvbjtcbiAgICBpZiAodXJsT3ZlcnJpZGUpIHtcbiAgICAgIGxvY2F0aW9uID0gbmV3IFVSTCh1cmxPdmVycmlkZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIH1cbiAgICBjb25zdCBwYXRoQXJyYXkgPSBsb2NhdGlvbi5wYXRobmFtZS5zbGljZSgxKS5zcGxpdCgnLycpLmZpbHRlcihwYXJ0ID0+IHBhcnQgIT09ICcnKTtcbiAgICBjb25zdCB0b3RhbCA9IHBhdGhBcnJheS5sZW5ndGg7XG4gICAgY29uc3Qga2V5ID0gcGF0aEFycmF5W3RvdGFsIC0gMl07XG4gICAgY29uc3QgdmFsdWUgPSBwYXRoQXJyYXlbdG90YWwgLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAga2V5LFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9O1xuICBjb25zdCBzZXRIaXN0b3J5ID0gKGtleSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICBpZiAoIWluaXRpYWxpemVkIHx8ICFzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGxldCBsb2NhdGlvbjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy51cmwpIHtcbiAgICAgIGxvY2F0aW9uID0gbmV3IFVSTChzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIH1cbiAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXNbaW5kZXhdO1xuICAgIGxldCB2YWx1ZSA9IHNsdWdpZnkoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhpc3RvcnknKSk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yb290Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCByb290ID0gc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJvb3Q7XG4gICAgICBpZiAocm9vdFtyb290Lmxlbmd0aCAtIDFdID09PSAnLycpIHJvb3QgPSByb290LnNsaWNlKDAsIHJvb3QubGVuZ3RoIC0gMSk7XG4gICAgICB2YWx1ZSA9IGAke3Jvb3R9LyR7a2V5ID8gYCR7a2V5fS9gIDogJyd9JHt2YWx1ZX1gO1xuICAgIH0gZWxzZSBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHZhbHVlID0gYCR7a2V5ID8gYCR7a2V5fS9gIDogJyd9JHt2YWx1ZX1gO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmtlZXBRdWVyeSkge1xuICAgICAgdmFsdWUgKz0gbG9jYXRpb24uc2VhcmNoO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB3aW5kb3cuaGlzdG9yeS5zdGF0ZTtcbiAgICBpZiAoY3VycmVudFN0YXRlICYmIGN1cnJlbnRTdGF0ZS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgIHZhbHVlXG4gICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7XG4gICAgICAgIHZhbHVlXG4gICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzY3JvbGxUb1NsaWRlID0gKHNwZWVkLCB2YWx1ZSwgcnVuQ2FsbGJhY2tzKSA9PiB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXNbaV07XG4gICAgICAgIGNvbnN0IHNsaWRlSGlzdG9yeSA9IHNsdWdpZnkoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhpc3RvcnknKSk7XG4gICAgICAgIGlmIChzbGlkZUhpc3RvcnkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChzbGlkZSk7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCBydW5DYWxsYmFja3MpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0SGlzdG9yeVBvcFN0YXRlID0gKCkgPT4ge1xuICAgIHBhdGhzID0gZ2V0UGF0aFZhbHVlcyhzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgc2Nyb2xsVG9TbGlkZShzd2lwZXIucGFyYW1zLnNwZWVkLCBwYXRocy52YWx1ZSwgZmFsc2UpO1xuICB9O1xuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oaXN0b3J5KSByZXR1cm47XG4gICAgaWYgKCF3aW5kb3cuaGlzdG9yeSB8fCAhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG4gICAgICBzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHBhdGhzID0gZ2V0UGF0aFZhbHVlcyhzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgaWYgKCFwYXRocy5rZXkgJiYgIXBhdGhzLnZhbHVlKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgc2V0SGlzdG9yeVBvcFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2Nyb2xsVG9TbGlkZSgwLCBwYXRocy52YWx1ZSwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgc2V0SGlzdG9yeVBvcFN0YXRlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBzZXRIaXN0b3J5UG9wU3RhdGUpO1xuICAgIH1cbiAgfTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSB7XG4gICAgICBpbml0KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSB7XG4gICAgICBkZXN0cm95KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25FbmQgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnLCAoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgICBzZXRIaXN0b3J5KHN3aXBlci5wYXJhbXMuaGlzdG9yeS5rZXksIHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3NsaWRlQ2hhbmdlJywgKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHNldEhpc3Rvcnkoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmtleSwgc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgeyBIaXN0b3J5IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBnIGFzIGdldERvY3VtZW50LCBhIGFzIGdldFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gSGFzaE5hdmlnYXRpb24oX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgZW1pdCxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgaGFzaE5hdmlnYXRpb246IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgcmVwbGFjZVN0YXRlOiBmYWxzZSxcbiAgICAgIHdhdGNoU3RhdGU6IGZhbHNlLFxuICAgICAgZ2V0U2xpZGVJbmRleChfcywgaGFzaCkge1xuICAgICAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZVdpdGhIYXNoID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1oYXNoJykgPT09IGhhc2gpWzBdO1xuICAgICAgICAgIGlmICghc2xpZGVXaXRoSGFzaCkgcmV0dXJuIDA7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChzbGlkZVdpdGhIYXNoLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWxlbWVudENoaWxkcmVuKHN3aXBlci5zbGlkZXNFbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31bZGF0YS1oYXNoPVwiJHtoYXNofVwiXSwgc3dpcGVyLXNsaWRlW2RhdGEtaGFzaD1cIiR7aGFzaH1cIl1gKVswXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgb25IYXNoQ2hhbmdlID0gKCkgPT4ge1xuICAgIGVtaXQoJ2hhc2hDaGFuZ2UnKTtcbiAgICBjb25zdCBuZXdIYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgIGNvbnN0IGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci5zbGlkZXNFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3N3aXBlci5hY3RpdmVJbmRleH1cIl1gKSA6IHN3aXBlci5zbGlkZXNbc3dpcGVyLmFjdGl2ZUluZGV4XTtcbiAgICBjb25zdCBhY3RpdmVTbGlkZUhhc2ggPSBhY3RpdmVTbGlkZUVsID8gYWN0aXZlU2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzaCcpIDogJyc7XG4gICAgaWYgKG5ld0hhc2ggIT09IGFjdGl2ZVNsaWRlSGFzaCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmdldFNsaWRlSW5kZXgoc3dpcGVyLCBuZXdIYXNoKTtcbiAgICAgIGlmICh0eXBlb2YgbmV3SW5kZXggPT09ICd1bmRlZmluZWQnIHx8IE51bWJlci5pc05hTihuZXdJbmRleCkpIHJldHVybjtcbiAgICAgIHN3aXBlci5zbGlkZVRvKG5ld0luZGV4KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldEhhc2ggPSAoKSA9PiB7XG4gICAgaWYgKCFpbml0aWFsaXplZCB8fCAhc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSByZXR1cm47XG4gICAgY29uc3QgYWN0aXZlU2xpZGVFbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnNsaWRlc0VsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c3dpcGVyLmFjdGl2ZUluZGV4fVwiXWApIDogc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuICAgIGNvbnN0IGFjdGl2ZVNsaWRlSGFzaCA9IGFjdGl2ZVNsaWRlRWwgPyBhY3RpdmVTbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1oYXNoJykgfHwgYWN0aXZlU2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGlzdG9yeScpIDogJyc7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24ucmVwbGFjZVN0YXRlICYmIHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIGAjJHthY3RpdmVTbGlkZUhhc2h9YCB8fCAnJyk7XG4gICAgICBlbWl0KCdoYXNoU2V0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPSBhY3RpdmVTbGlkZUhhc2ggfHwgJyc7XG4gICAgICBlbWl0KCdoYXNoU2V0Jyk7XG4gICAgfVxuICB9O1xuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkIHx8IHN3aXBlci5wYXJhbXMuaGlzdG9yeSAmJiBzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBjb25zdCBoYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgIGlmIChoYXNoKSB7XG4gICAgICBjb25zdCBzcGVlZCA9IDA7XG4gICAgICBjb25zdCBpbmRleCA9IHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZ2V0U2xpZGVJbmRleChzd2lwZXIsIGhhc2gpO1xuICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXggfHwgMCwgc3BlZWQsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBvbkhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZGVzdHJveSA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi53YXRjaFN0YXRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIG9uSGFzaENoYW5nZSk7XG4gICAgfVxuICB9O1xuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSB7XG4gICAgICBpbml0KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgc2V0SGFzaCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbGlkZUNoYW5nZScsICgpID0+IHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzZXRIYXNoKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IHsgSGFzaE5hdmlnYXRpb24gYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzJztcblxuLyogZXNsaW50IG5vLXVuZGVyc2NvcmUtZGFuZ2xlOiBcIm9mZlwiICovXG4vKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIEF1dG9wbGF5KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXQsXG4gICAgcGFyYW1zXG4gIH0gPSBfcmVmO1xuICBzd2lwZXIuYXV0b3BsYXkgPSB7XG4gICAgcnVubmluZzogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICB0aW1lTGVmdDogMFxuICB9O1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGF1dG9wbGF5OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIGRlbGF5OiAzMDAwLFxuICAgICAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICBzdG9wT25MYXN0U2xpZGU6IGZhbHNlLFxuICAgICAgcmV2ZXJzZURpcmVjdGlvbjogZmFsc2UsXG4gICAgICBwYXVzZU9uTW91c2VFbnRlcjogZmFsc2VcbiAgICB9XG4gIH0pO1xuICBsZXQgdGltZW91dDtcbiAgbGV0IHJhZjtcbiAgbGV0IGF1dG9wbGF5RGVsYXlUb3RhbCA9IHBhcmFtcyAmJiBwYXJhbXMuYXV0b3BsYXkgPyBwYXJhbXMuYXV0b3BsYXkuZGVsYXkgOiAzMDAwO1xuICBsZXQgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBwYXJhbXMgJiYgcGFyYW1zLmF1dG9wbGF5ID8gcGFyYW1zLmF1dG9wbGF5LmRlbGF5IDogMzAwMDtcbiAgbGV0IGF1dG9wbGF5VGltZUxlZnQ7XG4gIGxldCBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBsZXQgd2FzUGF1c2VkO1xuICBsZXQgaXNUb3VjaGVkO1xuICBsZXQgcGF1c2VkQnlUb3VjaDtcbiAgbGV0IHRvdWNoU3RhcnRUaW1lb3V0O1xuICBsZXQgc2xpZGVDaGFuZ2VkO1xuICBsZXQgcGF1c2VkQnlJbnRlcmFjdGlvbjtcbiAgbGV0IHBhdXNlZEJ5UG9pbnRlckVudGVyO1xuICBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoZSkge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci53cmFwcGVyRWwpIHJldHVybjtcbiAgICBpZiAoZS50YXJnZXQgIT09IHN3aXBlci53cmFwcGVyRWwpIHJldHVybjtcbiAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvblRyYW5zaXRpb25FbmQpO1xuICAgIGlmIChwYXVzZWRCeVBvaW50ZXJFbnRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXN1bWUoKTtcbiAgfVxuICBjb25zdCBjYWxjVGltZUxlZnQgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgIHdhc1BhdXNlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh3YXNQYXVzZWQpIHtcbiAgICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gYXV0b3BsYXlUaW1lTGVmdDtcbiAgICAgIHdhc1BhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0aW1lTGVmdCA9IHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPyBhdXRvcGxheVRpbWVMZWZ0IDogYXV0b3BsYXlTdGFydFRpbWUgKyBhdXRvcGxheURlbGF5Q3VycmVudCAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHN3aXBlci5hdXRvcGxheS50aW1lTGVmdCA9IHRpbWVMZWZ0O1xuICAgIGVtaXQoJ2F1dG9wbGF5VGltZUxlZnQnLCB0aW1lTGVmdCwgdGltZUxlZnQgLyBhdXRvcGxheURlbGF5VG90YWwpO1xuICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBjYWxjVGltZUxlZnQoKTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ2V0U2xpZGVEZWxheSA9ICgpID0+IHtcbiAgICBsZXQgYWN0aXZlU2xpZGVFbDtcbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtYWN0aXZlJykpWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuICAgIH1cbiAgICBpZiAoIWFjdGl2ZVNsaWRlRWwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY3VycmVudFNsaWRlRGVsYXkgPSBwYXJzZUludChhY3RpdmVTbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItYXV0b3BsYXknKSwgMTApO1xuICAgIHJldHVybiBjdXJyZW50U2xpZGVEZWxheTtcbiAgfTtcbiAgY29uc3QgcnVuID0gZGVsYXlGb3JjZSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICBjYWxjVGltZUxlZnQoKTtcbiAgICBsZXQgZGVsYXkgPSB0eXBlb2YgZGVsYXlGb3JjZSA9PT0gJ3VuZGVmaW5lZCcgPyBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5IDogZGVsYXlGb3JjZTtcbiAgICBhdXRvcGxheURlbGF5VG90YWwgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICBjb25zdCBjdXJyZW50U2xpZGVEZWxheSA9IGdldFNsaWRlRGVsYXkoKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihjdXJyZW50U2xpZGVEZWxheSkgJiYgY3VycmVudFNsaWRlRGVsYXkgPiAwICYmIHR5cGVvZiBkZWxheUZvcmNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVsYXkgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICAgIGF1dG9wbGF5RGVsYXlUb3RhbCA9IGN1cnJlbnRTbGlkZURlbGF5O1xuICAgICAgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICB9XG4gICAgYXV0b3BsYXlUaW1lTGVmdCA9IGRlbGF5O1xuICAgIGNvbnN0IHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgICBjb25zdCBwcm9jZWVkID0gKCkgPT4ge1xuICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbikge1xuICAgICAgICBpZiAoIXN3aXBlci5pc0JlZ2lubmluZyB8fCBzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVQcmV2KHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghc3dpcGVyLmlzRW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCB8fCBzd2lwZXIucGFyYW1zLnJld2luZCkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZU5leHQoc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuc3RvcE9uTGFzdFNsaWRlKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgYXV0b3BsYXlTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBydW4oKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHByb2NlZWQoKTtcbiAgICAgIH0sIGRlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcHJvY2VlZCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgcmV0dXJuIGRlbGF5O1xuICB9O1xuICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gdHJ1ZTtcbiAgICBydW4oKTtcbiAgICBlbWl0KCdhdXRvcGxheVN0YXJ0Jyk7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICBlbWl0KCdhdXRvcGxheVN0b3AnKTtcbiAgfTtcbiAgY29uc3QgcGF1c2UgPSAoaW50ZXJuYWwsIHJlc2V0KSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBwcm9jZWVkID0gKCkgPT4ge1xuICAgICAgZW1pdCgnYXV0b3BsYXlQYXVzZScpO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkud2FpdEZvclRyYW5zaXRpb24pIHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IHRydWU7XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBpZiAoc2xpZGVDaGFuZ2VkKSB7XG4gICAgICAgIGF1dG9wbGF5VGltZUxlZnQgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgICAgfVxuICAgICAgc2xpZGVDaGFuZ2VkID0gZmFsc2U7XG4gICAgICBwcm9jZWVkKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlbGF5ID0gYXV0b3BsYXlUaW1lTGVmdCB8fCBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgIGF1dG9wbGF5VGltZUxlZnQgPSBkZWxheSAtIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGF1dG9wbGF5U3RhcnRUaW1lKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmIGF1dG9wbGF5VGltZUxlZnQgPCAwICYmICFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgICBpZiAoYXV0b3BsYXlUaW1lTGVmdCA8IDApIGF1dG9wbGF5VGltZUxlZnQgPSAwO1xuICAgIHByb2NlZWQoKTtcbiAgfTtcbiAgY29uc3QgcmVzdW1lID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgYXV0b3BsYXlUaW1lTGVmdCA8IDAgJiYgIXN3aXBlci5wYXJhbXMubG9vcCB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKHBhdXNlZEJ5SW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSBmYWxzZTtcbiAgICAgIHJ1bihhdXRvcGxheVRpbWVMZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcnVuKCk7XG4gICAgfVxuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICBlbWl0KCdhdXRvcGxheVJlc3VtZScpO1xuICB9O1xuICBjb25zdCBvblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICAgIHBhdXNlKHRydWUpO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHtcbiAgICAgIHJlc3VtZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb25Qb2ludGVyRW50ZXIgPSBlID0+IHtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJykgcmV0dXJuO1xuICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgIHBhdXNlZEJ5UG9pbnRlckVudGVyID0gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZyB8fCBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSByZXR1cm47XG4gICAgcGF1c2UodHJ1ZSk7XG4gIH07XG4gIGNvbnN0IG9uUG9pbnRlckxlYXZlID0gZSA9PiB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScpIHJldHVybjtcbiAgICBwYXVzZWRCeVBvaW50ZXJFbnRlciA9IGZhbHNlO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgICByZXN1bWUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGF0dGFjaE1vdXNlRXZlbnRzID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnBhdXNlT25Nb3VzZUVudGVyKSB7XG4gICAgICBzd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgb25Qb2ludGVyRW50ZXIpO1xuICAgICAgc3dpcGVyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIG9uUG9pbnRlckxlYXZlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRldGFjaE1vdXNlRXZlbnRzID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCBvblBvaW50ZXJFbnRlcik7XG4gICAgc3dpcGVyLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIG9uUG9pbnRlckxlYXZlKTtcbiAgfTtcbiAgY29uc3QgYXR0YWNoRG9jdW1lbnRFdmVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICB9O1xuICBjb25zdCBkZXRhY2hEb2N1bWVudEV2ZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH07XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQpIHtcbiAgICAgIGF0dGFjaE1vdXNlRXZlbnRzKCk7XG4gICAgICBhdHRhY2hEb2N1bWVudEV2ZW50cygpO1xuICAgICAgc3RhcnQoKTtcbiAgICB9XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkZXRhY2hNb3VzZUV2ZW50cygpO1xuICAgIGRldGFjaERvY3VtZW50RXZlbnRzKCk7XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ19mcmVlTW9kZVN0YXRpY1JlbGVhc2UnLCAoKSA9PiB7XG4gICAgaWYgKHBhdXNlZEJ5VG91Y2ggfHwgcGF1c2VkQnlJbnRlcmFjdGlvbikge1xuICAgICAgcmVzdW1lKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ19mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgcGF1c2UodHJ1ZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3AoKTtcbiAgICB9XG4gIH0pO1xuICBvbignYmVmb3JlVHJhbnNpdGlvblN0YXJ0JywgKF9zLCBzcGVlZCwgaW50ZXJuYWwpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoaW50ZXJuYWwgfHwgIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlKHRydWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3NsaWRlckZpcnN0TW92ZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgc3RvcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc1RvdWNoZWQgPSB0cnVlO1xuICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gZmFsc2U7XG4gICAgdG91Y2hTdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgICAgcGF1c2VkQnlUb3VjaCA9IHRydWU7XG4gICAgICBwYXVzZSh0cnVlKTtcbiAgICB9LCAyMDApO1xuICB9KTtcbiAgb24oJ3RvdWNoRW5kJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZyB8fCAhaXNUb3VjaGVkKSByZXR1cm47XG4gICAgY2xlYXJUaW1lb3V0KHRvdWNoU3RhcnRUaW1lb3V0KTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICAgIGlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGF1c2VkQnlUb3VjaCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHJlc3VtZSgpO1xuICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICBpc1RvdWNoZWQgPSBmYWxzZTtcbiAgfSk7XG4gIG9uKCdzbGlkZUNoYW5nZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBzbGlkZUNoYW5nZWQgPSB0cnVlO1xuICB9KTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIuYXV0b3BsYXksIHtcbiAgICBzdGFydCxcbiAgICBzdG9wLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9KTtcbn1cblxuZXhwb3J0IHsgQXV0b3BsYXkgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGsgYXMgaXNPYmplY3QsIGUgYXMgZWxlbWVudENoaWxkcmVuIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIFRodW1iKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIHRodW1iczoge1xuICAgICAgc3dpcGVyOiBudWxsLFxuICAgICAgbXVsdGlwbGVBY3RpdmVUaHVtYnM6IHRydWUsXG4gICAgICBhdXRvU2Nyb2xsT2Zmc2V0OiAwLFxuICAgICAgc2xpZGVUaHVtYkFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXRodW1iLWFjdGl2ZScsXG4gICAgICB0aHVtYnNDb250YWluZXJDbGFzczogJ3N3aXBlci10aHVtYnMnXG4gICAgfVxuICB9KTtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGxldCBzd2lwZXJDcmVhdGVkID0gZmFsc2U7XG4gIHN3aXBlci50aHVtYnMgPSB7XG4gICAgc3dpcGVyOiBudWxsXG4gIH07XG4gIGZ1bmN0aW9uIG9uVGh1bWJDbGljaygpIHtcbiAgICBjb25zdCB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlciB8fCB0aHVtYnNTd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgY29uc3QgY2xpY2tlZEluZGV4ID0gdGh1bWJzU3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgICBjb25zdCBjbGlja2VkU2xpZGUgPSB0aHVtYnNTd2lwZXIuY2xpY2tlZFNsaWRlO1xuICAgIGlmIChjbGlja2VkU2xpZGUgJiYgY2xpY2tlZFNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhzd2lwZXIucGFyYW1zLnRodW1icy5zbGlkZVRodW1iQWN0aXZlQ2xhc3MpKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBjbGlja2VkSW5kZXggPT09ICd1bmRlZmluZWQnIHx8IGNsaWNrZWRJbmRleCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGxldCBzbGlkZVRvSW5kZXg7XG4gICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc2xpZGVUb0luZGV4ID0gcGFyc2VJbnQodGh1bWJzU3dpcGVyLmNsaWNrZWRTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVUb0luZGV4ID0gY2xpY2tlZEluZGV4O1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0xvb3Aoc2xpZGVUb0luZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCB7XG4gICAgICB0aHVtYnM6IHRodW1ic1BhcmFtc1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGlmIChpbml0aWFsaXplZCkgcmV0dXJuIGZhbHNlO1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBjb25zdCBTd2lwZXJDbGFzcyA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcbiAgICBpZiAodGh1bWJzUGFyYW1zLnN3aXBlciBpbnN0YW5jZW9mIFN3aXBlckNsYXNzKSB7XG4gICAgICBzd2lwZXIudGh1bWJzLnN3aXBlciA9IHRodW1ic1BhcmFtcy5zd2lwZXI7XG4gICAgICBPYmplY3QuYXNzaWduKHN3aXBlci50aHVtYnMuc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnRodW1icy5zd2lwZXIucGFyYW1zLCB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyLnVwZGF0ZSgpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodGh1bWJzUGFyYW1zLnN3aXBlcikpIHtcbiAgICAgIGNvbnN0IHRodW1ic1N3aXBlclBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHRodW1ic1BhcmFtcy5zd2lwZXIpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aHVtYnNTd2lwZXJQYXJhbXMsIHtcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXIgPSBuZXcgU3dpcGVyQ2xhc3ModGh1bWJzU3dpcGVyUGFyYW1zKTtcbiAgICAgIHN3aXBlckNyZWF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzd2lwZXIudGh1bWJzLnN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5wYXJhbXMudGh1bWJzLnRodW1ic0NvbnRhaW5lckNsYXNzKTtcbiAgICBzd2lwZXIudGh1bWJzLnN3aXBlci5vbigndGFwJywgb25UaHVtYkNsaWNrKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoaW5pdGlhbCkge1xuICAgIGNvbnN0IHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyIHx8IHRodW1ic1N3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyB0aHVtYnNTd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcblxuICAgIC8vIEFjdGl2YXRlIHRodW1ic1xuICAgIGxldCB0aHVtYnNUb0FjdGl2YXRlID0gMTtcbiAgICBjb25zdCB0aHVtYkFjdGl2ZUNsYXNzID0gc3dpcGVyLnBhcmFtcy50aHVtYnMuc2xpZGVUaHVtYkFjdGl2ZUNsYXNzO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICB0aHVtYnNUb0FjdGl2YXRlID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5wYXJhbXMudGh1bWJzLm11bHRpcGxlQWN0aXZlVGh1bWJzKSB7XG4gICAgICB0aHVtYnNUb0FjdGl2YXRlID0gMTtcbiAgICB9XG4gICAgdGh1bWJzVG9BY3RpdmF0ZSA9IE1hdGguZmxvb3IodGh1bWJzVG9BY3RpdmF0ZSk7XG4gICAgdGh1bWJzU3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4gc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKHRodW1iQWN0aXZlQ2xhc3MpKTtcbiAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wIHx8IHRodW1ic1N3aXBlci5wYXJhbXMudmlydHVhbCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aHVtYnNUb0FjdGl2YXRlOyBpICs9IDEpIHtcbiAgICAgICAgZWxlbWVudENoaWxkcmVuKHRodW1ic1N3aXBlci5zbGlkZXNFbCwgYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c3dpcGVyLnJlYWxJbmRleCArIGl9XCJdYCkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICBzbGlkZUVsLmNsYXNzTGlzdC5hZGQodGh1bWJBY3RpdmVDbGFzcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRodW1ic1RvQWN0aXZhdGU7IGkgKz0gMSkge1xuICAgICAgICBpZiAodGh1bWJzU3dpcGVyLnNsaWRlc1tzd2lwZXIucmVhbEluZGV4ICsgaV0pIHtcbiAgICAgICAgICB0aHVtYnNTd2lwZXIuc2xpZGVzW3N3aXBlci5yZWFsSW5kZXggKyBpXS5jbGFzc0xpc3QuYWRkKHRodW1iQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGF1dG9TY3JvbGxPZmZzZXQgPSBzd2lwZXIucGFyYW1zLnRodW1icy5hdXRvU2Nyb2xsT2Zmc2V0O1xuICAgIGNvbnN0IHVzZU9mZnNldCA9IGF1dG9TY3JvbGxPZmZzZXQgJiYgIXRodW1ic1N3aXBlci5wYXJhbXMubG9vcDtcbiAgICBpZiAoc3dpcGVyLnJlYWxJbmRleCAhPT0gdGh1bWJzU3dpcGVyLnJlYWxJbmRleCB8fCB1c2VPZmZzZXQpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgIGxldCBuZXdUaHVtYnNJbmRleDtcbiAgICAgIGxldCBkaXJlY3Rpb247XG4gICAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgIGNvbnN0IG5ld1RodW1ic1NsaWRlID0gdGh1bWJzU3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSA9PT0gYCR7c3dpcGVyLnJlYWxJbmRleH1gKVswXTtcbiAgICAgICAgbmV3VGh1bWJzSW5kZXggPSB0aHVtYnNTd2lwZXIuc2xpZGVzLmluZGV4T2YobmV3VGh1bWJzU2xpZGUpO1xuICAgICAgICBkaXJlY3Rpb24gPSBzd2lwZXIuYWN0aXZlSW5kZXggPiBzd2lwZXIucHJldmlvdXNJbmRleCA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RodW1ic0luZGV4ID0gc3dpcGVyLnJlYWxJbmRleDtcbiAgICAgICAgZGlyZWN0aW9uID0gbmV3VGh1bWJzSW5kZXggPiBzd2lwZXIucHJldmlvdXNJbmRleCA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgIH1cbiAgICAgIGlmICh1c2VPZmZzZXQpIHtcbiAgICAgICAgbmV3VGh1bWJzSW5kZXggKz0gZGlyZWN0aW9uID09PSAnbmV4dCcgPyBhdXRvU2Nyb2xsT2Zmc2V0IDogLTEgKiBhdXRvU2Nyb2xsT2Zmc2V0O1xuICAgICAgfVxuICAgICAgaWYgKHRodW1ic1N3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyAmJiB0aHVtYnNTd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMuaW5kZXhPZihuZXdUaHVtYnNJbmRleCkgPCAwKSB7XG4gICAgICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgICAgaWYgKG5ld1RodW1ic0luZGV4ID4gY3VycmVudFRodW1ic0luZGV4KSB7XG4gICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4IC0gTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4ICsgTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXdUaHVtYnNJbmRleCA+IGN1cnJlbnRUaHVtYnNJbmRleCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxKSA7XG4gICAgICAgIHRodW1ic1N3aXBlci5zbGlkZVRvKG5ld1RodW1ic0luZGV4LCBpbml0aWFsID8gMCA6IHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRodW1ic1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGlmICghdGh1bWJzIHx8ICF0aHVtYnMuc3dpcGVyKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiB0aHVtYnMuc3dpcGVyID09PSAnc3RyaW5nJyB8fCB0aHVtYnMuc3dpcGVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgIGNvbnN0IGdldFRodW1ic0VsZW1lbnRBbmRJbml0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0aHVtYnNFbGVtZW50ID0gdHlwZW9mIHRodW1icy5zd2lwZXIgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aHVtYnMuc3dpcGVyKSA6IHRodW1icy5zd2lwZXI7XG4gICAgICAgIGlmICh0aHVtYnNFbGVtZW50ICYmIHRodW1ic0VsZW1lbnQuc3dpcGVyKSB7XG4gICAgICAgICAgdGh1bWJzLnN3aXBlciA9IHRodW1ic0VsZW1lbnQuc3dpcGVyO1xuICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGh1bWJzRWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IG9uVGh1bWJzU3dpcGVyID0gZSA9PiB7XG4gICAgICAgICAgICB0aHVtYnMuc3dpcGVyID0gZS5kZXRhaWxbMF07XG4gICAgICAgICAgICB0aHVtYnNFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2luaXQnLCBvblRodW1ic1N3aXBlcik7XG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aHVtYnMuc3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgc3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGh1bWJzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbml0Jywgb25UaHVtYnNTd2lwZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aHVtYnNFbGVtZW50O1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHdhdGNoRm9yVGh1bWJzVG9BcHBlYXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRodW1ic0VsZW1lbnQgPSBnZXRUaHVtYnNFbGVtZW50QW5kSW5pdCgpO1xuICAgICAgICBpZiAoIXRodW1ic0VsZW1lbnQpIHtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2F0Y2hGb3JUaHVtYnNUb0FwcGVhcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2F0Y2hGb3JUaHVtYnNUb0FwcGVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIHVwZGF0ZSh0cnVlKTtcbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UgdXBkYXRlIHJlc2l6ZSBvYnNlcnZlclVwZGF0ZScsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIGNvbnN0IHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyIHx8IHRodW1ic1N3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICB0aHVtYnNTd2lwZXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0pO1xuICBvbignYmVmb3JlRGVzdHJveScsICgpID0+IHtcbiAgICBjb25zdCB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlciB8fCB0aHVtYnNTd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgaWYgKHN3aXBlckNyZWF0ZWQpIHtcbiAgICAgIHRodW1ic1N3aXBlci5kZXN0cm95KCk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIudGh1bWJzLCB7XG4gICAgaW5pdCxcbiAgICB1cGRhdGVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFRodW1iIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBkIGFzIG5vdywgaiBhcyBlbGVtZW50VHJhbnNpdGlvbkVuZCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBmcmVlTW9kZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBlbWl0LFxuICAgIG9uY2VcbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgZnJlZU1vZGU6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgbW9tZW50dW06IHRydWUsXG4gICAgICBtb21lbnR1bVJhdGlvOiAxLFxuICAgICAgbW9tZW50dW1Cb3VuY2U6IHRydWUsXG4gICAgICBtb21lbnR1bUJvdW5jZVJhdGlvOiAxLFxuICAgICAgbW9tZW50dW1WZWxvY2l0eVJhdGlvOiAxLFxuICAgICAgc3RpY2t5OiBmYWxzZSxcbiAgICAgIG1pbmltdW1WZWxvY2l0eTogMC4wMlxuICAgIH1cbiAgfSk7XG4gIGZ1bmN0aW9uIG9uVG91Y2hTdGFydCgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gICAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnZlbG9jaXRpZXMubGVuZ3RoID0gMDtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaEVuZCh7XG4gICAgICBjdXJyZW50UG9zOiBzd2lwZXIucnRsID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb25Ub3VjaE1vdmUoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHRvdWNoRXZlbnRzRGF0YTogZGF0YSxcbiAgICAgIHRvdWNoZXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIC8vIFZlbG9jaXR5XG4gICAgaWYgKGRhdGEudmVsb2NpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRhdGEudmVsb2NpdGllcy5wdXNoKHtcbiAgICAgICAgcG9zaXRpb246IHRvdWNoZXNbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3N0YXJ0WCcgOiAnc3RhcnRZJ10sXG4gICAgICAgIHRpbWU6IGRhdGEudG91Y2hTdGFydFRpbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRhLnZlbG9jaXRpZXMucHVzaCh7XG4gICAgICBwb3NpdGlvbjogdG91Y2hlc1tzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnY3VycmVudFgnIDogJ2N1cnJlbnRZJ10sXG4gICAgICB0aW1lOiBub3coKVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIG9uVG91Y2hFbmQoX3JlZjIpIHtcbiAgICBsZXQge1xuICAgICAgY3VycmVudFBvc1xuICAgIH0gPSBfcmVmMjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgcGFyYW1zLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgICBzbmFwR3JpZCxcbiAgICAgIHRvdWNoRXZlbnRzRGF0YTogZGF0YVxuICAgIH0gPSBzd2lwZXI7XG4gICAgLy8gVGltZSBkaWZmXG4gICAgY29uc3QgdG91Y2hFbmRUaW1lID0gbm93KCk7XG4gICAgY29uc3QgdGltZURpZmYgPSB0b3VjaEVuZFRpbWUgLSBkYXRhLnRvdWNoU3RhcnRUaW1lO1xuICAgIGlmIChjdXJyZW50UG9zIDwgLXN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQb3MgPiAtc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlcy5sZW5ndGggPCBzbmFwR3JpZC5sZW5ndGgpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtKSB7XG4gICAgICBpZiAoZGF0YS52ZWxvY2l0aWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgbGFzdE1vdmVFdmVudCA9IGRhdGEudmVsb2NpdGllcy5wb3AoKTtcbiAgICAgICAgY29uc3QgdmVsb2NpdHlFdmVudCA9IGRhdGEudmVsb2NpdGllcy5wb3AoKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBsYXN0TW92ZUV2ZW50LnBvc2l0aW9uIC0gdmVsb2NpdHlFdmVudC5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgdGltZSA9IGxhc3RNb3ZlRXZlbnQudGltZSAtIHZlbG9jaXR5RXZlbnQudGltZTtcbiAgICAgICAgc3dpcGVyLnZlbG9jaXR5ID0gZGlzdGFuY2UgLyB0aW1lO1xuICAgICAgICBzd2lwZXIudmVsb2NpdHkgLz0gMjtcbiAgICAgICAgaWYgKE1hdGguYWJzKHN3aXBlci52ZWxvY2l0eSkgPCBwYXJhbXMuZnJlZU1vZGUubWluaW11bVZlbG9jaXR5KSB7XG4gICAgICAgICAgc3dpcGVyLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBhIGZpbmdlciB0aGVuIHJlbGVhc2VkLlxuICAgICAgICAvLyBUaGVyZSB3b3VsZCBiZSBubyBldmVudHMgd2l0aCBkaXN0YW5jZSB6ZXJvLCBzbyB0aGUgbGFzdCBldmVudCBpcyBzdGFsZS5cbiAgICAgICAgaWYgKHRpbWUgPiAxNTAgfHwgbm93KCkgLSBsYXN0TW92ZUV2ZW50LnRpbWUgPiAzMDApIHtcbiAgICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgfVxuICAgICAgc3dpcGVyLnZlbG9jaXR5ICo9IHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bVZlbG9jaXR5UmF0aW87XG4gICAgICBkYXRhLnZlbG9jaXRpZXMubGVuZ3RoID0gMDtcbiAgICAgIGxldCBtb21lbnR1bUR1cmF0aW9uID0gMTAwMCAqIHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bVJhdGlvO1xuICAgICAgY29uc3QgbW9tZW50dW1EaXN0YW5jZSA9IHN3aXBlci52ZWxvY2l0eSAqIG1vbWVudHVtRHVyYXRpb247XG4gICAgICBsZXQgbmV3UG9zaXRpb24gPSBzd2lwZXIudHJhbnNsYXRlICsgbW9tZW50dW1EaXN0YW5jZTtcbiAgICAgIGlmIChydGwpIG5ld1Bvc2l0aW9uID0gLW5ld1Bvc2l0aW9uO1xuICAgICAgbGV0IGRvQm91bmNlID0gZmFsc2U7XG4gICAgICBsZXQgYWZ0ZXJCb3VuY2VQb3NpdGlvbjtcbiAgICAgIGNvbnN0IGJvdW5jZUFtb3VudCA9IE1hdGguYWJzKHN3aXBlci52ZWxvY2l0eSkgKiAyMCAqIHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZVJhdGlvO1xuICAgICAgbGV0IG5lZWRzTG9vcEZpeDtcbiAgICAgIGlmIChuZXdQb3NpdGlvbiA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlKSB7XG4gICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uICsgc3dpcGVyLm1heFRyYW5zbGF0ZSgpIDwgLWJvdW5jZUFtb3VudCkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBib3VuY2VBbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQm91bmNlUG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgICAgZG9Cb3VuY2UgPSB0cnVlO1xuICAgICAgICAgIGRhdGEuYWxsb3dNb21lbnR1bUJvdW5jZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAobmV3UG9zaXRpb24gPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZSkge1xuICAgICAgICAgIGlmIChuZXdQb3NpdGlvbiAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSA+IGJvdW5jZUFtb3VudCkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgKyBib3VuY2VBbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQm91bmNlUG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgICAgZG9Cb3VuY2UgPSB0cnVlO1xuICAgICAgICAgIGRhdGEuYWxsb3dNb21lbnR1bUJvdW5jZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmZyZWVNb2RlLnN0aWNreSkge1xuICAgICAgICBsZXQgbmV4dFNsaWRlO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNuYXBHcmlkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgaWYgKHNuYXBHcmlkW2pdID4gLW5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICBuZXh0U2xpZGUgPSBqO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhzbmFwR3JpZFtuZXh0U2xpZGVdIC0gbmV3UG9zaXRpb24pIDwgTWF0aC5hYnMoc25hcEdyaWRbbmV4dFNsaWRlIC0gMV0gLSBuZXdQb3NpdGlvbikgfHwgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IHNuYXBHcmlkW25leHRTbGlkZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzbmFwR3JpZFtuZXh0U2xpZGUgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBuZXdQb3NpdGlvbiA9IC1uZXdQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkc0xvb3BGaXgpIHtcbiAgICAgICAgb25jZSgndHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEZpeCBkdXJhdGlvblxuICAgICAgaWYgKHN3aXBlci52ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICBpZiAocnRsKSB7XG4gICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGguYWJzKCgtbmV3UG9zaXRpb24gLSBzd2lwZXIudHJhbnNsYXRlKSAvIHN3aXBlci52ZWxvY2l0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGguYWJzKChuZXdQb3NpdGlvbiAtIHN3aXBlci50cmFuc2xhdGUpIC8gc3dpcGVyLnZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLnN0aWNreSkge1xuICAgICAgICAgIC8vIElmIGZyZWVNb2RlLnN0aWNreSBpcyBhY3RpdmUgYW5kIHRoZSB1c2VyIGVuZHMgYSBzd2lwZSB3aXRoIGEgc2xvdy12ZWxvY2l0eVxuICAgICAgICAgIC8vIGV2ZW50LCB0aGVuIGR1cmF0aW9ucyBjYW4gYmUgMjArIHNlY29uZHMgdG8gc2xpZGUgb25lIChvciB6ZXJvISkgc2xpZGVzLlxuICAgICAgICAgIC8vIEl0J3MgZWFzeSB0byBzZWUgdGhpcyB3aGVuIHNpbXVsYXRpbmcgdG91Y2ggd2l0aCBtb3VzZSBldmVudHMuIFRvIGZpeCB0aGlzLFxuICAgICAgICAgIC8vIGxpbWl0IHNpbmdsZS1zbGlkZSBzd2lwZXMgdG8gdGhlIGRlZmF1bHQgc2xpZGUgZHVyYXRpb24uIFRoaXMgYWxzbyBoYXMgdGhlXG4gICAgICAgICAgLy8gbmljZSBzaWRlIGVmZmVjdCBvZiBtYXRjaGluZyBzbGlkZSBzcGVlZCBpZiB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBiZWZvcmVcbiAgICAgICAgICAvLyBsaWZ0aW5nIGZpbmdlciBvciBtb3VzZSB2cy4gbW92aW5nIHNsb3dseSBiZWZvcmUgbGlmdGluZyB0aGUgZmluZ2VyL21vdXNlLlxuICAgICAgICAgIC8vIEZvciBmYXN0ZXIgc3dpcGVzLCBhbHNvIGFwcGx5IGxpbWl0cyAoYWxiZWl0IGhpZ2hlciBvbmVzKS5cbiAgICAgICAgICBjb25zdCBtb3ZlRGlzdGFuY2UgPSBNYXRoLmFicygocnRsID8gLW5ld1Bvc2l0aW9uIDogbmV3UG9zaXRpb24pIC0gc3dpcGVyLnRyYW5zbGF0ZSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFNsaWRlU2l6ZSA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLmFjdGl2ZUluZGV4XTtcbiAgICAgICAgICBpZiAobW92ZURpc3RhbmNlIDwgY3VycmVudFNsaWRlU2l6ZSkge1xuICAgICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IHBhcmFtcy5zcGVlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVEaXN0YW5jZSA8IDIgKiBjdXJyZW50U2xpZGVTaXplKSB7XG4gICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkICogMS41O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkICogMi41O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvQ2xvc2VzdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlICYmIGRvQm91bmNlKSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhhZnRlckJvdW5jZVBvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3UG9zaXRpb24pO1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHRydWUsIHN3aXBlci5zd2lwZURpcmVjdGlvbik7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICBlbGVtZW50VHJhbnNpdGlvbkVuZCh3cmFwcGVyRWwsICgpID0+IHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UpIHJldHVybjtcbiAgICAgICAgICBlbWl0KCdtb21lbnR1bUJvdW5jZScpO1xuICAgICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHBhcmFtcy5zcGVlZCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKGFmdGVyQm91bmNlUG9zaXRpb24pO1xuICAgICAgICAgICAgZWxlbWVudFRyYW5zaXRpb25FbmQod3JhcHBlckVsLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnZlbG9jaXR5KSB7XG4gICAgICAgIGVtaXQoJ19mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJyk7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdQb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKG1vbWVudHVtRHVyYXRpb24pO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydCh0cnVlLCBzd2lwZXIuc3dpcGVEaXJlY3Rpb24pO1xuICAgICAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBlbGVtZW50VHJhbnNpdGlvbkVuZCh3cmFwcGVyRWwsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdQb3NpdGlvbik7XG4gICAgICB9XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3QoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5mcmVlTW9kZSkge1xuICAgICAgZW1pdCgnX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnKTtcbiAgICB9XG4gICAgaWYgKCFwYXJhbXMuZnJlZU1vZGUubW9tZW50dW0gfHwgdGltZURpZmYgPj0gcGFyYW1zLmxvbmdTd2lwZXNNcykge1xuICAgICAgZW1pdCgnX2ZyZWVNb2RlU3RhdGljUmVsZWFzZScpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgZnJlZU1vZGU6IHtcbiAgICAgIG9uVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaEVuZFxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7IGZyZWVNb2RlIGFzIGRlZmF1bHQgfTtcbiIsICJmdW5jdGlvbiBHcmlkKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGdyaWQ6IHtcbiAgICAgIHJvd3M6IDEsXG4gICAgICBmaWxsOiAnY29sdW1uJ1xuICAgIH1cbiAgfSk7XG4gIGxldCBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzO1xuICBsZXQgc2xpZGVzUGVyUm93O1xuICBsZXQgbnVtRnVsbENvbHVtbnM7XG4gIGxldCB3YXNNdWx0aVJvdztcbiAgY29uc3QgZ2V0U3BhY2VCZXR3ZWVuID0gKCkgPT4ge1xuICAgIGxldCBzcGFjZUJldHdlZW4gPSBzd2lwZXIucGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlci5zaXplO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwYWNlQmV0d2VlbjtcbiAgfTtcbiAgY29uc3QgaW5pdFNsaWRlcyA9IHNsaWRlcyA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzUGVyVmlld1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGNvbnN0IHtcbiAgICAgIHJvd3MsXG4gICAgICBmaWxsXG4gICAgfSA9IHN3aXBlci5wYXJhbXMuZ3JpZDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICAgIG51bUZ1bGxDb2x1bW5zID0gTWF0aC5mbG9vcihzbGlkZXNMZW5ndGggLyByb3dzKTtcbiAgICBpZiAoTWF0aC5mbG9vcihzbGlkZXNMZW5ndGggLyByb3dzKSA9PT0gc2xpZGVzTGVuZ3RoIC8gcm93cykge1xuICAgICAgc2xpZGVzTnVtYmVyRXZlblRvUm93cyA9IHNsaWRlc0xlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVzTnVtYmVyRXZlblRvUm93cyA9IE1hdGguY2VpbChzbGlkZXNMZW5ndGggLyByb3dzKSAqIHJvd3M7XG4gICAgfVxuICAgIGlmIChzbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgZmlsbCA9PT0gJ3JvdycpIHtcbiAgICAgIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgPSBNYXRoLm1heChzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzLCBzbGlkZXNQZXJWaWV3ICogcm93cyk7XG4gICAgfVxuICAgIHNsaWRlc1BlclJvdyA9IHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyByb3dzO1xuICB9O1xuICBjb25zdCB1bnNldFNsaWRlcyA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnNsaWRlcykge1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgICAgaWYgKHNsaWRlLnN3aXBlclNsaWRlR3JpZFNldCkge1xuICAgICAgICAgIHNsaWRlLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICAgIHNsaWRlLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luLXRvcCcpXSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVwZGF0ZVNsaWRlID0gKGksIHNsaWRlLCBzbGlkZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNQZXJHcm91cFxuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGNvbnN0IHNwYWNlQmV0d2VlbiA9IGdldFNwYWNlQmV0d2VlbigpO1xuICAgIGNvbnN0IHtcbiAgICAgIHJvd3MsXG4gICAgICBmaWxsXG4gICAgfSA9IHN3aXBlci5wYXJhbXMuZ3JpZDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICAgIC8vIFNldCBzbGlkZXMgb3JkZXJcbiAgICBsZXQgbmV3U2xpZGVPcmRlckluZGV4O1xuICAgIGxldCBjb2x1bW47XG4gICAgbGV0IHJvdztcbiAgICBpZiAoZmlsbCA9PT0gJ3JvdycgJiYgc2xpZGVzUGVyR3JvdXAgPiAxKSB7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gTWF0aC5mbG9vcihpIC8gKHNsaWRlc1Blckdyb3VwICogcm93cykpO1xuICAgICAgY29uc3Qgc2xpZGVJbmRleEluR3JvdXAgPSBpIC0gcm93cyAqIHNsaWRlc1Blckdyb3VwICogZ3JvdXBJbmRleDtcbiAgICAgIGNvbnN0IGNvbHVtbnNJbkdyb3VwID0gZ3JvdXBJbmRleCA9PT0gMCA/IHNsaWRlc1Blckdyb3VwIDogTWF0aC5taW4oTWF0aC5jZWlsKChzbGlkZXNMZW5ndGggLSBncm91cEluZGV4ICogcm93cyAqIHNsaWRlc1Blckdyb3VwKSAvIHJvd3MpLCBzbGlkZXNQZXJHcm91cCk7XG4gICAgICByb3cgPSBNYXRoLmZsb29yKHNsaWRlSW5kZXhJbkdyb3VwIC8gY29sdW1uc0luR3JvdXApO1xuICAgICAgY29sdW1uID0gc2xpZGVJbmRleEluR3JvdXAgLSByb3cgKiBjb2x1bW5zSW5Hcm91cCArIGdyb3VwSW5kZXggKiBzbGlkZXNQZXJHcm91cDtcbiAgICAgIG5ld1NsaWRlT3JkZXJJbmRleCA9IGNvbHVtbiArIHJvdyAqIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyByb3dzO1xuICAgICAgc2xpZGUuc3R5bGUub3JkZXIgPSBuZXdTbGlkZU9yZGVySW5kZXg7XG4gICAgfSBlbHNlIGlmIChmaWxsID09PSAnY29sdW1uJykge1xuICAgICAgY29sdW1uID0gTWF0aC5mbG9vcihpIC8gcm93cyk7XG4gICAgICByb3cgPSBpIC0gY29sdW1uICogcm93cztcbiAgICAgIGlmIChjb2x1bW4gPiBudW1GdWxsQ29sdW1ucyB8fCBjb2x1bW4gPT09IG51bUZ1bGxDb2x1bW5zICYmIHJvdyA9PT0gcm93cyAtIDEpIHtcbiAgICAgICAgcm93ICs9IDE7XG4gICAgICAgIGlmIChyb3cgPj0gcm93cykge1xuICAgICAgICAgIHJvdyA9IDA7XG4gICAgICAgICAgY29sdW1uICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcm93ID0gTWF0aC5mbG9vcihpIC8gc2xpZGVzUGVyUm93KTtcbiAgICAgIGNvbHVtbiA9IGkgLSByb3cgKiBzbGlkZXNQZXJSb3c7XG4gICAgfVxuICAgIHNsaWRlLnJvdyA9IHJvdztcbiAgICBzbGlkZS5jb2x1bW4gPSBjb2x1bW47XG4gICAgc2xpZGUuc3R5bGUuaGVpZ2h0ID0gYGNhbGMoKDEwMCUgLSAkeyhyb3dzIC0gMSkgKiBzcGFjZUJldHdlZW59cHgpIC8gJHtyb3dzfSlgO1xuICAgIHNsaWRlLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luLXRvcCcpXSA9IHJvdyAhPT0gMCA/IHNwYWNlQmV0d2VlbiAmJiBgJHtzcGFjZUJldHdlZW59cHhgIDogJyc7XG4gICAgc2xpZGUuc3dpcGVyU2xpZGVHcmlkU2V0ID0gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlV3JhcHBlclNpemUgPSAoc2xpZGVTaXplLCBzbmFwR3JpZCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNlbnRlcmVkU2xpZGVzLFxuICAgICAgcm91bmRMZW5ndGhzXG4gICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgY29uc3Qgc3BhY2VCZXR3ZWVuID0gZ2V0U3BhY2VCZXR3ZWVuKCk7XG4gICAgY29uc3Qge1xuICAgICAgcm93c1xuICAgIH0gPSBzd2lwZXIucGFyYW1zLmdyaWQ7XG4gICAgc3dpcGVyLnZpcnR1YWxTaXplID0gKHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbikgKiBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzO1xuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSA9IE1hdGguY2VpbChzd2lwZXIudmlydHVhbFNpemUgLyByb3dzKSAtIHNwYWNlQmV0d2VlbjtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgICB9XG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBjb25zdCBuZXdTbGlkZXNHcmlkID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNuYXBHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGxldCBzbGlkZXNHcmlkSXRlbSA9IHNuYXBHcmlkW2ldO1xuICAgICAgICBpZiAocm91bmRMZW5ndGhzKSBzbGlkZXNHcmlkSXRlbSA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgICBpZiAoc25hcEdyaWRbaV0gPCBzd2lwZXIudmlydHVhbFNpemUgKyBzbmFwR3JpZFswXSkgbmV3U2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgIH1cbiAgICAgIHNuYXBHcmlkLnNwbGljZSgwLCBzbmFwR3JpZC5sZW5ndGgpO1xuICAgICAgc25hcEdyaWQucHVzaCguLi5uZXdTbGlkZXNHcmlkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uSW5pdCA9ICgpID0+IHtcbiAgICB3YXNNdWx0aVJvdyA9IHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIH07XG4gIGNvbnN0IG9uVXBkYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBpc011bHRpUm93ID0gcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gICAgaWYgKHdhc011bHRpUm93ICYmICFpc011bHRpUm93KSB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgLCBgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgICAgbnVtRnVsbENvbHVtbnMgPSAxO1xuICAgICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gICAgfSBlbHNlIGlmICghd2FzTXVsdGlSb3cgJiYgaXNNdWx0aVJvdykge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCk7XG4gICAgICBpZiAocGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgICAgfVxuICAgICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gICAgfVxuICAgIHdhc011bHRpUm93ID0gaXNNdWx0aVJvdztcbiAgfTtcbiAgb24oJ2luaXQnLCBvbkluaXQpO1xuICBvbigndXBkYXRlJywgb25VcGRhdGUpO1xuICBzd2lwZXIuZ3JpZCA9IHtcbiAgICBpbml0U2xpZGVzLFxuICAgIHVuc2V0U2xpZGVzLFxuICAgIHVwZGF0ZVNsaWRlLFxuICAgIHVwZGF0ZVdyYXBwZXJTaXplXG4gIH07XG59XG5cbmV4cG9ydCB7IEdyaWQgYXMgZGVmYXVsdCB9O1xuIiwgImZ1bmN0aW9uIGFwcGVuZFNsaWRlKHNsaWRlcykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICB9XG4gIGNvbnN0IGFwcGVuZEVsZW1lbnQgPSBzbGlkZUVsID0+IHtcbiAgICBpZiAodHlwZW9mIHNsaWRlRWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCB0ZW1wRE9NID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZW1wRE9NLmlubmVySFRNTCA9IHNsaWRlRWw7XG4gICAgICBzbGlkZXNFbC5hcHBlbmQodGVtcERPTS5jaGlsZHJlblswXSk7XG4gICAgICB0ZW1wRE9NLmlubmVySFRNTCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVFbCk7XG4gICAgfVxuICB9O1xuICBpZiAodHlwZW9mIHNsaWRlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzbGlkZXNbaV0pIGFwcGVuZEVsZW1lbnQoc2xpZGVzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXBwZW5kRWxlbWVudChzbGlkZXMpO1xuICB9XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuICBpZiAoIXBhcmFtcy5vYnNlcnZlciB8fCBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXBlbmRTbGlkZShzbGlkZXMpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBhY3RpdmVJbmRleCxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgfVxuICBsZXQgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleCArIDE7XG4gIGNvbnN0IHByZXBlbmRFbGVtZW50ID0gc2xpZGVFbCA9PiB7XG4gICAgaWYgKHR5cGVvZiBzbGlkZUVsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgdGVtcERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGVtcERPTS5pbm5lckhUTUwgPSBzbGlkZUVsO1xuICAgICAgc2xpZGVzRWwucHJlcGVuZCh0ZW1wRE9NLmNoaWxkcmVuWzBdKTtcbiAgICAgIHRlbXBET00uaW5uZXJIVE1MID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlc0VsLnByZXBlbmQoc2xpZGVFbCk7XG4gICAgfVxuICB9O1xuICBpZiAodHlwZW9mIHNsaWRlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzbGlkZXNbaV0pIHByZXBlbmRFbGVtZW50KHNsaWRlc1tpXSk7XG4gICAgfVxuICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyBzbGlkZXMubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIHByZXBlbmRFbGVtZW50KHNsaWRlcyk7XG4gIH1cbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICB9XG4gIGlmICghcGFyYW1zLm9ic2VydmVyIHx8IHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cbiAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gYWRkU2xpZGUoaW5kZXgsIHNsaWRlcykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGxldCBhY3RpdmVJbmRleEJ1ZmZlciA9IGFjdGl2ZUluZGV4O1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBhY3RpdmVJbmRleEJ1ZmZlciAtPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgfVxuICBjb25zdCBiYXNlTGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIGlmIChpbmRleCA8PSAwKSB7XG4gICAgc3dpcGVyLnByZXBlbmRTbGlkZShzbGlkZXMpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5kZXggPj0gYmFzZUxlbmd0aCkge1xuICAgIHN3aXBlci5hcHBlbmRTbGlkZShzbGlkZXMpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlciA+IGluZGV4ID8gYWN0aXZlSW5kZXhCdWZmZXIgKyAxIDogYWN0aXZlSW5kZXhCdWZmZXI7XG4gIGNvbnN0IHNsaWRlc0J1ZmZlciA9IFtdO1xuICBmb3IgKGxldCBpID0gYmFzZUxlbmd0aCAtIDE7IGkgPj0gaW5kZXg7IGkgLT0gMSkge1xuICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHN3aXBlci5zbGlkZXNbaV07XG4gICAgY3VycmVudFNsaWRlLnJlbW92ZSgpO1xuICAgIHNsaWRlc0J1ZmZlci51bnNoaWZ0KGN1cnJlbnRTbGlkZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldKSBzbGlkZXNFbC5hcHBlbmQoc2xpZGVzW2ldKTtcbiAgICB9XG4gICAgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlciA+IGluZGV4ID8gYWN0aXZlSW5kZXhCdWZmZXIgKyBzbGlkZXMubGVuZ3RoIDogYWN0aXZlSW5kZXhCdWZmZXI7XG4gIH0gZWxzZSB7XG4gICAgc2xpZGVzRWwuYXBwZW5kKHNsaWRlcyk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNCdWZmZXIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVzQnVmZmVyW2ldKTtcbiAgfVxuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gIH1cbiAgaWYgKCFwYXJhbXMub2JzZXJ2ZXIgfHwgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci51cGRhdGUoKTtcbiAgfVxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVNsaWRlKHNsaWRlc0luZGV4ZXMpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgYWN0aXZlSW5kZXhCdWZmZXIgPSBhY3RpdmVJbmRleDtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgYWN0aXZlSW5kZXhCdWZmZXIgLT0gc3dpcGVyLmxvb3BlZFNsaWRlcztcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgfVxuICBsZXQgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgbGV0IGluZGV4VG9SZW1vdmU7XG4gIGlmICh0eXBlb2Ygc2xpZGVzSW5kZXhlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzSW5kZXhlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzSW5kZXhlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaW5kZXhUb1JlbW92ZSA9IHNsaWRlc0luZGV4ZXNbaV07XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXSkgc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXS5yZW1vdmUoKTtcbiAgICAgIGlmIChpbmRleFRvUmVtb3ZlIDwgbmV3QWN0aXZlSW5kZXgpIG5ld0FjdGl2ZUluZGV4IC09IDE7XG4gICAgfVxuICAgIG5ld0FjdGl2ZUluZGV4ID0gTWF0aC5tYXgobmV3QWN0aXZlSW5kZXgsIDApO1xuICB9IGVsc2Uge1xuICAgIGluZGV4VG9SZW1vdmUgPSBzbGlkZXNJbmRleGVzO1xuICAgIGlmIChzd2lwZXIuc2xpZGVzW2luZGV4VG9SZW1vdmVdKSBzd2lwZXIuc2xpZGVzW2luZGV4VG9SZW1vdmVdLnJlbW92ZSgpO1xuICAgIGlmIChpbmRleFRvUmVtb3ZlIDwgbmV3QWN0aXZlSW5kZXgpIG5ld0FjdGl2ZUluZGV4IC09IDE7XG4gICAgbmV3QWN0aXZlSW5kZXggPSBNYXRoLm1heChuZXdBY3RpdmVJbmRleCwgMCk7XG4gIH1cbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICB9XG4gIGlmICghcGFyYW1zLm9ic2VydmVyIHx8IHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXggKyBzd2lwZXIubG9vcGVkU2xpZGVzLCAwLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICB9XG4gIHN3aXBlci5yZW1vdmVTbGlkZShzbGlkZXNJbmRleGVzKTtcbn1cblxuZnVuY3Rpb24gTWFuaXB1bGF0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXJcbiAgfSA9IF9yZWY7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgYXBwZW5kU2xpZGU6IGFwcGVuZFNsaWRlLmJpbmQoc3dpcGVyKSxcbiAgICBwcmVwZW5kU2xpZGU6IHByZXBlbmRTbGlkZS5iaW5kKHN3aXBlciksXG4gICAgYWRkU2xpZGU6IGFkZFNsaWRlLmJpbmQoc3dpcGVyKSxcbiAgICByZW1vdmVTbGlkZTogcmVtb3ZlU2xpZGUuYmluZChzd2lwZXIpLFxuICAgIHJlbW92ZUFsbFNsaWRlczogcmVtb3ZlQWxsU2xpZGVzLmJpbmQoc3dpcGVyKVxuICB9KTtcbn1cblxuZXhwb3J0IHsgTWFuaXB1bGF0aW9uIGFzIGRlZmF1bHQgfTtcbiIsICJmdW5jdGlvbiBlZmZlY3RJbml0KHBhcmFtcykge1xuICBjb25zdCB7XG4gICAgZWZmZWN0LFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBvdmVyd3JpdGVQYXJhbXMsXG4gICAgcGVyc3BlY3RpdmUsXG4gICAgcmVjcmVhdGVTaGFkb3dzLFxuICAgIGdldEVmZmVjdFBhcmFtc1xuICB9ID0gcGFyYW1zO1xuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7ZWZmZWN0fWApO1xuICAgIGlmIChwZXJzcGVjdGl2ZSAmJiBwZXJzcGVjdGl2ZSgpKSB7XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30zZGApO1xuICAgIH1cbiAgICBjb25zdCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQgPSBvdmVyd3JpdGVQYXJhbXMgPyBvdmVyd3JpdGVQYXJhbXMoKSA6IHt9O1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0pO1xuICBvbigndHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIGlmIChyZWNyZWF0ZVNoYWRvd3MpIHtcbiAgICAgIGlmICghZ2V0RWZmZWN0UGFyYW1zIHx8ICFnZXRFZmZlY3RQYXJhbXMoKS5zbGlkZVNoYWRvd3MpIHJldHVybjtcbiAgICAgIC8vIHJlbW92ZSBzaGFkb3dzXG4gICAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgIHNsaWRlRWwucXVlcnlTZWxlY3RvckFsbCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykuZm9yRWFjaChzaGFkb3dFbCA9PiBzaGFkb3dFbC5yZW1vdmUoKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgb25lXG4gICAgICByZWNyZWF0ZVNoYWRvd3MoKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbDtcbiAgb24oJ3ZpcnR1YWxVcGRhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAoIXN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmIChyZXF1aXJlVXBkYXRlT25WaXJ0dWFsICYmIHN3aXBlci5zbGlkZXMgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICAgIHJlcXVpcmVVcGRhdGVPblZpcnR1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGVmZmVjdEluaXQgYXMgZSB9O1xuIiwgImltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VGFyZ2V0KGVmZmVjdFBhcmFtcywgc2xpZGVFbCkge1xuICBjb25zdCB0cmFuc2Zvcm1FbCA9IGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCk7XG4gIGlmICh0cmFuc2Zvcm1FbCAhPT0gc2xpZGVFbCkge1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlWyctd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHknXSA9ICdoaWRkZW4nO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1FbDtcbn1cblxuZXhwb3J0IHsgZWZmZWN0VGFyZ2V0IGFzIGUgfTtcbiIsICJpbXBvcnQgeyBqIGFzIGVsZW1lbnRUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGR1cmF0aW9uLFxuICAgIHRyYW5zZm9ybUVsZW1lbnRzLFxuICAgIGFsbFNsaWRlc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGdldFNsaWRlID0gZWwgPT4ge1xuICAgIGlmICghZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gYXNzdW1lIHNoYWRvdyByb290XG4gICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5zaGFkb3dSb290ICYmIHNsaWRlRWwuc2hhZG93Um9vdCA9PT0gZWwucGFyZW50Tm9kZSlbMF07XG4gICAgICByZXR1cm4gc2xpZGU7XG4gICAgfVxuICAgIHJldHVybiBlbC5wYXJlbnRFbGVtZW50O1xuICB9O1xuICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlICYmIGR1cmF0aW9uICE9PSAwKSB7XG4gICAgbGV0IGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgbGV0IHRyYW5zaXRpb25FbmRUYXJnZXQ7XG4gICAgaWYgKGFsbFNsaWRlcykge1xuICAgICAgdHJhbnNpdGlvbkVuZFRhcmdldCA9IHRyYW5zZm9ybUVsZW1lbnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0ID0gdHJhbnNmb3JtRWxlbWVudHMuZmlsdGVyKHRyYW5zZm9ybUVsID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSB0cmFuc2Zvcm1FbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSA/IGdldFNsaWRlKHRyYW5zZm9ybUVsKSA6IHRyYW5zZm9ybUVsO1xuICAgICAgICByZXR1cm4gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWwpID09PSBhY3RpdmVJbmRleDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0LmZvckVhY2goZWwgPT4ge1xuICAgICAgZWxlbWVudFRyYW5zaXRpb25FbmQoZWwsICgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50VHJpZ2dlcmVkKSByZXR1cm47XG4gICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgZXZlbnRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGV2dCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoJ3RyYW5zaXRpb25lbmQnLCB7XG4gICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIGFzIGUgfTtcbiIsICJpbXBvcnQgeyBlIGFzIGVmZmVjdEluaXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LWluaXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VGFyZ2V0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQubWpzJztcbmltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBFZmZlY3RGYWRlKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW2ldO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gc2xpZGVFbC5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIGxldCB0eCA9IC1vZmZzZXQ7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkgdHggLT0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIGxldCB0eSA9IDA7XG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBzbGlkZU9wYWNpdHkgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlID8gTWF0aC5tYXgoMSAtIE1hdGguYWJzKHNsaWRlRWwucHJvZ3Jlc3MpLCAwKSA6IDEgKyBNYXRoLm1pbihNYXRoLm1heChzbGlkZUVsLnByb2dyZXNzLCAtMSksIDApO1xuICAgICAgY29uc3QgdGFyZ2V0RWwgPSBlZmZlY3RUYXJnZXQocGFyYW1zLCBzbGlkZUVsKTtcbiAgICAgIHRhcmdldEVsLnN0eWxlLm9wYWNpdHkgPSBzbGlkZU9wYWNpdHk7XG4gICAgICB0YXJnZXRFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0eH1weCwgJHt0eX1weCwgMHB4KWA7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybUVsZW1lbnRzID0gc3dpcGVyLnNsaWRlcy5tYXAoc2xpZGVFbCA9PiBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpKTtcbiAgICB0cmFuc2Zvcm1FbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICB9KTtcbiAgICBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gICAgICBzd2lwZXIsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybUVsZW1lbnRzLFxuICAgICAgYWxsU2xpZGVzOiB0cnVlXG4gICAgfSk7XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBvdmVyd3JpdGVQYXJhbXM6ICgpID0+ICh7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgdmlydHVhbFRyYW5zbGF0ZTogIXN3aXBlci5wYXJhbXMuY3NzTW9kZVxuICAgIH0pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBFZmZlY3RGYWRlIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBlIGFzIGVmZmVjdEluaXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LWluaXQubWpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBFZmZlY3RDdWJlKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGN1YmVFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIHNoYWRvdzogdHJ1ZSxcbiAgICAgIHNoYWRvd09mZnNldDogMjAsXG4gICAgICBzaGFkb3dTY2FsZTogMC45NFxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZVNsaWRlU2hhZG93cyA9IChzbGlkZUVsLCBwcm9ncmVzcywgaXNIb3Jpem9udGFsKSA9PiB7XG4gICAgbGV0IHNoYWRvd0JlZm9yZSA9IGlzSG9yaXpvbnRhbCA/IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpIDogc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICBsZXQgc2hhZG93QWZ0ZXIgPSBpc0hvcml6b250YWwgPyBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbScpO1xuICAgIGlmICghc2hhZG93QmVmb3JlKSB7XG4gICAgICBzaGFkb3dCZWZvcmUgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBgc3dpcGVyLXNsaWRlLXNoYWRvdy1jdWJlIHN3aXBlci1zbGlkZS1zaGFkb3ctJHtpc0hvcml6b250YWwgPyAnbGVmdCcgOiAndG9wJ31gLnNwbGl0KCcgJykpO1xuICAgICAgc2xpZGVFbC5hcHBlbmQoc2hhZG93QmVmb3JlKTtcbiAgICB9XG4gICAgaWYgKCFzaGFkb3dBZnRlcikge1xuICAgICAgc2hhZG93QWZ0ZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBgc3dpcGVyLXNsaWRlLXNoYWRvdy1jdWJlIHN3aXBlci1zbGlkZS1zaGFkb3ctJHtpc0hvcml6b250YWwgPyAncmlnaHQnIDogJ2JvdHRvbSd9YC5zcGxpdCgnICcpKTtcbiAgICAgIHNsaWRlRWwuYXBwZW5kKHNoYWRvd0FmdGVyKTtcbiAgICB9XG4gICAgaWYgKHNoYWRvd0JlZm9yZSkgc2hhZG93QmVmb3JlLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtcHJvZ3Jlc3MsIDApO1xuICAgIGlmIChzaGFkb3dBZnRlcikgc2hhZG93QWZ0ZXIuc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHByb2dyZXNzLCAwKTtcbiAgfTtcbiAgY29uc3QgcmVjcmVhdGVTaGFkb3dzID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBuZXcgb25lc1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKHNsaWRlRWwucHJvZ3Jlc3MsIDEpLCAtMSk7XG4gICAgICBjcmVhdGVTbGlkZVNoYWRvd3Moc2xpZGVFbCwgcHJvZ3Jlc3MsIGlzSG9yaXpvbnRhbCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHNldFRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHdpZHRoOiBzd2lwZXJXaWR0aCxcbiAgICAgIGhlaWdodDogc3dpcGVySGVpZ2h0LFxuICAgICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgICBzaXplOiBzd2lwZXJTaXplLFxuICAgICAgYnJvd3NlclxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5jdWJlRWZmZWN0O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICBsZXQgd3JhcHBlclJvdGF0ZSA9IDA7XG4gICAgbGV0IGN1YmVTaGFkb3dFbDtcbiAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBjdWJlU2hhZG93RWwgPSBzd2lwZXIud3JhcHBlckVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItY3ViZS1zaGFkb3cnKTtcbiAgICAgICAgaWYgKCFjdWJlU2hhZG93RWwpIHtcbiAgICAgICAgICBjdWJlU2hhZG93RWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCAnc3dpcGVyLWN1YmUtc2hhZG93Jyk7XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5hcHBlbmQoY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuICAgICAgICBjdWJlU2hhZG93RWwuc3R5bGUuaGVpZ2h0ID0gYCR7c3dpcGVyV2lkdGh9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3ViZVNoYWRvd0VsID0gZWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1jdWJlLXNoYWRvdycpO1xuICAgICAgICBpZiAoIWN1YmVTaGFkb3dFbCkge1xuICAgICAgICAgIGN1YmVTaGFkb3dFbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICdzd2lwZXItY3ViZS1zaGFkb3cnKTtcbiAgICAgICAgICBlbC5hcHBlbmQoY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHNsaWRlc1tpXTtcbiAgICAgIGxldCBzbGlkZUluZGV4ID0gaTtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgc2xpZGVJbmRleCA9IHBhcnNlSW50KHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgICB9XG4gICAgICBsZXQgc2xpZGVBbmdsZSA9IHNsaWRlSW5kZXggKiA5MDtcbiAgICAgIGxldCByb3VuZCA9IE1hdGguZmxvb3Ioc2xpZGVBbmdsZSAvIDM2MCk7XG4gICAgICBpZiAocnRsKSB7XG4gICAgICAgIHNsaWRlQW5nbGUgPSAtc2xpZGVBbmdsZTtcbiAgICAgICAgcm91bmQgPSBNYXRoLmZsb29yKC1zbGlkZUFuZ2xlIC8gMzYwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oc2xpZGVFbC5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIGxldCB0eCA9IDA7XG4gICAgICBsZXQgdHkgPSAwO1xuICAgICAgbGV0IHR6ID0gMDtcbiAgICAgIGlmIChzbGlkZUluZGV4ICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IC1yb3VuZCAqIDQgKiBzd2lwZXJTaXplO1xuICAgICAgICB0eiA9IDA7XG4gICAgICB9IGVsc2UgaWYgKChzbGlkZUluZGV4IC0gMSkgJSA0ID09PSAwKSB7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgICAgdHogPSAtcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgIH0gZWxzZSBpZiAoKHNsaWRlSW5kZXggLSAyKSAlIDQgPT09IDApIHtcbiAgICAgICAgdHggPSBzd2lwZXJTaXplICsgcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgICAgdHogPSBzd2lwZXJTaXplO1xuICAgICAgfSBlbHNlIGlmICgoc2xpZGVJbmRleCAtIDMpICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IC1zd2lwZXJTaXplO1xuICAgICAgICB0eiA9IDMgKiBzd2lwZXJTaXplICsgc3dpcGVyU2l6ZSAqIDQgKiByb3VuZDtcbiAgICAgIH1cbiAgICAgIGlmIChydGwpIHtcbiAgICAgICAgdHggPSAtdHg7XG4gICAgICB9XG4gICAgICBpZiAoIWlzSG9yaXpvbnRhbCkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBgcm90YXRlWCgke2lzSG9yaXpvbnRhbCA/IDAgOiAtc2xpZGVBbmdsZX1kZWcpIHJvdGF0ZVkoJHtpc0hvcml6b250YWwgPyBzbGlkZUFuZ2xlIDogMH1kZWcpIHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsICR7dHp9cHgpYDtcbiAgICAgIGlmIChwcm9ncmVzcyA8PSAxICYmIHByb2dyZXNzID4gLTEpIHtcbiAgICAgICAgd3JhcHBlclJvdGF0ZSA9IHNsaWRlSW5kZXggKiA5MCArIHByb2dyZXNzICogOTA7XG4gICAgICAgIGlmIChydGwpIHdyYXBwZXJSb3RhdGUgPSAtc2xpZGVJbmRleCAqIDkwIC0gcHJvZ3Jlc3MgKiA5MDtcbiAgICAgICAgaWYgKHN3aXBlci5icm93c2VyICYmIHN3aXBlci5icm93c2VyLmlzU2FmYXJpICYmIE1hdGguYWJzKHdyYXBwZXJSb3RhdGUpIC8gOTAgJSAyID09PSAxKSB7XG4gICAgICAgICAgd3JhcHBlclJvdGF0ZSArPSAwLjAwMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2xpZGVFbC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICBpZiAocGFyYW1zLnNsaWRlU2hhZG93cykge1xuICAgICAgICBjcmVhdGVTbGlkZVNoYWRvd3Moc2xpZGVFbCwgcHJvZ3Jlc3MsIGlzSG9yaXpvbnRhbCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdyYXBwZXJFbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBgNTAlIDUwJSAtJHtzd2lwZXJTaXplIC8gMn1weGA7XG4gICAgd3JhcHBlckVsLnN0eWxlWyctd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4nXSA9IGA1MCUgNTAlIC0ke3N3aXBlclNpemUgLyAyfXB4YDtcbiAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBjdWJlU2hhZG93RWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDBweCwgJHtzd2lwZXJXaWR0aCAvIDIgKyBwYXJhbXMuc2hhZG93T2Zmc2V0fXB4LCAkey1zd2lwZXJXaWR0aCAvIDJ9cHgpIHJvdGF0ZVgoODkuOTlkZWcpIHJvdGF0ZVooMGRlZykgc2NhbGUoJHtwYXJhbXMuc2hhZG93U2NhbGV9KWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzaGFkb3dBbmdsZSA9IE1hdGguYWJzKHdyYXBwZXJSb3RhdGUpIC0gTWF0aC5mbG9vcihNYXRoLmFicyh3cmFwcGVyUm90YXRlKSAvIDkwKSAqIDkwO1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gMS41IC0gKE1hdGguc2luKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMiArIE1hdGguY29zKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMik7XG4gICAgICAgIGNvbnN0IHNjYWxlMSA9IHBhcmFtcy5zaGFkb3dTY2FsZTtcbiAgICAgICAgY29uc3Qgc2NhbGUyID0gcGFyYW1zLnNoYWRvd1NjYWxlIC8gbXVsdGlwbGllcjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zLnNoYWRvd09mZnNldDtcbiAgICAgICAgY3ViZVNoYWRvd0VsLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZTNkKCR7c2NhbGUxfSwgMSwgJHtzY2FsZTJ9KSB0cmFuc2xhdGUzZCgwcHgsICR7c3dpcGVySGVpZ2h0IC8gMiArIG9mZnNldH1weCwgJHstc3dpcGVySGVpZ2h0IC8gMiAvIHNjYWxlMn1weCkgcm90YXRlWCgtODkuOTlkZWcpYDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgekZhY3RvciA9IChicm93c2VyLmlzU2FmYXJpIHx8IGJyb3dzZXIuaXNXZWJWaWV3KSAmJiBicm93c2VyLm5lZWRQZXJzcGVjdGl2ZUZpeCA/IC1zd2lwZXJTaXplIC8gMiA6IDA7XG4gICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwcHgsMCwke3pGYWN0b3J9cHgpIHJvdGF0ZVgoJHtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAwIDogd3JhcHBlclJvdGF0ZX1kZWcpIHJvdGF0ZVkoJHtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAtd3JhcHBlclJvdGF0ZSA6IDB9ZGVnKWA7XG4gICAgd3JhcHBlckVsLnN0eWxlLnNldFByb3BlcnR5KCctLXN3aXBlci1jdWJlLXRyYW5zbGF0ZS16JywgYCR7ekZhY3Rvcn1weGApO1xuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsLFxuICAgICAgc2xpZGVzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIHNsaWRlRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgc2xpZGVFbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgc3ViRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3ViZUVmZmVjdC5zaGFkb3cgJiYgIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgY29uc3Qgc2hhZG93RWwgPSBlbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWN1YmUtc2hhZG93Jyk7XG4gICAgICBpZiAoc2hhZG93RWwpIHNoYWRvd0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICB9XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2N1YmUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICByZWNyZWF0ZVNoYWRvd3MsXG4gICAgZ2V0RWZmZWN0UGFyYW1zOiAoKSA9PiBzd2lwZXIucGFyYW1zLmN1YmVFZmZlY3QsXG4gICAgcGVyc3BlY3RpdmU6ICgpID0+IHRydWUsXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHJlc2lzdGFuY2VSYXRpbzogMCxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6IHRydWVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0Q3ViZSBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgbCBhcyBnZXRTbGlkZVRyYW5zZm9ybUVsLCBjIGFzIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNoYWRvdyhzdWZmaXgsIHNsaWRlRWwsIHNpZGUpIHtcbiAgY29uc3Qgc2hhZG93Q2xhc3MgPSBgc3dpcGVyLXNsaWRlLXNoYWRvdyR7c2lkZSA/IGAtJHtzaWRlfWAgOiAnJ30ke3N1ZmZpeCA/IGAgc3dpcGVyLXNsaWRlLXNoYWRvdy0ke3N1ZmZpeH1gIDogJyd9YDtcbiAgY29uc3Qgc2hhZG93Q29udGFpbmVyID0gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKTtcbiAgbGV0IHNoYWRvd0VsID0gc2hhZG93Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke3NoYWRvd0NsYXNzLnNwbGl0KCcgJykuam9pbignLicpfWApO1xuICBpZiAoIXNoYWRvd0VsKSB7XG4gICAgc2hhZG93RWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzaGFkb3dDbGFzcy5zcGxpdCgnICcpKTtcbiAgICBzaGFkb3dDb250YWluZXIuYXBwZW5kKHNoYWRvd0VsKTtcbiAgfVxuICByZXR1cm4gc2hhZG93RWw7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVNoYWRvdyBhcyBjIH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjcmVhdGVTaGFkb3cgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLXNoYWRvdy5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0RmxpcChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBmbGlwRWZmZWN0OiB7XG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWUsXG4gICAgICBsaW1pdFJvdGF0aW9uOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgY29uc3QgY3JlYXRlU2xpZGVTaGFkb3dzID0gKHNsaWRlRWwsIHByb2dyZXNzKSA9PiB7XG4gICAgbGV0IHNoYWRvd0JlZm9yZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpIDogc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICBsZXQgc2hhZG93QWZ0ZXIgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbScpO1xuICAgIGlmICghc2hhZG93QmVmb3JlKSB7XG4gICAgICBzaGFkb3dCZWZvcmUgPSBjcmVhdGVTaGFkb3coJ2ZsaXAnLCBzbGlkZUVsLCBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJyk7XG4gICAgfVxuICAgIGlmICghc2hhZG93QWZ0ZXIpIHtcbiAgICAgIHNoYWRvd0FmdGVyID0gY3JlYXRlU2hhZG93KCdmbGlwJywgc2xpZGVFbCwgc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3JpZ2h0JyA6ICdib3R0b20nKTtcbiAgICB9XG4gICAgaWYgKHNoYWRvd0JlZm9yZSkgc2hhZG93QmVmb3JlLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtcHJvZ3Jlc3MsIDApO1xuICAgIGlmIChzaGFkb3dBZnRlcikgc2hhZG93QWZ0ZXIuc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHByb2dyZXNzLCAwKTtcbiAgfTtcbiAgY29uc3QgcmVjcmVhdGVTaGFkb3dzID0gKCkgPT4ge1xuICAgIC8vIFNldCBzaGFkb3dzXG4gICAgc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0O1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGxldCBwcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LmxpbWl0Um90YXRpb24pIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbihzbGlkZUVsLnByb2dyZXNzLCAxKSwgLTEpO1xuICAgICAgfVxuICAgICAgY3JlYXRlU2xpZGVTaGFkb3dzKHNsaWRlRWwsIHByb2dyZXNzKTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlcyxcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmZsaXBFZmZlY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzbGlkZXNbaV07XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSBzbGlkZUVsLnByb2dyZXNzO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uKSB7XG4gICAgICAgIHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oc2xpZGVFbC5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9mZnNldCA9IHNsaWRlRWwuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBjb25zdCByb3RhdGUgPSAtMTgwICogcHJvZ3Jlc3M7XG4gICAgICBsZXQgcm90YXRlWSA9IHJvdGF0ZTtcbiAgICAgIGxldCByb3RhdGVYID0gMDtcbiAgICAgIGxldCB0eCA9IHN3aXBlci5wYXJhbXMuY3NzTW9kZSA/IC1vZmZzZXQgLSBzd2lwZXIudHJhbnNsYXRlIDogLW9mZnNldDtcbiAgICAgIGxldCB0eSA9IDA7XG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICAgIHJvdGF0ZVggPSAtcm90YXRlWTtcbiAgICAgICAgcm90YXRlWSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJ0bCkge1xuICAgICAgICByb3RhdGVZID0gLXJvdGF0ZVk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLmJyb3dzZXIgJiYgc3dpcGVyLmJyb3dzZXIuaXNTYWZhcmkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHJvdGF0ZVkpIC8gOTAgJSAyID09PSAxKSB7XG4gICAgICAgICAgcm90YXRlWSArPSAwLjAwMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRlWCkgLyA5MCAlIDIgPT09IDEpIHtcbiAgICAgICAgICByb3RhdGVYICs9IDAuMDAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHByb2dyZXNzKSkgKyBzbGlkZXMubGVuZ3RoO1xuICAgICAgaWYgKHBhcmFtcy5zbGlkZVNoYWRvd3MpIHtcbiAgICAgICAgY3JlYXRlU2xpZGVTaGFkb3dzKHNsaWRlRWwsIHByb2dyZXNzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3R4fXB4LCAke3R5fXB4LCAwcHgpIHJvdGF0ZVgoJHtyb3RhdGVYfWRlZykgcm90YXRlWSgke3JvdGF0ZVl9ZGVnKWA7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS5mb3JFYWNoKHNoYWRvd0VsID0+IHtcbiAgICAgICAgc2hhZG93RWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbGVtZW50c1xuICAgIH0pO1xuICB9O1xuICBlZmZlY3RJbml0KHtcbiAgICBlZmZlY3Q6ICdmbGlwJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgcmVjcmVhdGVTaGFkb3dzLFxuICAgIGdldEVmZmVjdFBhcmFtczogKCkgPT4gc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LFxuICAgIHBlcnNwZWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgIG92ZXJ3cml0ZVBhcmFtczogKCkgPT4gKHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICB2aXJ0dWFsVHJhbnNsYXRlOiAhc3dpcGVyLnBhcmFtcy5jc3NNb2RlXG4gICAgfSlcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEVmZmVjdEZsaXAgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGMgYXMgY3JlYXRlU2hhZG93IH0gZnJvbSAnLi4vc2hhcmVkL2NyZWF0ZS1zaGFkb3cubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0SW5pdCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RUYXJnZXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXRhcmdldC5tanMnO1xuaW1wb3J0IHsgbCBhcyBnZXRTbGlkZVRyYW5zZm9ybUVsIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIEVmZmVjdENvdmVyZmxvdyhfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBjb3ZlcmZsb3dFZmZlY3Q6IHtcbiAgICAgIHJvdGF0ZTogNTAsXG4gICAgICBzdHJldGNoOiAwLFxuICAgICAgZGVwdGg6IDEwMCxcbiAgICAgIHNjYWxlOiAxLFxuICAgICAgbW9kaWZpZXI6IDEsXG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWVcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGg6IHN3aXBlcldpZHRoLFxuICAgICAgaGVpZ2h0OiBzd2lwZXJIZWlnaHQsXG4gICAgICBzbGlkZXMsXG4gICAgICBzbGlkZXNTaXplc0dyaWRcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuY292ZXJmbG93RWZmZWN0O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBzd2lwZXIudHJhbnNsYXRlO1xuICAgIGNvbnN0IGNlbnRlciA9IGlzSG9yaXpvbnRhbCA/IC10cmFuc2Zvcm0gKyBzd2lwZXJXaWR0aCAvIDIgOiAtdHJhbnNmb3JtICsgc3dpcGVySGVpZ2h0IC8gMjtcbiAgICBjb25zdCByb3RhdGUgPSBpc0hvcml6b250YWwgPyBwYXJhbXMucm90YXRlIDogLXBhcmFtcy5yb3RhdGU7XG4gICAgY29uc3QgdHJhbnNsYXRlID0gcGFyYW1zLmRlcHRoO1xuICAgIC8vIEVhY2ggc2xpZGUgb2Zmc2V0IGZyb20gY2VudGVyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHNsaWRlc1tpXTtcbiAgICAgIGNvbnN0IHNsaWRlU2l6ZSA9IHNsaWRlc1NpemVzR3JpZFtpXTtcbiAgICAgIGNvbnN0IHNsaWRlT2Zmc2V0ID0gc2xpZGVFbC5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIGNvbnN0IGNlbnRlck9mZnNldCA9IChjZW50ZXIgLSBzbGlkZU9mZnNldCAtIHNsaWRlU2l6ZSAvIDIpIC8gc2xpZGVTaXplO1xuICAgICAgY29uc3Qgb2Zmc2V0TXVsdGlwbGllciA9IHR5cGVvZiBwYXJhbXMubW9kaWZpZXIgPT09ICdmdW5jdGlvbicgPyBwYXJhbXMubW9kaWZpZXIoY2VudGVyT2Zmc2V0KSA6IGNlbnRlck9mZnNldCAqIHBhcmFtcy5tb2RpZmllcjtcbiAgICAgIGxldCByb3RhdGVZID0gaXNIb3Jpem9udGFsID8gcm90YXRlICogb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICBsZXQgcm90YXRlWCA9IGlzSG9yaXpvbnRhbCA/IDAgOiByb3RhdGUgKiBvZmZzZXRNdWx0aXBsaWVyO1xuICAgICAgLy8gdmFyIHJvdGF0ZVogPSAwXG4gICAgICBsZXQgdHJhbnNsYXRlWiA9IC10cmFuc2xhdGUgKiBNYXRoLmFicyhvZmZzZXRNdWx0aXBsaWVyKTtcbiAgICAgIGxldCBzdHJldGNoID0gcGFyYW1zLnN0cmV0Y2g7XG4gICAgICAvLyBBbGxvdyBwZXJjZW50YWdlIHRvIG1ha2UgYSByZWxhdGl2ZSBzdHJldGNoIGZvciByZXNwb25zaXZlIHNsaWRlcnNcbiAgICAgIGlmICh0eXBlb2Ygc3RyZXRjaCA9PT0gJ3N0cmluZycgJiYgc3RyZXRjaC5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgICAgIHN0cmV0Y2ggPSBwYXJzZUZsb2F0KHBhcmFtcy5zdHJldGNoKSAvIDEwMCAqIHNsaWRlU2l6ZTtcbiAgICAgIH1cbiAgICAgIGxldCB0cmFuc2xhdGVZID0gaXNIb3Jpem9udGFsID8gMCA6IHN0cmV0Y2ggKiBvZmZzZXRNdWx0aXBsaWVyO1xuICAgICAgbGV0IHRyYW5zbGF0ZVggPSBpc0hvcml6b250YWwgPyBzdHJldGNoICogb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICBsZXQgc2NhbGUgPSAxIC0gKDEgLSBwYXJhbXMuc2NhbGUpICogTWF0aC5hYnMob2Zmc2V0TXVsdGlwbGllcik7XG5cbiAgICAgIC8vIEZpeCBmb3IgdWx0cmEgc21hbGwgdmFsdWVzXG4gICAgICBpZiAoTWF0aC5hYnModHJhbnNsYXRlWCkgPCAwLjAwMSkgdHJhbnNsYXRlWCA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnModHJhbnNsYXRlWSkgPCAwLjAwMSkgdHJhbnNsYXRlWSA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnModHJhbnNsYXRlWikgPCAwLjAwMSkgdHJhbnNsYXRlWiA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnMocm90YXRlWSkgPCAwLjAwMSkgcm90YXRlWSA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnMocm90YXRlWCkgPCAwLjAwMSkgcm90YXRlWCA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnMoc2NhbGUpIDwgMC4wMDEpIHNjYWxlID0gMDtcbiAgICAgIGlmIChzd2lwZXIuYnJvd3NlciAmJiBzd2lwZXIuYnJvd3Nlci5pc1NhZmFyaSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRlWSkgLyA5MCAlIDIgPT09IDEpIHtcbiAgICAgICAgICByb3RhdGVZICs9IDAuMDAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGVYKSAvIDkwICUgMiA9PT0gMSkge1xuICAgICAgICAgIHJvdGF0ZVggKz0gMC4wMDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlVHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlWH1weCwke3RyYW5zbGF0ZVl9cHgsJHt0cmFuc2xhdGVafXB4KSAgcm90YXRlWCgke3JvdGF0ZVh9ZGVnKSByb3RhdGVZKCR7cm90YXRlWX1kZWcpIHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gc2xpZGVUcmFuc2Zvcm07XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKG9mZnNldE11bHRpcGxpZXIpKSArIDE7XG4gICAgICBpZiAocGFyYW1zLnNsaWRlU2hhZG93cykge1xuICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICBsZXQgc2hhZG93QmVmb3JlRWwgPSBpc0hvcml6b250YWwgPyBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKSA6IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wJyk7XG4gICAgICAgIGxldCBzaGFkb3dBZnRlckVsID0gaXNIb3Jpem9udGFsID8gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCcpIDogc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20nKTtcbiAgICAgICAgaWYgKCFzaGFkb3dCZWZvcmVFbCkge1xuICAgICAgICAgIHNoYWRvd0JlZm9yZUVsID0gY3JlYXRlU2hhZG93KCdjb3ZlcmZsb3cnLCBzbGlkZUVsLCBpc0hvcml6b250YWwgPyAnbGVmdCcgOiAndG9wJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaGFkb3dBZnRlckVsKSB7XG4gICAgICAgICAgc2hhZG93QWZ0ZXJFbCA9IGNyZWF0ZVNoYWRvdygnY292ZXJmbG93Jywgc2xpZGVFbCwgaXNIb3Jpem9udGFsID8gJ3JpZ2h0JyA6ICdib3R0b20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhZG93QmVmb3JlRWwpIHNoYWRvd0JlZm9yZUVsLnN0eWxlLm9wYWNpdHkgPSBvZmZzZXRNdWx0aXBsaWVyID4gMCA/IG9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgICBpZiAoc2hhZG93QWZ0ZXJFbCkgc2hhZG93QWZ0ZXJFbC5zdHlsZS5vcGFjaXR5ID0gLW9mZnNldE11bHRpcGxpZXIgPiAwID8gLW9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS5mb3JFYWNoKHNoYWRvd0VsID0+IHtcbiAgICAgICAgc2hhZG93RWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2NvdmVyZmxvdycsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIHBlcnNwZWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgIG92ZXJ3cml0ZVBhcmFtczogKCkgPT4gKHtcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0Q292ZXJmbG93IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNyZWF0ZVNoYWRvdyB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGUtc2hhZG93Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdEluaXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LWluaXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VGFyZ2V0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQubWpzJztcbmltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBFZmZlY3RDcmVhdGl2ZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBjcmVhdGl2ZUVmZmVjdDoge1xuICAgICAgbGltaXRQcm9ncmVzczogMSxcbiAgICAgIHNoYWRvd1BlclByb2dyZXNzOiBmYWxzZSxcbiAgICAgIHByb2dyZXNzTXVsdGlwbGllcjogMSxcbiAgICAgIHBlcnNwZWN0aXZlOiB0cnVlLFxuICAgICAgcHJldjoge1xuICAgICAgICB0cmFuc2xhdGU6IFswLCAwLCAwXSxcbiAgICAgICAgcm90YXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlOiAxXG4gICAgICB9LFxuICAgICAgbmV4dDoge1xuICAgICAgICB0cmFuc2xhdGU6IFswLCAwLCAwXSxcbiAgICAgICAgcm90YXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlOiAxXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZ2V0VHJhbnNsYXRlVmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gYCR7dmFsdWV9cHhgO1xuICB9O1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmNyZWF0aXZlRWZmZWN0O1xuICAgIGNvbnN0IHtcbiAgICAgIHByb2dyZXNzTXVsdGlwbGllcjogbXVsdGlwbGllclxuICAgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgaXNDZW50ZXJlZFNsaWRlcyA9IHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXM7XG4gICAgaWYgKGlzQ2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIGNvbnN0IG1hcmdpbiA9IHNsaWRlc1NpemVzR3JpZFswXSAvIDIgLSBzd2lwZXIucGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZSB8fCAwO1xuICAgICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKGNhbGMoNTAlIC0gJHttYXJnaW59cHgpKWA7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc2xpZGVzW2ldO1xuICAgICAgY29uc3Qgc2xpZGVQcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHNsaWRlRWwucHJvZ3Jlc3MsIC1wYXJhbXMubGltaXRQcm9ncmVzcyksIHBhcmFtcy5saW1pdFByb2dyZXNzKTtcbiAgICAgIGxldCBvcmlnaW5hbFByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICBpZiAoIWlzQ2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgb3JpZ2luYWxQcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHNsaWRlRWwub3JpZ2luYWxQcm9ncmVzcywgLXBhcmFtcy5saW1pdFByb2dyZXNzKSwgcGFyYW1zLmxpbWl0UHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2Zmc2V0ID0gc2xpZGVFbC5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIGNvbnN0IHQgPSBbc3dpcGVyLnBhcmFtcy5jc3NNb2RlID8gLW9mZnNldCAtIHN3aXBlci50cmFuc2xhdGUgOiAtb2Zmc2V0LCAwLCAwXTtcbiAgICAgIGNvbnN0IHIgPSBbMCwgMCwgMF07XG4gICAgICBsZXQgY3VzdG9tID0gZmFsc2U7XG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0WzFdID0gdFswXTtcbiAgICAgICAgdFswXSA9IDA7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgdHJhbnNsYXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIHJvdGF0ZTogWzAsIDAsIDBdLFxuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgb3BhY2l0eTogMVxuICAgICAgfTtcbiAgICAgIGlmIChwcm9ncmVzcyA8IDApIHtcbiAgICAgICAgZGF0YSA9IHBhcmFtcy5uZXh0O1xuICAgICAgICBjdXN0b20gPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwcm9ncmVzcyA+IDApIHtcbiAgICAgICAgZGF0YSA9IHBhcmFtcy5wcmV2O1xuICAgICAgICBjdXN0b20gPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gc2V0IHRyYW5zbGF0ZVxuICAgICAgdC5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgdFtpbmRleF0gPSBgY2FsYygke3ZhbHVlfXB4ICsgKCR7Z2V0VHJhbnNsYXRlVmFsdWUoZGF0YS50cmFuc2xhdGVbaW5kZXhdKX0gKiAke01hdGguYWJzKHByb2dyZXNzICogbXVsdGlwbGllcil9KSlgO1xuICAgICAgfSk7XG4gICAgICAvLyBzZXQgcm90YXRlc1xuICAgICAgci5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHZhbCA9IGRhdGEucm90YXRlW2luZGV4XSAqIE1hdGguYWJzKHByb2dyZXNzICogbXVsdGlwbGllcik7XG4gICAgICAgIGlmIChzd2lwZXIuYnJvd3NlciAmJiBzd2lwZXIuYnJvd3Nlci5pc1NhZmFyaSAmJiBNYXRoLmFicyh2YWwpIC8gOTAgJSAyID09PSAxKSB7XG4gICAgICAgICAgdmFsICs9IDAuMDAxO1xuICAgICAgICB9XG4gICAgICAgIHJbaW5kZXhdID0gdmFsO1xuICAgICAgfSk7XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHNsaWRlUHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCB0cmFuc2xhdGVTdHJpbmcgPSB0LmpvaW4oJywgJyk7XG4gICAgICBjb25zdCByb3RhdGVTdHJpbmcgPSBgcm90YXRlWCgke3JbMF19ZGVnKSByb3RhdGVZKCR7clsxXX1kZWcpIHJvdGF0ZVooJHtyWzJdfWRlZylgO1xuICAgICAgY29uc3Qgc2NhbGVTdHJpbmcgPSBvcmlnaW5hbFByb2dyZXNzIDwgMCA/IGBzY2FsZSgkezEgKyAoMSAtIGRhdGEuc2NhbGUpICogb3JpZ2luYWxQcm9ncmVzcyAqIG11bHRpcGxpZXJ9KWAgOiBgc2NhbGUoJHsxIC0gKDEgLSBkYXRhLnNjYWxlKSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyfSlgO1xuICAgICAgY29uc3Qgb3BhY2l0eVN0cmluZyA9IG9yaWdpbmFsUHJvZ3Jlc3MgPCAwID8gMSArICgxIC0gZGF0YS5vcGFjaXR5KSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyIDogMSAtICgxIC0gZGF0YS5vcGFjaXR5KSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyO1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlU3RyaW5nfSkgJHtyb3RhdGVTdHJpbmd9ICR7c2NhbGVTdHJpbmd9YDtcblxuICAgICAgLy8gU2V0IHNoYWRvd3NcbiAgICAgIGlmIChjdXN0b20gJiYgZGF0YS5zaGFkb3cgfHwgIWN1c3RvbSkge1xuICAgICAgICBsZXQgc2hhZG93RWwgPSBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93Jyk7XG4gICAgICAgIGlmICghc2hhZG93RWwgJiYgZGF0YS5zaGFkb3cpIHtcbiAgICAgICAgICBzaGFkb3dFbCA9IGNyZWF0ZVNoYWRvdygnY3JlYXRpdmUnLCBzbGlkZUVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhZG93RWwpIHtcbiAgICAgICAgICBjb25zdCBzaGFkb3dPcGFjaXR5ID0gcGFyYW1zLnNoYWRvd1BlclByb2dyZXNzID8gcHJvZ3Jlc3MgKiAoMSAvIHBhcmFtcy5saW1pdFByb2dyZXNzKSA6IHByb2dyZXNzO1xuICAgICAgICAgIHNoYWRvd0VsLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyhzaGFkb3dPcGFjaXR5KSwgMCksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHlTdHJpbmc7XG4gICAgICBpZiAoZGF0YS5vcmlnaW4pIHtcbiAgICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gZGF0YS5vcmlnaW47XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybUVsZW1lbnRzID0gc3dpcGVyLnNsaWRlcy5tYXAoc2xpZGVFbCA9PiBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpKTtcbiAgICB0cmFuc2Zvcm1FbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUtc2hhZG93JykuZm9yRWFjaChzaGFkb3dFbCA9PiB7XG4gICAgICAgIHNoYWRvd0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kKHtcbiAgICAgIHN3aXBlcixcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgdHJhbnNmb3JtRWxlbWVudHMsXG4gICAgICBhbGxTbGlkZXM6IHRydWVcbiAgICB9KTtcbiAgfTtcbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnY3JlYXRpdmUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBwZXJzcGVjdGl2ZTogKCkgPT4gc3dpcGVyLnBhcmFtcy5jcmVhdGl2ZUVmZmVjdC5wZXJzcGVjdGl2ZSxcbiAgICBvdmVyd3JpdGVQYXJhbXM6ICgpID0+ICh7XG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgdmlydHVhbFRyYW5zbGF0ZTogIXN3aXBlci5wYXJhbXMuY3NzTW9kZVxuICAgIH0pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBFZmZlY3RDcmVhdGl2ZSBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjcmVhdGVTaGFkb3cgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLXNoYWRvdy5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0Q2FyZHMoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgY2FyZHNFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIHJvdGF0ZTogdHJ1ZSxcbiAgICAgIHBlclNsaWRlUm90YXRlOiAyLFxuICAgICAgcGVyU2xpZGVPZmZzZXQ6IDhcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzLFxuICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICBydGxUcmFuc2xhdGU6IHJ0bFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5jYXJkc0VmZmVjdDtcbiAgICBjb25zdCB7XG4gICAgICBzdGFydFRyYW5zbGF0ZSxcbiAgICAgIGlzVG91Y2hlZFxuICAgIH0gPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICAgIGNvbnN0IGN1cnJlbnRUcmFuc2xhdGUgPSBydGwgPyAtc3dpcGVyLnRyYW5zbGF0ZSA6IHN3aXBlci50cmFuc2xhdGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzbGlkZXNbaV07XG4gICAgICBjb25zdCBzbGlkZVByb2dyZXNzID0gc2xpZGVFbC5wcm9ncmVzcztcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVQcm9ncmVzcywgLTQpLCA0KTtcbiAgICAgIGxldCBvZmZzZXQgPSBzbGlkZUVsLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7c3dpcGVyLm1pblRyYW5zbGF0ZSgpfXB4KWA7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgb2Zmc2V0IC09IHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIH1cbiAgICAgIGxldCB0WCA9IHN3aXBlci5wYXJhbXMuY3NzTW9kZSA/IC1vZmZzZXQgLSBzd2lwZXIudHJhbnNsYXRlIDogLW9mZnNldDtcbiAgICAgIGxldCB0WSA9IDA7XG4gICAgICBjb25zdCB0WiA9IC0xMDAgKiBNYXRoLmFicyhwcm9ncmVzcyk7XG4gICAgICBsZXQgc2NhbGUgPSAxO1xuICAgICAgbGV0IHJvdGF0ZSA9IC1wYXJhbXMucGVyU2xpZGVSb3RhdGUgKiBwcm9ncmVzcztcbiAgICAgIGxldCB0WEFkZCA9IHBhcmFtcy5wZXJTbGlkZU9mZnNldCAtIE1hdGguYWJzKHByb2dyZXNzKSAqIDAuNzU7XG4gICAgICBjb25zdCBzbGlkZUluZGV4ID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgPyBzd2lwZXIudmlydHVhbC5mcm9tICsgaSA6IGk7XG4gICAgICBjb25zdCBpc1N3aXBlVG9OZXh0ID0gKHNsaWRlSW5kZXggPT09IGFjdGl2ZUluZGV4IHx8IHNsaWRlSW5kZXggPT09IGFjdGl2ZUluZGV4IC0gMSkgJiYgcHJvZ3Jlc3MgPiAwICYmIHByb2dyZXNzIDwgMSAmJiAoaXNUb3VjaGVkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgJiYgY3VycmVudFRyYW5zbGF0ZSA8IHN0YXJ0VHJhbnNsYXRlO1xuICAgICAgY29uc3QgaXNTd2lwZVRvUHJldiA9IChzbGlkZUluZGV4ID09PSBhY3RpdmVJbmRleCB8fCBzbGlkZUluZGV4ID09PSBhY3RpdmVJbmRleCArIDEpICYmIHByb2dyZXNzIDwgMCAmJiBwcm9ncmVzcyA+IC0xICYmIChpc1RvdWNoZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSAmJiBjdXJyZW50VHJhbnNsYXRlID4gc3RhcnRUcmFuc2xhdGU7XG4gICAgICBpZiAoaXNTd2lwZVRvTmV4dCB8fCBpc1N3aXBlVG9QcmV2KSB7XG4gICAgICAgIGNvbnN0IHN1YlByb2dyZXNzID0gKDEgLSBNYXRoLmFicygoTWF0aC5hYnMocHJvZ3Jlc3MpIC0gMC41KSAvIDAuNSkpICoqIDAuNTtcbiAgICAgICAgcm90YXRlICs9IC0yOCAqIHByb2dyZXNzICogc3ViUHJvZ3Jlc3M7XG4gICAgICAgIHNjYWxlICs9IC0wLjUgKiBzdWJQcm9ncmVzcztcbiAgICAgICAgdFhBZGQgKz0gOTYgKiBzdWJQcm9ncmVzcztcbiAgICAgICAgdFkgPSBgJHstMjUgKiBzdWJQcm9ncmVzcyAqIE1hdGguYWJzKHByb2dyZXNzKX0lYDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9ncmVzcyA8IDApIHtcbiAgICAgICAgLy8gbmV4dFxuICAgICAgICB0WCA9IGBjYWxjKCR7dFh9cHggJHtydGwgPyAnLScgOiAnKyd9ICgke3RYQWRkICogTWF0aC5hYnMocHJvZ3Jlc3MpfSUpKWA7XG4gICAgICB9IGVsc2UgaWYgKHByb2dyZXNzID4gMCkge1xuICAgICAgICAvLyBwcmV2XG4gICAgICAgIHRYID0gYGNhbGMoJHt0WH1weCAke3J0bCA/ICctJyA6ICcrJ30gKC0ke3RYQWRkICogTWF0aC5hYnMocHJvZ3Jlc3MpfSUpKWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0WCA9IGAke3RYfXB4YDtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIGNvbnN0IHByZXZZID0gdFk7XG4gICAgICAgIHRZID0gdFg7XG4gICAgICAgIHRYID0gcHJldlk7XG4gICAgICB9XG4gICAgICBjb25zdCBzY2FsZVN0cmluZyA9IHByb2dyZXNzIDwgMCA/IGAkezEgKyAoMSAtIHNjYWxlKSAqIHByb2dyZXNzfWAgOiBgJHsxIC0gKDEgLSBzY2FsZSkgKiBwcm9ncmVzc31gO1xuXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYFxuICAgICAgICB0cmFuc2xhdGUzZCgke3RYfSwgJHt0WX0sICR7dFp9cHgpXG4gICAgICAgIHJvdGF0ZVooJHtwYXJhbXMucm90YXRlID8gcnRsID8gLXJvdGF0ZSA6IHJvdGF0ZSA6IDB9ZGVnKVxuICAgICAgICBzY2FsZSgke3NjYWxlU3RyaW5nfSlcbiAgICAgIGA7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVTaGFkb3dzKSB7XG4gICAgICAgIC8vIFNldCBzaGFkb3dzXG4gICAgICAgIGxldCBzaGFkb3dFbCA9IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3cnKTtcbiAgICAgICAgaWYgKCFzaGFkb3dFbCkge1xuICAgICAgICAgIHNoYWRvd0VsID0gY3JlYXRlU2hhZG93KCdjYXJkcycsIHNsaWRlRWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFkb3dFbCkgc2hhZG93RWwuc3R5bGUub3BhY2l0eSA9IE1hdGgubWluKE1hdGgubWF4KChNYXRoLmFicyhwcm9ncmVzcykgLSAwLjUpIC8gMC41LCAwKSwgMSk7XG4gICAgICB9XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHNsaWRlUHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdycpLmZvckVhY2goc2hhZG93RWwgPT4ge1xuICAgICAgICBzaGFkb3dFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gICAgICBzd2lwZXIsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybUVsZW1lbnRzXG4gICAgfSk7XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2NhcmRzJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgcGVyc3BlY3RpdmU6ICgpID0+IHRydWUsXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0Q2FyZHMgYXMgZGVmYXVsdCB9O1xuIiwgImV4cG9ydCB7ZGVmYXVsdCBhcyBWaXJ0dWFsfSBmcm9tICcuL3ZpcnR1YWwubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBLZXlib2FyZH0gZnJvbSAnLi9rZXlib2FyZC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE1vdXNld2hlZWx9IGZyb20gJy4vbW91c2V3aGVlbC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE5hdmlnYXRpb259IGZyb20gJy4vbmF2aWdhdGlvbi5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFBhZ2luYXRpb259IGZyb20gJy4vcGFnaW5hdGlvbi5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNjcm9sbGJhcn0gZnJvbSAnLi9zY3JvbGxiYXIubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBQYXJhbGxheH0gZnJvbSAnLi9wYXJhbGxheC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFpvb219IGZyb20gJy4vem9vbS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIENvbnRyb2xsZXJ9IGZyb20gJy4vY29udHJvbGxlci5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEExMXl9IGZyb20gJy4vYTExeS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEhpc3Rvcnl9IGZyb20gJy4vaGlzdG9yeS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEhhc2hOYXZpZ2F0aW9ufSBmcm9tICcuL2hhc2gtbmF2aWdhdGlvbi5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEF1dG9wbGF5fSBmcm9tICcuL2F1dG9wbGF5Lm1qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVGh1bWJzfSBmcm9tICcuL3RodW1icy5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEZyZWVNb2RlfSBmcm9tICcuL2ZyZWUtbW9kZS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEdyaWR9IGZyb20gJy4vZ3JpZC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE1hbmlwdWxhdGlvbn0gZnJvbSAnLi9tYW5pcHVsYXRpb24ubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBFZmZlY3RGYWRlfSBmcm9tICcuL2VmZmVjdC1mYWRlLm1qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgRWZmZWN0Q3ViZX0gZnJvbSAnLi9lZmZlY3QtY3ViZS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEVmZmVjdEZsaXB9IGZyb20gJy4vZWZmZWN0LWZsaXAubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBFZmZlY3RDb3ZlcmZsb3d9IGZyb20gJy4vZWZmZWN0LWNvdmVyZmxvdy5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEVmZmVjdENyZWF0aXZlfSBmcm9tICcuL2VmZmVjdC1jcmVhdGl2ZS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEVmZmVjdENhcmRzfSBmcm9tICcuL2VmZmVjdC1jYXJkcy5tanMnOyIsICJpbXBvcnQgU3dpcGVyIGZyb20gXCJzd2lwZXJcIjtcbmltcG9ydCB7XG4gIEF1dG9wbGF5LFxuICBFZmZlY3RGYWRlLFxuICBHcmlkLFxuICBNb3VzZXdoZWVsLFxuICBOYXZpZ2F0aW9uLFxuICBQYWdpbmF0aW9uLFxuICBUaHVtYnMsXG4gIENvbnRyb2xsZXIsXG59IGZyb20gXCJzd2lwZXIvbW9kdWxlc1wiO1xuXG4vKipcbiAqIEBwYXJhbSBzd2lwZXJJbml0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2lwZXJJbml0KCkge1xuICBpbml0SGlzdG9yeVN3aXBlcigpO1xuICAkKFwiLnN3aXBlci1jb2x1bW4tYXV0b1wiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAvLyBDb25maWd1cmF0aW9uIGZsYWdzdmlkZW9TZXR0aW5nXG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgbG9vcDogJHRoaXMuaGFzQ2xhc3MoXCJzd2lwZXItbG9vcFwiKSxcbiAgICAgIHRvdWNoTW92ZTogJHRoaXMuaGFzQ2xhc3MoXCJhbGxvdy10b3VjaE1vdmVcIikgfHwgdHJ1ZSxcbiAgICAgIG1vdXNlV2hlZWw6ICR0aGlzLmhhc0NsYXNzKFwiYWxsb3ctbW91c2VXaGVlbFwiKVxuICAgICAgICA/IHsgZm9yY2VUb0F4aXM6IHRydWUgfVxuICAgICAgICA6IGZhbHNlLFxuICAgICAgYXV0b0hlaWdodDogJHRoaXMuaGFzQ2xhc3MoXCJhdXRvLWhlaWdodFwiKSxcbiAgICAgIGhhc1ZpZGVvOiAkdGhpcy5oYXNDbGFzcyhcImF1dG8tZGV0ZWN0LXZpZGVvXCIpLFxuICAgICAgcHJvZ3Jlc3NiYXI6ICR0aGlzLmhhc0NsYXNzKFwicHJvZ3Jlc3NiYXJcIiksXG4gICAgICB0aW1lOiAkdGhpcy5hdHRyKFwiZGF0YS10aW1lXCIpIHx8IDM1MDAsXG4gICAgICBhdXRvcGxheTogJHRoaXMuaGFzQ2xhc3MoXCJhdXRvcGxheVwiKSxcbiAgICB9O1xuXG4gICAgLy8gQWRkIHVuaXF1ZSBpZGVudGlmaWVyIGNsYXNzXG4gICAgJHRoaXMuYWRkQ2xhc3MoYHN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fWApO1xuXG4gICAgLy8gQ3JlYXRlIHN3aXBlciB3aXRoIG9wdGltaXplZCBvcHRpb25zXG4gICAgbmV3IFN3aXBlcihgLnN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fSAuc3dpcGVyYCwge1xuICAgICAgbW9kdWxlczogW05hdmlnYXRpb24sIFBhZ2luYXRpb24sIE1vdXNld2hlZWxdLFxuICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgIG9ic2VydmVyOiB0cnVlLFxuICAgICAgb2JzZXJ2ZVBhcmVudHM6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICBsb29wOiBjb25maWcubG9vcCxcbiAgICAgIC4uLihjb25maWcuYXV0b3BsYXkgJiYge1xuICAgICAgICBhdXRvcGxheToge1xuICAgICAgICAgIGRlbGF5OiBjb25maWcudGltZSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGVsOiBgLnN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fSAuc3dpcGVyLXBhZ2luYXRpb25gLFxuICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgIC4uLihjb25maWcucHJvZ3Jlc3NiYXIgJiYge1xuICAgICAgICAgIHR5cGU6IFwicHJvZ3Jlc3NiYXJcIixcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgICAgbW91c2V3aGVlbDogY29uZmlnLm1vdXNlV2hlZWwsXG4gICAgICBhbGxvd1RvdWNoTW92ZTogY29uZmlnLnRvdWNoTW92ZSxcbiAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgcHJldkVsOiBgLnN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fSAuYnRuLXByZXZgLFxuICAgICAgICBuZXh0RWw6IGAuc3dpcGVyLWNvbHVtbi1hdXRvLWlkLSR7aW5kZXh9IC5idG4tbmV4dGAsXG4gICAgICB9LFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIGF1dG9IZWlnaHQ6IGNvbmZpZy5hdXRvSGVpZ2h0LFxuICAgICAgb246IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuICBuZXcgU3dpcGVyKFwiLnNlY3Rpb24taG9tZS1iYW5uZXIgLnN3aXBlclwiLCB7XG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgc3BlZWQ6IDEwMDAsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBlZmZlY3Q6IFwiZmFkZVwiLFxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogMzUwMCxcbiAgICB9LFxuICAgIG1vZHVsZXM6IFtQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uLCBBdXRvcGxheSwgRWZmZWN0RmFkZV0sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IFwiLnNlY3Rpb24taG9tZS1iYW5uZXIgLnN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICByZW5kZXJCdWxsZXQ6IGZ1bmN0aW9uIChpbmRleCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlID0gdGhpcy5zbGlkZXNbaW5kZXhdO1xuICAgICAgICBjb25zdCB0aXRsZSA9IHNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtdGl0bGVcIikgfHwgYFNsaWRlICR7aW5kZXggKyAxfWA7XG4gICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCIke2NsYXNzTmFtZX1cIj4ke3RpdGxlfTwvc3Bhbj5gO1xuICAgICAgfSxcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuc2VjdGlvbi1ob21lLWJhbm5lciAuYnRuLW5leHRcIixcbiAgICAgIHByZXZFbDogXCIuc2VjdGlvbi1ob21lLWJhbm5lciAuYnRuLXByZXZcIixcbiAgICB9LFxuICB9KTtcblxuICAvLyBQYWdlIEJhbm5lciBTd2lwZXJcbiAgbmV3IFN3aXBlcihcIi5wYWdlLWJhbm5lciAuYmFubmVyLXN3aXBlclwiLCB7XG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgc3BlZWQ6IDMwMCxcbiAgICBsb29wOiB0cnVlLFxuICAgIGVmZmVjdDogXCJmYWRlXCIsXG4gICAgLy8gYXV0b3BsYXk6IHtcbiAgICAvLyAgIGRlbGF5OiA1MDAwLFxuICAgIC8vICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgIC8vIH0sXG4gICAgbW9kdWxlczogW1BhZ2luYXRpb24sIE5hdmlnYXRpb24sIEF1dG9wbGF5LCBFZmZlY3RGYWRlXSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIucGFnZS1iYW5uZXIgLmJhbm5lci1wYWdpbmF0aW9uXCIsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLnBhZ2UtYmFubmVyIC5iYW5uZXItbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5wYWdlLWJhbm5lciAuYmFubmVyLXByZXZcIixcbiAgICB9LFxuICB9KTtcblxuICAvLyBDdXN0b21lciBTbGlkZXIgKEhvbWUtMylcbiAgbmV3IFN3aXBlcihcIi5ob21lLTMgLmN1c3RvbWVyLXNsaWRlclwiLCB7XG4gICAgc2xpZGVzUGVyVmlldzogMixcbiAgICBzcGFjZUJldHdlZW46IDE2LFxuICAgIHNwZWVkOiA1MDAsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBhdXRvcGxheToge1xuICAgICAgZGVsYXk6IDMwMDAsXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgfSxcbiAgICBtb2R1bGVzOiBbUGFnaW5hdGlvbiwgQXV0b3BsYXksIEVmZmVjdEZhZGVdLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuaG9tZS0zIC5idG4tbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5ob21lLTMgLmJ0bi1wcmV2XCIsXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIuaG9tZS0zIC5ob21lLTMtcGFnaW5hdGlvblwiLFxuICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgIH0sXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDY0MDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgICBzcGFjZUJldHdlZW46IDIwLFxuICAgICAgfSxcbiAgICAgIDc2ODoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxuICAgICAgICBzcGFjZUJldHdlZW46IDI0LFxuICAgICAgfSxcbiAgICAgIDEwMjQ6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogNSxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gU2VydmljZXMgRGV0YWlsIFNsaWRlclxuICBpZiAoJChcIi5zd2lwZXItc2VydmljZXMtZGV0YWlsIC5zd2lwZXJcIikubGVuZ3RoID4gMCkge1xuICAgIG5ldyBTd2lwZXIoXCIuc3dpcGVyLXNlcnZpY2VzLWRldGFpbCAuc3dpcGVyXCIsIHtcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBBdXRvcGxheV0sXG4gICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiA4LFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgIHNwZWVkOiA2MDAsXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogXCIuc3dpcGVyLXNlcnZpY2VzLWRldGFpbCAuc3dpcGVyLWJ1dHRvbi1kZUdhbGxlcnktbmV4dFwiLFxuICAgICAgICBwcmV2RWw6IFwiLnN3aXBlci1zZXJ2aWNlcy1kZXRhaWwgLnN3aXBlci1idXR0b24tZGVHYWxsZXJ5LXByZXZcIixcbiAgICAgIH0sXG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICAzMjA6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjIsXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiA4LFxuICAgICAgICB9LFxuICAgICAgICA2NDA6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjMsXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiA4LFxuICAgICAgICB9LFxuICAgICAgICA3Njg6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjQsXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiA4LFxuICAgICAgICB9LFxuICAgICAgICAxMDI0OiB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMS41LFxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogOCxcbiAgICAgICAgfSxcbiAgICAgICAgMTI4MDoge1xuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEuNixcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDgsXG4gICAgICAgIH0sXG4gICAgICAgIDE1MzY6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjgsXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiA4LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB1cGRhdGVTbGlkZU9wYWNpdHkodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdXBkYXRlU2xpZGVPcGFjaXR5KHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdXBkYXRlU2xpZGVPcGFjaXR5KHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNsaWRlT3BhY2l0eShzd2lwZXIpIHtcbiAgICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGUpID0+IHtcbiAgICAgICAgaWYgKHNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhcInN3aXBlci1zbGlkZS1hY3RpdmVcIikpIHtcbiAgICAgICAgICBzbGlkZS5zdHlsZS56SW5kZXggPSBcIjJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbGlkZS5zdHlsZS56SW5kZXggPSBcIjFcIjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2VydmljZXMgT3RoZXIgU2xpZGVyXG4gIGlmICgkKFwiLnN3aXBlci1zZXJ2aWNlcy1vdGhlciAuc3dpcGVyXCIpLmxlbmd0aCA+IDApIHtcbiAgICBuZXcgU3dpcGVyKFwiLnN3aXBlci1zZXJ2aWNlcy1vdGhlciAuc3dpcGVyXCIsIHtcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBBdXRvcGxheSwgTW91c2V3aGVlbF0sXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBzcGVlZDogODAwLFxuICAgICAgbW91c2V3aGVlbDoge1xuICAgICAgICBmb3JjZVRvQXhpczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogXCIuc3dpcGVyLXNlcnZpY2VzLW90aGVyIC5zd2lwZXItYnV0dG9uLW90aGVyLW5leHRcIixcbiAgICAgICAgcHJldkVsOiBcIi5zd2lwZXItc2VydmljZXMtb3RoZXIgLnN3aXBlci1idXR0b24tb3RoZXItcHJldlwiLFxuICAgICAgfSxcbiAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgIDU3Njoge1xuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgICAgICAgfSxcbiAgICAgICAgMTAyNDoge1xuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiA0MCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEhpc3RvcnlTd2lwZXIoKSB7XG4gIGlmIChcbiAgICAkKFwiLmhpc3RvcnktdGltZWxpbmUgLnN3aXBlclwiKS5sZW5ndGggPiAwICYmXG4gICAgJChcIi5oaXN0b3J5LW1haW4gLnN3aXBlclwiKS5sZW5ndGggPiAwXG4gICkge1xuICAgIC8vIDEuIFRpbWVsaW5lIFN3aXBlclxuICAgIGNvbnN0IGhpc3RvcnlUaW1lbGluZSA9IG5ldyBTd2lwZXIoXCIuaGlzdG9yeS10aW1lbGluZSAuc3dpcGVyXCIsIHtcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBDb250cm9sbGVyXSxcbiAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICBzcGFjZUJldHdlZW46IDIwLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgICBjZW50ZXJlZFNsaWRlc0JvdW5kczogdHJ1ZSxcbiAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IHRydWUsXG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICA3Njg6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA1LFxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXG4gICAgICAgIH0sXG4gICAgICAgIDEwMjQ6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA3LFxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBjbGljazogZnVuY3Rpb24gKHN3aXBlcikge1xuICAgICAgICAgIGhpc3RvcnlNYWluLnNsaWRlVG8oc3dpcGVyLmNsaWNrZWRJbmRleCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gMi4gTWFpbiBDb250ZW50IFN3aXBlclxuICAgIGNvbnN0IGhpc3RvcnlNYWluID0gbmV3IFN3aXBlcihcIi5oaXN0b3J5LW1haW4gLnN3aXBlclwiLCB7XG4gICAgICBtb2R1bGVzOiBbTmF2aWdhdGlvbiwgQ29udHJvbGxlcl0sXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIHNwZWVkOiA4MDAsXG4gICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICAgIGNlbnRlcmVkU2xpZGVzQm91bmRzOiBmYWxzZSxcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAvLyBOYXZpZ2F0aW9uIHJlbW92ZWQgZnJvbSBjb25maWcgdG8gaGFuZGxlIG1hbnVhbGx5XG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICA3Njg6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICAgIH0sXG4gICAgICAgIDEwMjQ6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiAoc3dpcGVyKSB7XG4gICAgICAgICAgLy8gTWFudWFsIGJvdW5kcyBmb3IgRGVza3RvcCB0byBmaXggYWN0aXZlIGluZGV4IGlzc3VlXG4gICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDEwMjQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsV2lkdGggPSBzd2lwZXIudmlydHVhbFNpemU7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHN3aXBlci53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IG1heFRyYW5zbGF0ZSA9IC0odG90YWxXaWR0aCAtIGNvbnRhaW5lcldpZHRoKTtcblxuICAgICAgICAgICAgbGV0IHZpc3VhbFRyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG5cbiAgICAgICAgICAgIC8vIENsYW1wIHN0YXJ0IChsZWZ0KVxuICAgICAgICAgICAgaWYgKHZpc3VhbFRyYW5zbGF0ZSA+IDApIHZpc3VhbFRyYW5zbGF0ZSA9IDA7XG4gICAgICAgICAgICAvLyBDbGFtcCBlbmQgKHJpZ2h0KVxuICAgICAgICAgICAgaWYgKHZpc3VhbFRyYW5zbGF0ZSA8IG1heFRyYW5zbGF0ZSkgdmlzdWFsVHJhbnNsYXRlID0gbWF4VHJhbnNsYXRlO1xuXG4gICAgICAgICAgICAvLyBBcHBseSB0byBET00gb25seSwga2VlcCBzd2lwZXIudHJhbnNsYXRlIGxvZ2ljYWxcbiAgICAgICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dmlzdWFsVHJhbnNsYXRlfXB4LCAwLCAwKWA7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gKHN3aXBlcikge1xuICAgICAgICAgIC8vIFN5bmMgdGltZWxpbmUgYWN0aXZlIHN0YXRlXG4gICAgICAgICAgY29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgICAgICAgaGlzdG9yeVRpbWVsaW5lLnNsaWRlVG8oYWN0aXZlSW5kZXgpO1xuXG4gICAgICAgICAgLy8gTWFudWFsbHkgdXBkYXRlIGFjdGl2ZSBjbGFzcyBvbiB0aW1lbGluZSBkb3RzXG4gICAgICAgICAgJChcIi5oaXN0b3J5LXRpbWVsaW5lIC5zd2lwZXItc2xpZGVcIikucmVtb3ZlQ2xhc3MoXG4gICAgICAgICAgICBcInN3aXBlci1zbGlkZS10aHVtYi1hY3RpdmVcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgJChoaXN0b3J5VGltZWxpbmUuc2xpZGVzW2FjdGl2ZUluZGV4XSkuYWRkQ2xhc3MoXG4gICAgICAgICAgICBcInN3aXBlci1zbGlkZS10aHVtYi1hY3RpdmVcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChzd2lwZXIpIHtcbiAgICAgICAgICAkKGhpc3RvcnlUaW1lbGluZS5zbGlkZXNbc3dpcGVyLmFjdGl2ZUluZGV4XSkuYWRkQ2xhc3MoXG4gICAgICAgICAgICBcInN3aXBlci1zbGlkZS10aHVtYi1hY3RpdmVcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gMy4gQ3VzdG9tIE5hdmlnYXRpb24gTG9naWMgKE1hbnVhbClcbiAgICAkKFwiLmhpc3RvcnktbmF2IC5idG4tbmV4dFwiKVxuICAgICAgLm9mZihcImNsaWNrXCIpXG4gICAgICAub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChoaXN0b3J5TWFpbi5hY3RpdmVJbmRleCA9PT0gaGlzdG9yeU1haW4uc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBoaXN0b3J5TWFpbi5zbGlkZVRvKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpc3RvcnlNYWluLnNsaWRlTmV4dCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICQoXCIuaGlzdG9yeS1uYXYgLmJ0bi1wcmV2XCIpXG4gICAgICAub2ZmKFwiY2xpY2tcIilcbiAgICAgIC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGhpc3RvcnlNYWluLmFjdGl2ZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgaGlzdG9yeU1haW4uc2xpZGVUbyhoaXN0b3J5TWFpbi5zbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlzdG9yeU1haW4uc2xpZGVQcmV2KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gTWFjaGluZSBTbGlkZXJcbiAgaWYgKCQoXCIubWFjaGluZS1zbGlkZXIgLnN3aXBlclwiKS5sZW5ndGggPiAwKSB7XG4gICAgbmV3IFN3aXBlcihcIi5tYWNoaW5lLXNsaWRlciAuc3dpcGVyXCIsIHtcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBBdXRvcGxheSwgRWZmZWN0RmFkZV0sXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBlZmZlY3Q6IFwiZmFkZVwiLFxuICAgICAgZmFkZUVmZmVjdDoge1xuICAgICAgICBjcm9zc0ZhZGU6IHRydWUsXG4gICAgICB9LFxuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6IFwiLm1hY2hpbmUtbmF2IC5idG4tbmV4dFwiLFxuICAgICAgICBwcmV2RWw6IFwiLm1hY2hpbmUtbmF2IC5idG4tcHJldlwiLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCBTd2lwZXIgZnJvbSBcInN3aXBlclwiO1xyXG5pbXBvcnQge1xyXG4gIEF1dG9wbGF5LFxyXG4gIEVmZmVjdEZhZGUsXHJcbiAgR3JpZCxcclxuICBNb3VzZXdoZWVsLFxyXG4gIE5hdmlnYXRpb24sXHJcbiAgUGFnaW5hdGlvbixcclxuICBUaHVtYnMsXHJcbiAgQ29udHJvbGxlcixcclxuICBGcmVlTW9kZSxcclxufSBmcm9tIFwic3dpcGVyL21vZHVsZXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByb2R1Y3REZXRhaWwoKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgaWYgKFxyXG4gICAgJChcIi5zd2lwZXItcHJvZHVjdC1nYWxsZXJ5XCIpLmxlbmd0aCA+IDAgJiZcclxuICAgICQoXCIudGh1bWJzLXNsaWRlclwiKS5sZW5ndGggPiAwXHJcbiAgKSB7XHJcbiAgICAvLyBUaHVtYnMgU3dpcGVyXHJcbiAgICBjb25zdCB0aHVtYnNTd2lwZXIgPSBuZXcgU3dpcGVyKFwiLnRodW1icy1zbGlkZXJcIiwge1xyXG4gICAgICBtb2R1bGVzOiBbRnJlZU1vZGUsIE5hdmlnYXRpb24sIFRodW1ic10sXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogOCxcclxuICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAwOiB7XHJcbiAgICAgICAgICBkaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiLFxyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogNSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgZGlyZWN0aW9uOiBcInZlcnRpY2FsXCIsXHJcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxyXG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTWFpbiBHYWxsZXJ5IFN3aXBlclxyXG4gICAgY29uc3QgbWFpbkdhbGxlcnkgPSBuZXcgU3dpcGVyKFwiLnN3aXBlci1wcm9kdWN0LWdhbGxlcnlcIiwge1xyXG4gICAgICBtb2R1bGVzOiBbTmF2aWdhdGlvbiwgVGh1bWJzLCBFZmZlY3RGYWRlXSxcclxuICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgICBzcGVlZDogNjAwLFxyXG4gICAgICBlZmZlY3Q6IFwiZmFkZVwiLFxyXG4gICAgICBmYWRlRWZmZWN0OiB7XHJcbiAgICAgICAgY3Jvc3NGYWRlOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICB0aHVtYnM6IHtcclxuICAgICAgICBzd2lwZXI6IHRodW1ic1N3aXBlcixcclxuICAgICAgfSxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogXCIudGh1bWItbmV4dFwiLFxyXG4gICAgICAgIHByZXZFbDogXCIudGh1bWItcHJldlwiLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT0gUFJPRFVDVCBUQUJTID09PT09PT09PT09PVxyXG4gIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi1idG5cIik7XHJcbiAgY29uc3QgdGFiUGFuZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi1wYW5lXCIpO1xyXG5cclxuICBpZiAodGFiQnV0dG9ucy5sZW5ndGggPiAwICYmIHRhYlBhbmVzLmxlbmd0aCA+IDApIHtcclxuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldFRhYiA9IHRoaXMuZGF0YXNldC50YWI7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgZnJvbSBhbGwgYnV0dG9uc1xyXG4gICAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBhY3RpdmUgdG8gY2xpY2tlZCBidXR0b25cclxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgIC8vIEhpZGUgYWxsIHRhYiBwYW5lcyB3aXRoIGZhZGUgb3V0XHJcbiAgICAgICAgdGFiUGFuZXMuZm9yRWFjaCgocGFuZSkgPT4ge1xyXG4gICAgICAgICAgcGFuZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTaG93IHRhcmdldCB0YWIgcGFuZSB3aXRoIGZhZGUgaW5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldFBhbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRUYWIpO1xyXG4gICAgICAgICAgaWYgKHRhcmdldFBhbmUpIHtcclxuICAgICAgICAgICAgdGFyZ2V0UGFuZS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gS2V5Ym9hcmQgbmF2aWdhdGlvbiBmb3IgdGFic1xyXG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidXR0b24sIGluZGV4KSA9PiB7XHJcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGxldCBuZXdJbmRleDtcclxuXHJcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgbmV3SW5kZXggPSAoaW5kZXggKyAxKSAlIHRhYkJ1dHRvbnMubGVuZ3RoO1xyXG4gICAgICAgICAgdGFiQnV0dG9uc1tuZXdJbmRleF0uY2xpY2soKTtcclxuICAgICAgICAgIHRhYkJ1dHRvbnNbbmV3SW5kZXhdLmZvY3VzKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgbmV3SW5kZXggPSAoaW5kZXggLSAxICsgdGFiQnV0dG9ucy5sZW5ndGgpICUgdGFiQnV0dG9ucy5sZW5ndGg7XHJcbiAgICAgICAgICB0YWJCdXR0b25zW25ld0luZGV4XS5jbGljaygpO1xyXG4gICAgICAgICAgdGFiQnV0dG9uc1tuZXdJbmRleF0uZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT0gUkVMQVRFRCBQUk9EVUNUUyBTTElERVIgPT09PT09PT09PT09XHJcbiAgaWYgKCQoXCIuc3dpcGVyLXJlbGF0ZWQtcHJvZHVjdHNcIikubGVuZ3RoID4gMCkge1xyXG4gICAgbmV3IFN3aXBlcihcIi5zd2lwZXItcmVsYXRlZC1wcm9kdWN0c1wiLCB7XHJcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBBdXRvcGxheV0sXHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgc3BlZWQ6IDYwMCxcclxuICAgICAgLy8gICBhdXRvcGxheToge1xyXG4gICAgICAvLyAgICAgZGVsYXk6IDQwMDAsXHJcbiAgICAgIC8vICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXHJcbiAgICAgIC8vICAgfSxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogXCIud3JhcHBlci1yZWxhdGVkLXByb2R1Y3RzIC5idG4tcmVsYXRpdmUtbmV4dFwiLFxyXG4gICAgICAgIHByZXZFbDogXCIud3JhcHBlci1yZWxhdGVkLXByb2R1Y3RzIC5idG4tcmVsYXRpdmUtcHJldlwiLFxyXG4gICAgICB9LFxyXG4gICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgIDY0MDoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgIC8vICAgc3BhY2VCZXR3ZWVuOiAxMixcclxuICAgICAgICB9LFxyXG4gICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgIC8vICAgc3BhY2VCZXR3ZWVuOiAxNixcclxuICAgICAgICB9LFxyXG4gICAgICAgIDEwMjQ6IHtcclxuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgICAvLyAgIHNwYWNlQmV0d2VlbjogMTYsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAxMjgwOiB7XHJcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgLy8gICBzcGFjZUJldHdlZW46IDI0LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCBTd2lwZXIgZnJvbSBcInN3aXBlclwiO1xyXG5pbXBvcnQgeyBOYXZpZ2F0aW9uLCBBdXRvcGxheSB9IGZyb20gXCJzd2lwZXIvbW9kdWxlc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3VzdG9tZXJzRGV0YWlsKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53cmFwcGVyLWNvbnRlbnQtdGFiXCIpO1xyXG4gIGNvbnN0IGJ0blZpZXdNb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdmlldy1tb3JlXCIpO1xyXG5cclxuICBpZiAoIXdyYXBwZXIgfHwgIWJ0blZpZXdNb3JlKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IENPTExBUFNFRF9IRUlHSFQgPSBcIjgwdmhcIjsgLy8gcGhcdTFFQTNpIHRyXHUwMEY5bmcgdlx1MUVEQmkgQ1NTXHJcblxyXG4gIC8vIFNldCBpbml0aWFsIG1heC1oZWlnaHQgKHBoXHUwMEYybmcga2hpIHJlbG9hZClcclxuICBpZiAod3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoXCJjb2xsYXBzZWRcIikpIHtcclxuICAgIHdyYXBwZXIuc3R5bGUubWF4SGVpZ2h0ID0gQ09MTEFQU0VEX0hFSUdIVDtcclxuICB9XHJcblxyXG4gIGJ0blZpZXdNb3JlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBzcGFuID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwic3BhblwiKTtcclxuICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gd3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoXCJjb2xsYXBzZWRcIik7XHJcblxyXG4gICAgaWYgKGlzQ29sbGFwc2VkKSB7XHJcbiAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShcImNvbGxhcHNlZFwiKTtcclxuICAgICAgd3JhcHBlci5zdHlsZS5tYXhIZWlnaHQgPSB3cmFwcGVyLnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuXHJcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgaWYgKHNwYW4pIHNwYW4udGV4dENvbnRlbnQgPSBcIlRodSBnXHUxRUNEblwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3JhcHBlci5zdHlsZS5tYXhIZWlnaHQgPSBDT0xMQVBTRURfSEVJR0hUO1xyXG4gICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJjb2xsYXBzZWRcIik7XHJcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgaWYgKHNwYW4pIHNwYW4udGV4dENvbnRlbnQgPSBcIlhlbSB0aFx1MDBFQW1cIjtcclxuICAgICAgd3JhcHBlci5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXHJcbiAgICAgICAgYmxvY2s6IFwic3RhcnRcIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIFJlbGF0ZWQgQ3VzdG9tZXJzIFNsaWRlclxyXG4gIGNvbnN0IHJlbGF0ZWRTd2lwZXIgPSBuZXcgU3dpcGVyKFwiLnN3aXBlci1yZWxhdGVkLWN1c3RvbWVyc1wiLCB7XHJcbiAgICBtb2R1bGVzOiBbTmF2aWdhdGlvbiwgQXV0b3BsYXldLFxyXG4gICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgIHNwYWNlQmV0d2VlbjogMTYsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgc3BlZWQ6IDgwMCxcclxuICAgIGF1dG9wbGF5OiB7XHJcbiAgICAgIGRlbGF5OiA0MDAwLFxyXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICBuZXh0RWw6IFwiLnNlY3Rpb24tcmVsYXRlZC1jdXN0b21lcnMgLmJ0bi1uZXh0XCIsXHJcbiAgICAgIHByZXZFbDogXCIuc2VjdGlvbi1yZWxhdGVkLWN1c3RvbWVycyAuYnRuLXByZXZcIixcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA1NzY6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMTYsXHJcbiAgICAgIH0sXHJcbiAgICAgIDc2ODoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNixcclxuICAgICAgfSxcclxuICAgICAgMTI4MDoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiA0MCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcbn1cclxuIiwgImltcG9ydCBBT1MgZnJvbSBcImFvc1wiO1xuaW1wb3J0IGxvemFkIGZyb20gXCJsb3phZFwiO1xuaW1wb3J0IHtcbiAgc2V0QmFja2dyb3VuZEVsZW1lbnQsXG4gIGJ1dHRvblRvVG9wLFxuICBtZW51U3B5LFxuICBzdGlja0VsZW1lbnRUb0VkZ2UsXG4gIGluaXRBY2NvcmRpb24sXG59IGZyb20gXCIuL2hlbHBlclwiO1xuaW1wb3J0IHsgaGVhZGVyIH0gZnJvbSBcIi4vaGVhZGVyXCI7XG5pbXBvcnQgeyBzd2lwZXJJbml0IH0gZnJvbSBcIi4vc3dpcGVyXCI7XG5pbXBvcnQgcHJvZHVjdERldGFpbCBmcm9tIFwiLi9wcm9kdWN0RGV0YWlsXCI7XG5pbXBvcnQgY3VzdG9tZXJzRGV0YWlsIGZyb20gXCIuL2N1c3RvbWVyc0RldGFpbFwiO1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICBzZXRCYWNrZ3JvdW5kRWxlbWVudCgpO1xuICBzdGlja0VsZW1lbnRUb0VkZ2UoKTtcbiAgbWVudVNweSgpO1xuICBidXR0b25Ub1RvcCgpO1xuICBpbml0QWNjb3JkaW9uKCk7XG4gIGhlYWRlci5pbml0KCk7XG4gIHByb2R1Y3REZXRhaWwoKTtcbiAgY3VzdG9tZXJzRGV0YWlsKCk7XG4gIHN3aXBlckluaXQoKTtcbn0pO1xuXG4vKj09PT09PT09PT09PT09PT09PT09IEFvcyBJbml0ID09PT09PT09PT09PT09PT09PT09Ki9cbkFPUy5pbml0KHtcbiAgb2Zmc2V0OiAxMDAsXG4gIG9uY2U6IHRydWUsXG59KTtcbi8qPT09PT09PT09PT09PT09PT09PT0gTGF6eWxvYWQgSlMgPT09PT09PT09PT09PT09PT09PT0qL1xuY29uc3Qgb2JzZXJ2ZXIgPSBsb3phZCgpOyAvLyBsYXp5IGxvYWRzIGVsZW1lbnRzIHdpdGggZGVmYXVsdCBzZWxlY3RvciBhcyAnLmxvemFkJ1xub2JzZXJ2ZXIub2JzZXJ2ZSgpO1xuXG53aW5kb3cuRkUgPSB7XG4gIGxvemFkOiBvYnNlcnZlci5vYnNlcnZlLFxufTtcblxuLy8gUHJvZHVjdCBTb3J0ICYgQUpBWCBGaWx0ZXJcbihmdW5jdGlvbiAoJCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBTb3J0IGZ1bmN0aW9uYWxpdHlcbiAgJChcIiNwcm9kdWN0LW9yZGVyYnlcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG9yZGVyYnkgPSAkKHRoaXMpLnZhbCgpO1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uKTtcblxuICAgIGlmIChvcmRlcmJ5KSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcIm9yZGVyYnlcIiwgb3JkZXJieSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwib3JkZXJieVwiKTtcbiAgICB9XG5cbiAgICB3aW5kb3cubG9jYXRpb24gPSB1cmwudG9TdHJpbmcoKTtcbiAgfSk7XG5cbiAgLy8gQ2F0ZWdvcnkgY29sbGFwc2UgdG9nZ2xlXG4gICQoXCIuY2F0ZWdvcnktaXRlbSAudG9nZ2xlLWljb25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZyhcIkNsaWNrXCIpO1xuXG4gICAgY29uc3QgJHBhcmVudCA9ICQodGhpcykuY2xvc2VzdChcIi5jYXRlZ29yeS1pdGVtXCIpO1xuICAgIGNvbnN0ICRzdWJNZW51ID0gJHBhcmVudC5maW5kKFwiLnN1Yi1jYXRlZ29yeVwiKTtcblxuICAgIGlmICgkc3ViTWVudS5sZW5ndGgpIHtcbiAgICAgICRzdWJNZW51LnNsaWRlVG9nZ2xlKDMwMCk7XG4gICAgICAkKHRoaXMpLmh0bWwoXG4gICAgICAgICQodGhpcykuaHRtbCgpID09PSAnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wbHVzXCI+PC9pPidcbiAgICAgICAgICA/ICc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLW1pbnVzXCI+PC9pPidcbiAgICAgICAgICA6ICc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBsdXNcIj48L2k+J1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNtb290aCBzY3JvbGwgb24gcGFnaW5hdGlvblxuICAkKFwiLnByb2R1Y3QtcGFnaW5hdGlvbiBhXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuICAgICAge1xuICAgICAgICBzY3JvbGxUb3A6ICQoXCIucHJvZHVjdC1oZWFkZXJcIikub2Zmc2V0KCkudG9wIC0gMTAwLFxuICAgICAgfSxcbiAgICAgIDUwMFxuICAgICk7XG4gIH0pO1xufSkoalF1ZXJ5KTtcblxuLyoqXG4gKiBDdXN0b21TZWxlY3QgQ2xhc3MgLSBSZXVzYWJsZSBmb3IgbXVsdGlwbGUgc2VsZWN0IGluc3RhbmNlc1xuICogVXNhZ2U6IG5ldyBDdXN0b21TZWxlY3QoZWxlbWVudCwgb3B0aW9ucylcbiAqL1xuY2xhc3MgQ3VzdG9tU2VsZWN0IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBvbkNoYW5nZTogb3B0aW9ucy5vbkNoYW5nZSB8fCBudWxsLFxuICAgICAgb25PcGVuOiBvcHRpb25zLm9uT3BlbiB8fCBudWxsLFxuICAgICAgb25DbG9zZTogb3B0aW9ucy5vbkNsb3NlIHx8IG51bGwsXG4gICAgICBjbG9zZU9uU2VsZWN0OiBvcHRpb25zLmNsb3NlT25TZWxlY3QgIT09IGZhbHNlLFxuICAgICAgc2VhcmNoYWJsZTogb3B0aW9ucy5zZWFyY2hhYmxlIHx8IGZhbHNlLFxuICAgICAgcGxhY2Vob2xkZXI6IG9wdGlvbnMucGxhY2Vob2xkZXIgfHwgXCJTZWxlY3QgYW4gb3B0aW9uXCIsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH07XG5cbiAgICB0aGlzLnRyaWdnZXIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3QtdHJpZ2dlclwiKTtcbiAgICB0aGlzLmRyb3Bkb3duID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0LWRyb3Bkb3duXCIpO1xuICAgIHRoaXMuc2VsZWN0T3B0aW9ucyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlbGVjdC1vcHRpb25cIik7XG4gICAgdGhpcy5zZWxlY3RlZFZhbHVlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWQtdmFsdWVcIik7XG4gICAgdGhpcy5uYW1lID0gdGhpcy5lbGVtZW50LmRhdGFzZXQubmFtZSB8fCBcIlwiO1xuXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gbnVsbDtcbiAgICB0aGlzLmZvY3VzZWRJbmRleCA9IC0xO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIHRoaXMuc2V0SW5pdGlhbFZhbHVlKCk7XG4gIH1cblxuICBiaW5kRXZlbnRzKCkge1xuICAgIC8vIFRvZ2dsZSBkcm9wZG93biBvbiB0cmlnZ2VyIGNsaWNrXG4gICAgdGhpcy50cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTZWxlY3Qgb3B0aW9uIG9uIGNsaWNrXG4gICAgdGhpcy5zZWxlY3RPcHRpb25zLmZvckVhY2goKG9wdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24ob3B0aW9uLCBpbmRleCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gS2V5Ym9hcmQgbmF2aWdhdGlvbiBvbiBvcHRpb25zXG4gICAgICBvcHRpb24uc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlT3B0aW9uS2V5ZG93bihlLCBvcHRpb24sIGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gQ2xvc2Ugb24gb3V0c2lkZSBjbGlja1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEtleWJvYXJkIG5hdmlnYXRpb24gb24gdHJpZ2dlclxuICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVUcmlnZ2VyS2V5ZG93bihlKTtcbiAgICB9KTtcblxuICAgIC8vIFByZXZlbnQgc2Nyb2xsIHdoZW4gbmF2aWdhdGluZyB3aXRoIGtleWJvYXJkXG4gICAgdGhpcy5kcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKFtcIkFycm93VXBcIiwgXCJBcnJvd0Rvd25cIiwgXCJTcGFjZVwiXS5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0SW5pdGlhbFZhbHVlKCkge1xuICAgIGNvbnN0IGFjdGl2ZU9wdGlvbiA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdC1vcHRpb24uYWN0aXZlXCIpO1xuICAgIGlmIChhY3RpdmVPcHRpb24pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSBhY3RpdmVPcHRpb247XG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWUudGV4dENvbnRlbnQgPSBhY3RpdmVPcHRpb24udGV4dENvbnRlbnQudHJpbSgpO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZSgpIHtcbiAgICB0aGlzLmlzT3BlbiA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICAvLyBDbG9zZSBhbGwgb3RoZXIgc2VsZWN0cyBmaXJzdFxuICAgIEN1c3RvbVNlbGVjdC5jbG9zZUFsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwib3BlblwiKTtcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG5cbiAgICAvLyBTZXQgQVJJQSBhdHRyaWJ1dGVzXG4gICAgdGhpcy50cmlnZ2VyLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xuICAgIHRoaXMuZHJvcGRvd24uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcblxuICAgIC8vIEZvY3VzIGZpcnN0IG9wdGlvbiBvciBzZWxlY3RlZCBvcHRpb25cbiAgICBjb25zdCBhY3RpdmVPcHRpb24gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3Qtb3B0aW9uLmFjdGl2ZVwiKTtcbiAgICBpZiAoYWN0aXZlT3B0aW9uKSB7XG4gICAgICB0aGlzLmZvY3VzZWRJbmRleCA9IEFycmF5LmZyb20odGhpcy5zZWxlY3RPcHRpb25zKS5pbmRleE9mKGFjdGl2ZU9wdGlvbik7XG4gICAgICBhY3RpdmVPcHRpb24uZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSAwO1xuICAgICAgdGhpcy5zZWxlY3RPcHRpb25zWzBdPy5mb2N1cygpO1xuICAgIH1cblxuICAgIC8vIENhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW4odGhpcyk7XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIGV2ZW50XG4gICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJzZWxlY3Q6b3BlblwiLCB7XG4gICAgICAgIGRldGFpbDogeyBzZWxlY3Q6IHRoaXMgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwib3BlblwiKTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gLTE7XG5cbiAgICAvLyBTZXQgQVJJQSBhdHRyaWJ1dGVzXG4gICAgdGhpcy50cmlnZ2VyLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICB0aGlzLmRyb3Bkb3duLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcblxuICAgIC8vIFJldHVybiBmb2N1cyB0byB0cmlnZ2VyXG4gICAgdGhpcy50cmlnZ2VyLmZvY3VzKCk7XG5cbiAgICAvLyBDYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2UodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIGV2ZW50XG4gICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJzZWxlY3Q6Y2xvc2VcIiwge1xuICAgICAgICBkZXRhaWw6IHsgc2VsZWN0OiB0aGlzIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBzZWxlY3RPcHRpb24ob3B0aW9uLCBpbmRleCkge1xuICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uLmRhdGFzZXQudmFsdWU7XG4gICAgY29uc3QgdGV4dCA9IG9wdGlvbi50ZXh0Q29udGVudC50cmltKCk7XG5cbiAgICAvLyBSZW1vdmUgYWN0aXZlIGZyb20gYWxsIG9wdGlvbnNcbiAgICB0aGlzLnNlbGVjdE9wdGlvbnMuZm9yRWFjaCgob3B0KSA9PiBvcHQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XG5cbiAgICAvLyBBZGQgYWN0aXZlIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgIG9wdGlvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSBvcHRpb247XG5cbiAgICAvLyBVcGRhdGUgZGlzcGxheWVkIHRleHRcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWUudGV4dENvbnRlbnQgPSB0ZXh0O1xuXG4gICAgLy8gQ2xvc2UgZHJvcGRvd24gaWYgY29uZmlndXJlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPblNlbGVjdCkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIC8vIENhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGFuZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2hhbmdlKHZhbHVlLCB0ZXh0LCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBDdXN0b20gZXZlbnRcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChcInNlbGVjdDpjaGFuZ2VcIiwge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgc2VsZWN0OiB0aGlzLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgaGFuZGxlVHJpZ2dlcktleWRvd24oZSkge1xuICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgY2FzZSBcIiBcIjpcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFc2NhcGVcIjpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlT3B0aW9uS2V5ZG93bihlLCBvcHRpb24sIGluZGV4KSB7XG4gICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgY2FzZSBcIkVudGVyXCI6XG4gICAgICBjYXNlIFwiIFwiOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKG9wdGlvbiwgaW5kZXgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmZvY3VzTmV4dE9wdGlvbigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5mb2N1c1ByZXZpb3VzT3B0aW9uKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkVzY2FwZVwiOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiSG9tZVwiOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb25zWzBdPy5mb2N1cygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFbmRcIjpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmZvY3VzZWRJbmRleCA9IHRoaXMuc2VsZWN0T3B0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbnNbdGhpcy5mb2N1c2VkSW5kZXhdPy5mb2N1cygpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBmb2N1c05leHRPcHRpb24oKSB7XG4gICAgdGhpcy5mb2N1c2VkSW5kZXggPSBNYXRoLm1pbihcbiAgICAgIHRoaXMuZm9jdXNlZEluZGV4ICsgMSxcbiAgICAgIHRoaXMuc2VsZWN0T3B0aW9ucy5sZW5ndGggLSAxXG4gICAgKTtcbiAgICB0aGlzLnNlbGVjdE9wdGlvbnNbdGhpcy5mb2N1c2VkSW5kZXhdPy5mb2N1cygpO1xuICB9XG5cbiAgZm9jdXNQcmV2aW91c09wdGlvbigpIHtcbiAgICB0aGlzLmZvY3VzZWRJbmRleCA9IE1hdGgubWF4KHRoaXMuZm9jdXNlZEluZGV4IC0gMSwgMCk7XG4gICAgdGhpcy5zZWxlY3RPcHRpb25zW3RoaXMuZm9jdXNlZEluZGV4XT8uZm9jdXMoKTtcbiAgfVxuXG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkT3B0aW9uID8gdGhpcy5zZWxlY3RlZE9wdGlvbi5kYXRhc2V0LnZhbHVlIDogbnVsbDtcbiAgfVxuXG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRWYWx1ZS50ZXh0Q29udGVudC50cmltKCk7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IG9wdGlvbiA9IEFycmF5LmZyb20odGhpcy5zZWxlY3RPcHRpb25zKS5maW5kKFxuICAgICAgKG9wdCkgPT4gb3B0LmRhdGFzZXQudmFsdWUgPT09IHZhbHVlXG4gICAgKTtcbiAgICBpZiAob3B0aW9uKSB7XG4gICAgICBjb25zdCBpbmRleCA9IEFycmF5LmZyb20odGhpcy5zZWxlY3RPcHRpb25zKS5pbmRleE9mKG9wdGlvbik7XG4gICAgICB0aGlzLnNlbGVjdE9wdGlvbihvcHRpb24sIGluZGV4KTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XG4gICAgdGhpcy50cmlnZ2VyLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgfVxuXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xuICAgIHRoaXMudHJpZ2dlci5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgLy8gUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIGNsZWFuIHVwXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvZ2dsZSk7XG4gICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIC8vIFN0YXRpYyBtZXRob2QgdG8gY2xvc2UgYWxsIHNlbGVjdHMgZXhjZXB0IGN1cnJlbnRcbiAgc3RhdGljIGNsb3NlQWxsKGV4Y2VwdFNlbGVjdCA9IG51bGwpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmN1c3RvbS1zZWxlY3Qub3BlblwiKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgIGlmIChzZWxlY3QgIT09IGV4Y2VwdFNlbGVjdD8uZWxlbWVudCkge1xuICAgICAgICBzZWxlY3QuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBTdGF0aWMgbWV0aG9kIHRvIGluaXRpYWxpemUgYWxsIHNlbGVjdHMgb24gcGFnZVxuICBzdGF0aWMgaW5pdEFsbChzZWxlY3RvciA9IFwiLmN1c3RvbS1zZWxlY3RcIiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgaW5zdGFuY2VzID0gW107XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaW5zdGFuY2VzLnB1c2gobmV3IEN1c3RvbVNlbGVjdChlbGVtZW50LCBvcHRpb25zKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGluc3RhbmNlcztcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT0gQVVUTyBJTklUSUFMSVpBVElPTiA9PT09PT09PT09PT1cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgLy8gSW5pdGlhbGl6ZSBhbGwgY3VzdG9tIHNlbGVjdHNcbiAgY29uc3Qgc2VsZWN0cyA9IEN1c3RvbVNlbGVjdC5pbml0QWxsKFwiLmN1c3RvbS1zZWxlY3RcIik7XG5cbiAgLy8gPT09PT09PT09PT09IEVYQU1QTEU6IEhhbmRsZSBmaWx0ZXIgY2hhbmdlcyA9PT09PT09PT09PT1cbiAgY29uc3QgZmlsdGVycyA9IHtcbiAgICBvcmRlcmJ5OiBcIlwiLFxuICAgIHBlcnBhZ2U6IFwiMTJcIixcbiAgICBjYXRlZ29yeTogXCJcIixcbiAgfTtcblxuICAvLyBMaXN0ZW4gdG8gYWxsIHNlbGVjdCBjaGFuZ2VzXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY3VzdG9tLXNlbGVjdFwiKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdDpjaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUsIHRleHQgfSA9IGUuZGV0YWlsO1xuXG4gICAgICAvLyBVcGRhdGUgZmlsdGVycyBvYmplY3RcbiAgICAgIGZpbHRlcnNbbmFtZV0gPSB2YWx1ZTtcblxuICAgICAgY29uc29sZS5sb2coXCJGaWx0ZXIgY2hhbmdlZDpcIiwgeyBuYW1lLCB2YWx1ZSwgdGV4dCB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBmaWx0ZXJzOlwiLCBmaWx0ZXJzKTtcblxuICAgICAgLy8gQXBwbHkgZmlsdGVycyAoY2hvb3NlIG9uZSBtZXRob2QpXG4gICAgICBhcHBseUZpbHRlcnMoZmlsdGVycyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vID09PT09PT09PT09PSBNRVRIT0QgMTogVVJMIFBhcmFtZXRlcnMgKFBhZ2UgUmVsb2FkKSA9PT09PT09PT09PT1cbiAgZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XG5cbiAgICAvLyBVcGRhdGUgVVJMIHBhcmFtZXRlcnNcbiAgICBPYmplY3Qua2V5cyhmaWx0ZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChmaWx0ZXJzW2tleV0pIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCBmaWx0ZXJzW2tleV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFJlbG9hZCBwYWdlIHdpdGggbmV3IHBhcmFtZXRlcnNcbiAgICB3aW5kb3cubG9jYXRpb24gPSB1cmwudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PSBNRVRIT0QgMjogQUpBWCAoTm8gUGFnZSBSZWxvYWQpID09PT09PT09PT09PVxuICBmdW5jdGlvbiBhcHBseUZpbHRlcnNBamF4KGZpbHRlcnMpIHtcbiAgICBjb25zdCAkZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1ncmlkXCIpO1xuXG4gICAgZmV0Y2god3BBamF4LmFqYXh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgIGFjdGlvbjogXCJmaWx0ZXJfcHJvZHVjdHNcIixcbiAgICAgICAgLi4uZmlsdGVycyxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAkZ3JpZC5pbm5lckhUTUwgPSBkYXRhLmRhdGEuaHRtbDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnaW5hdGlvbiBpZiBuZWVkZWRcbiAgICAgICAgICB1cGRhdGVQYWdpbmF0aW9uKGRhdGEuZGF0YS5wYWdpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZpbHRlciBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT0gRVhBTVBMRTogR2V0IGFsbCBmaWx0ZXIgdmFsdWVzID09PT09PT09PT09PVxuICBmdW5jdGlvbiBnZXRBbGxGaWx0ZXJWYWx1ZXMoKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgc2VsZWN0cy5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBzZWxlY3QubmFtZTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc2VsZWN0LmdldFZhbHVlKCk7XG4gICAgICBpZiAobmFtZSAmJiB2YWx1ZSkge1xuICAgICAgICB2YWx1ZXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09IEVYQU1QTEU6IFNldCBmaWx0ZXIgdmFsdWUgcHJvZ3JhbW1hdGljYWxseSA9PT09PT09PT09PT1cbiAgLy8gc2VsZWN0c1swXS5zZXRWYWx1ZSgncHJpY2UnKTsgLy8gU2V0IGZpcnN0IHNlbGVjdCB0byAncHJpY2UnIG9wdGlvblxuXG4gIC8vID09PT09PT09PT09PSBFWEFNUExFOiBEaXNhYmxlL0VuYWJsZSBzZWxlY3QgPT09PT09PT09PT09XG4gIC8vIHNlbGVjdHNbMF0uZGlzYWJsZSgpO1xuICAvLyBzZWxlY3RzWzBdLmVuYWJsZSgpO1xufSk7XG5cbi8vID09PT09PT09PT09PSBFWFBPUlQgRk9SIE1PRFVMRSBVU0FHRSA9PT09PT09PT09PT1cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gQ3VzdG9tU2VsZWN0O1xufVxuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyA9PT09PT09PT09PT0gTUFOVUZBQ1RVUkVSIFRBQlMgPT09PT09PT09PT09XG4gIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1hbnVmYWN0dXJlci10YWJzIC50YWItYnRuXCIpO1xuICBjb25zdCB0YWJQYW5lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFudWZhY3R1cmVyLXRhYnMgLnRhYi1wYW5lXCIpO1xuXG4gIGlmICh0YWJCdXR0b25zLmxlbmd0aCA+IDAgJiYgdGFiUGFuZXMubGVuZ3RoID4gMCkge1xuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0VGFiID0gdGhpcy5kYXRhc2V0LnRhYjtcblxuICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGZyb20gYWxsIGJ1dHRvbnNcbiAgICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcblxuICAgICAgICAvLyBBZGQgYWN0aXZlIHRvIGNsaWNrZWQgYnV0dG9uXG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcblxuICAgICAgICAvLyBIaWRlIGFsbCB0YWIgcGFuZXNcbiAgICAgICAgdGFiUGFuZXMuZm9yRWFjaCgocGFuZSkgPT4ge1xuICAgICAgICAgIHBhbmUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2hvdyB0YXJnZXQgdGFiIHBhbmVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0UGFuZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldFRhYik7XG4gICAgICAgICAgaWYgKHRhcmdldFBhbmUpIHtcbiAgICAgICAgICAgIHRhcmdldFBhbmUuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgLy8gU21vb3RoIHNjcm9sbCB0byB0YWIgY29udGVudFxuICAgICAgICAgICAgdGFyZ2V0UGFuZS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgICAgICAgICAgICBibG9jazogXCJuZWFyZXN0XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEtleWJvYXJkIG5hdmlnYXRpb25cbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ1dHRvbiwgaW5kZXgpID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBsZXQgbmV3SW5kZXg7XG5cbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93UmlnaHRcIikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBuZXdJbmRleCA9IChpbmRleCArIDEpICUgdGFiQnV0dG9ucy5sZW5ndGg7XG4gICAgICAgICAgdGFiQnV0dG9uc1tuZXdJbmRleF0uY2xpY2soKTtcbiAgICAgICAgICB0YWJCdXR0b25zW25ld0luZGV4XS5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG5ld0luZGV4ID0gKGluZGV4IC0gMSArIHRhYkJ1dHRvbnMubGVuZ3RoKSAlIHRhYkJ1dHRvbnMubGVuZ3RoO1xuICAgICAgICAgIHRhYkJ1dHRvbnNbbmV3SW5kZXhdLmNsaWNrKCk7XG4gICAgICAgICAgdGFiQnV0dG9uc1tuZXdJbmRleF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0pKCk7XG4iXSwKICAibWFwcGluZ3MiOiAiODdCQUFBLElBQUFBLEdBQUFDLEdBQUEsQ0FBQUMsR0FBQUMsS0FBQSxFQUFDLFNBQVNDLEVBQUVDLEVBQUUsQ0FBVyxPQUFPSCxJQUFqQixVQUFvQyxPQUFPQyxJQUFqQixTQUF3QkEsR0FBTyxRQUFRRSxFQUFFLEVBQWMsT0FBTyxRQUFuQixZQUEyQixPQUFPLElBQUksT0FBTyxDQUFDLEVBQUVBLENBQUMsRUFBWSxPQUFPSCxJQUFqQixTQUF5QkEsR0FBUSxJQUFJRyxFQUFFLEVBQUVELEVBQUUsSUFBSUMsRUFBRSxDQUFDLEdBQUVILEdBQUssVUFBVSxDQUFDLE9BQU8sU0FBU0UsRUFBRSxDQUFDLFNBQVNDLEVBQUVDLEVBQUUsQ0FBQyxHQUFHQyxFQUFFRCxDQUFDLEVBQUUsT0FBT0MsRUFBRUQsQ0FBQyxFQUFFLFFBQVEsSUFBSUUsRUFBRUQsRUFBRUQsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBR0EsRUFBRSxPQUFPLEVBQUUsRUFBRSxPQUFPRixFQUFFRSxDQUFDLEVBQUUsS0FBS0UsRUFBRSxRQUFRQSxFQUFFQSxFQUFFLFFBQVFILENBQUMsRUFBRUcsRUFBRSxPQUFPLEdBQUdBLEVBQUUsT0FBTyxDQUFDLElBQUlELEVBQUUsQ0FBQyxFQUFFLE9BQU9GLEVBQUUsRUFBRUQsRUFBRUMsRUFBRSxFQUFFRSxFQUFFRixFQUFFLEVBQUUsUUFBUUEsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVNELEVBQUVDLEVBQUVFLEVBQUUsQ0FBQyxhQUFhLFNBQVNELEVBQUVGLEVBQUUsQ0FBQyxPQUFPQSxHQUFHQSxFQUFFLFdBQVdBLEVBQUUsQ0FBQyxRQUFRQSxDQUFDLENBQUMsQ0FBQyxJQUFJSSxFQUFFLE9BQU8sUUFBUSxTQUFTSixFQUFFLENBQUMsUUFBUUMsRUFBRSxFQUFFQSxFQUFFLFVBQVUsT0FBT0EsSUFBSSxDQUFDLElBQUlFLEVBQUUsVUFBVUYsQ0FBQyxFQUFFLFFBQVFDLEtBQUtDLEVBQUUsT0FBTyxVQUFVLGVBQWUsS0FBS0EsRUFBRUQsQ0FBQyxJQUFJRixFQUFFRSxDQUFDLEVBQUVDLEVBQUVELENBQUMsRUFBRSxDQUFDLE9BQU9GLENBQUMsRUFBRSxFQUFFRyxFQUFFLENBQUMsRUFBRUUsR0FBR0gsRUFBRSxDQUFDLEVBQUVDLEVBQUUsQ0FBQyxHQUFHRyxFQUFFSixFQUFFRyxDQUFDLEVBQUVFLEVBQUVKLEVBQUUsQ0FBQyxFQUFFSyxFQUFFTixFQUFFSyxDQUFDLEVBQUVFLEVBQUVOLEVBQUUsQ0FBQyxFQUFFTyxFQUFFUixFQUFFTyxDQUFDLEVBQUVFLEVBQUVSLEVBQUUsQ0FBQyxFQUFFUyxFQUFFVixFQUFFUyxDQUFDLEVBQUVFLEVBQUVWLEVBQUUsRUFBRSxFQUFFVyxFQUFFWixFQUFFVyxDQUFDLEVBQUVFLEVBQUVaLEVBQUUsRUFBRSxFQUFFYSxFQUFFZCxFQUFFYSxDQUFDLEVBQUVFLEVBQUVkLEVBQUUsRUFBRSxFQUFFZSxFQUFFaEIsRUFBRWUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFRSxFQUFFLEdBQUdDLEVBQUUsQ0FBQyxPQUFPLElBQUksTUFBTSxF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LEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxTQUFTLE1BQU0sVUFBVSxDQUFDLElBQUlBLEVBQUVFLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQ0ksRUFBRSxLQUFLTixDQUFDLEdBQUcsQ0FBQ08sRUFBRSxLQUFLUCxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLFNBQVMsTUFBTSxVQUFVLENBQUMsT0FBTyxLQUFLLE9BQU8sR0FBRyxDQUFDLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUVBLENBQUMsRUFBRSxFQUFFQyxFQUFFLFFBQVEsSUFBSU8sQ0FBQyxFQUFFLFNBQVNSLEVBQUVDLEVBQUUsQ0FBQyxhQUFhLE9BQU8sZUFBZUEsRUFBRSxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJRSxFQUFFLFNBQVNILEVBQUVDLEVBQUVFLEVBQUUsQ0FBQyxJQUFJLEVBQUVILEVBQUUsS0FBSyxhQUFhLGVBQWUsRUFBRUMsRUFBRUQsRUFBRSxTQUFTQSxFQUFFLEtBQUssVUFBVSxJQUFJLGFBQWEsRUFBZSxPQUFPLEdBQXBCLGNBQWtDLElBQVYsU0FBYSxDQUFDRyxHQUFZLElBQVQsU0FBYUgsRUFBRSxLQUFLLFVBQVUsT0FBTyxhQUFhLENBQUMsRUFBRUUsRUFBRSxTQUFTRixFQUFFQyxFQUFFLENBQUMsSUFBSUMsRUFBRSxPQUFPLFlBQVlFLEVBQUUsT0FBTyxZQUFZSixFQUFFLFFBQVEsU0FBU0EsRUFBRTBCLEVBQUUsQ0FBQ3ZCLEVBQUVILEVBQUVJLEVBQUVGLEVBQUVELENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRUEsRUFBRSxRQUFRQyxDQUFDLEVBQUUsU0FBU0YsRUFBRUMsRUFBRUUsRUFBRSxDQUFDLGFBQWEsU0FBU0QsRUFBRUYsRUFBRSxDQUFDLE9BQU9BLEdBQUdBLEVBQUUsV0FBV0EsRUFBRSxDQUFDLFFBQVFBLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZUMsRUFBRSxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsRUFB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QUNGQSxFQUFXLFVBQVUsSUFBSSxRQUFRLEVBR2pDQSxFQUFXLGVBQWUsQ0FDeEIsU0FBVSxTQUNWLE1BQU8sU0FDVCxDQUFDLEVBRUwsRUFBRyxHQUFHLENBQ1IsQ0FBQyxDQUNILENBQUMsRUFHRE4sRUFBVyxRQUFRLENBQUNFLEVBQVExQixJQUFVLENBQ3BDMEIsRUFBTyxpQkFBaUIsVUFBVyxTQUFVekIsRUFBRyxDQUM5QyxJQUFJOEIsRUFFQTlCLEVBQUUsTUFBUSxjQUNaQSxFQUFFLGVBQWUsRUFDakI4QixHQUFZL0IsRUFBUSxHQUFLd0IsRUFBVyxPQUNwQ0EsRUFBV08sQ0FBUSxFQUFFLE1BQU0sRUFDM0JQLEVBQVdPLENBQVEsRUFBRSxNQUFNLEdBQ2xCOUIsRUFBRSxNQUFRLGNBQ25CQSxFQUFFLGVBQWUsRUFDakI4QixHQUFZL0IsRUFBUSxFQUFJd0IsRUFBVyxRQUFVQSxFQUFXLE9BQ3hEQSxFQUFXTyxDQUFRLEVBQUUsTUFBTSxFQUMzQlAsRUFBV08sQ0FBUSxFQUFFLE1BQU0sRUFFL0IsQ0FBQyxDQUNILENBQUMsRUFFTCxHQUFHIiwKICAibmFtZXMiOiBbInJlcXVpcmVfYW9zIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZSIsICJ0IiwgIm8iLCAibiIsICJpIiwgImEiLCAidSIsICJjIiwgInMiLCAiZiIsICJkIiwgImwiLCAicCIsICJtIiwgImIiLCAidiIsICJ5IiwgImciLCAiaCIsICJrIiwgIngiLCAiaiIsICJPIiwgIk0iLCAiUyIsICJfIiwgInIiLCAidyIsICJyZXF1aXJlX2xvemFkX21pbiIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInQiLCAiZyIsICJmIiwgImUiLCAiciIsICJhIiwgIm8iLCAiaSIsICJuIiwgImQiLCAidSIsICJBIiwgIm0iLCAidiIsICJzIiwgImMiLCAibCIsICJiIiwgInNldEJhY2tncm91bmRFbGVtZW50IiwgImJhY2tncm91bmQiLCAiYnV0dG9uVG9Ub3AiLCAid2luZG93SGVpZ2h0IiwgInNjcm9sbFRvcCIsICJkb2N1bWVudEhlaWdodCIsICJpbml0QWNjb3JkaW9uIiwgIiRhY2NvcmRpb24iLCAiJGl0ZW1zIiwgInN0aWNrRWxlbWVudFRvRWRnZSIsICJ0YXJnZXQiLCAiJHRoaXMiLCAiZWRnZVBvc2l0aW9uIiwgInBvc2l0aW9uIiwgInVuc3RpY2siLCAib2Zmc2V0IiwgIm1lbnVTcHkiLCAiZWxtIiwgImRlYm91bmNlVGltZXIiLCAiaXNBY3RpdmUiLCAibXMiLCAiY3VycmVudEl0ZW0iLCAibm9kZVBhcmVudCIsICJpbml0X2hlbHBlciIsICJfX2VzbU1pbiIsICJoZWFkZXIiLCAic2xpZGVUb2dnbGUiLCAic2xpZGVVcCIsICJzbGlkZURvd24iLCAiaW5pdF9oZWFkZXIiLCAiX19lc21NaW4iLCAiaGVhZGVyRWwiLCAiZGVza3RvcE1lbnVJdGVtcyIsICJsYXN0U2Nyb2xsWSIsICJoYW5kbGVTY3JvbGwiLCAiY3VycmVudFNjcm9sbFkiLCAiaXRlbSIsICJoYW1idXJnZXIiLCAibW9iaWxlTWVudSIsICJsaW5rIiwgImUiLCAiaXNPcGVuIiwgIm90aGVyIiwgInRyaWdnZXIiLCAicGFyZW50TGkiLCAic3VibWVudSIsICJsYW5nVHJpZ2dlciIsICJzZWFyY2hUcmlnZ2VyIiwgInNlYXJjaE92ZXJsYXkiLCAic2VhcmNoQ2xvc2UiLCAidGFyZ2V0IiwgImR1cmF0aW9uIiwgImRpc3BsYXkiLCAiaGVpZ2h0IiwgImlzT2JqZWN0IiwgIm9iaiIsICJleHRlbmQiLCAidGFyZ2V0IiwgInNyYyIsICJrZXkiLCAiZ2V0RG9jdW1lbnQiLCAiZG9jIiwgInNzckRvY3VtZW50IiwgImdldFdpbmRvdyIsICJ3aW4iLCAic3NyV2luZG93IiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiX19lc21NaW4iLCAiY2FsbGJhY2siLCAiaWQiLCAiY2xhc3Nlc1RvVG9rZW5zIiwgImNsYXNzZXMiLCAiYyIsICJkZWxldGVQcm9wcyIsICJvYmoiLCAib2JqZWN0IiwgImtleSIsICJlIiwgIm5leHRUaWNrIiwgImNhbGxiYWNrIiwgImRlbGF5IiwgIm5vdyIsICJnZXRDb21wdXRlZFN0eWxlIiwgImVsIiwgIndpbmRvdyIsICJnZXRXaW5kb3ciLCAic3R5bGUiLCAiZ2V0VHJhbnNsYXRlIiwgImF4aXMiLCAibWF0cml4IiwgImN1clRyYW5zZm9ybSIsICJ0cmFuc2Zvcm1NYXRyaXgiLCAiY3VyU3R5bGUiLCAiYSIsICJpc09iamVjdCIsICJvIiwgImlzTm9kZSIsICJub2RlIiwgImV4dGVuZCIsICJ0byIsICJub0V4dGVuZCIsICJpIiwgIm5leHRTb3VyY2UiLCAia2V5c0FycmF5IiwgIm5leHRJbmRleCIsICJsZW4iLCAibmV4dEtleSIsICJkZXNjIiwgInNldENTU1Byb3BlcnR5IiwgInZhck5hbWUiLCAidmFyVmFsdWUiLCAiYW5pbWF0ZUNTU01vZGVTY3JvbGwiLCAiX3JlZiIsICJzd2lwZXIiLCAidGFyZ2V0UG9zaXRpb24iLCAic2lkZSIsICJzdGFydFBvc2l0aW9uIiwgInN0YXJ0VGltZSIsICJ0aW1lIiwgImR1cmF0aW9uIiwgImRpciIsICJpc091dE9mQm91bmQiLCAiY3VycmVudCIsICJ0YXJnZXQiLCAiYW5pbWF0ZSIsICJwcm9ncmVzcyIsICJlYXNlUHJvZ3Jlc3MiLCAiY3VycmVudFBvc2l0aW9uIiwgImdldFNsaWRlVHJhbnNmb3JtRWwiLCAic2xpZGVFbCIsICJlbGVtZW50Q2hpbGRyZW4iLCAiZWxlbWVudCIsICJzZWxlY3RvciIsICJzaG93V2FybmluZyIsICJ0ZXh0IiwgImVyciIsICJjcmVhdGVFbGVtZW50IiwgInRhZyIsICJlbGVtZW50UHJldkFsbCIsICJwcmV2RWxzIiwgInByZXYiLCAiZWxlbWVudE5leHRBbGwiLCAibmV4dEVscyIsICJuZXh0IiwgImVsZW1lbnRTdHlsZSIsICJwcm9wIiwgImVsZW1lbnRJbmRleCIsICJjaGlsZCIsICJlbGVtZW50UGFyZW50cyIsICJwYXJlbnRzIiwgInBhcmVudCIsICJlbGVtZW50VHJhbnNpdGlvbkVuZCIsICJmaXJlQ2FsbEJhY2siLCAiZWxlbWVudE91dGVyU2l6ZSIsICJzaXplIiwgImluY2x1ZGVNYXJnaW5zIiwgImluaXRfdXRpbHMiLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJjYWxjU3VwcG9ydCIsICJ3aW5kb3ciLCAiZ2V0V2luZG93IiwgImRvY3VtZW50IiwgImdldERvY3VtZW50IiwgImdldFN1cHBvcnQiLCAic3VwcG9ydCIsICJjYWxjRGV2aWNlIiwgIl90ZW1wIiwgInVzZXJBZ2VudCIsICJwbGF0Zm9ybSIsICJ1YSIsICJkZXZpY2UiLCAic2NyZWVuV2lkdGgiLCAic2NyZWVuSGVpZ2h0IiwgImFuZHJvaWQiLCAiaXBhZCIsICJpcG9kIiwgImlwaG9uZSIsICJ3aW5kb3dzIiwgIm1hY29zIiwgImlQYWRTY3JlZW5zIiwgImdldERldmljZSIsICJvdmVycmlkZXMiLCAiZGV2aWNlQ2FjaGVkIiwgImNhbGNCcm93c2VyIiwgIm5lZWRQZXJzcGVjdGl2ZUZpeCIsICJpc1NhZmFyaSIsICJtYWpvciIsICJtaW5vciIsICJudW0iLCAiZ2V0QnJvd3NlciIsICJicm93c2VyIiwgIlJlc2l6ZSIsICJfcmVmIiwgInN3aXBlciIsICJvbiIsICJlbWl0IiwgIm9ic2VydmVyIiwgImFuaW1hdGlvbkZyYW1lIiwgInJlc2l6ZUhhbmRsZXIiLCAiY3JlYXRlT2JzZXJ2ZXIiLCAiZW50cmllcyIsICJ3aWR0aCIsICJoZWlnaHQiLCAibmV3V2lkdGgiLCAibmV3SGVpZ2h0IiwgIl9yZWYyIiwgImNvbnRlbnRCb3hTaXplIiwgImNvbnRlbnRSZWN0IiwgInRhcmdldCIsICJyZW1vdmVPYnNlcnZlciIsICJvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIiLCAiT2JzZXJ2ZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9ic2VydmVycyIsICJhdHRhY2giLCAib3B0aW9ucyIsICJPYnNlcnZlckZ1bmMiLCAibXV0YXRpb25zIiwgIm9ic2VydmVyVXBkYXRlIiwgImluaXQiLCAiY29udGFpbmVyUGFyZW50cyIsICJlbGVtZW50UGFyZW50cyIsICJpIiwgImRlc3Ryb3kiLCAidXBkYXRlU2l6ZSIsICJlbCIsICJlbGVtZW50U3R5bGUiLCAidXBkYXRlU2xpZGVzIiwgImdldERpcmVjdGlvblByb3BlcnR5VmFsdWUiLCAibm9kZSIsICJsYWJlbCIsICJwYXJhbXMiLCAid3JhcHBlckVsIiwgInNsaWRlc0VsIiwgInN3aXBlclNpemUiLCAicnRsIiwgIndyb25nUlRMIiwgImlzVmlydHVhbCIsICJwcmV2aW91c1NsaWRlc0xlbmd0aCIsICJzbGlkZXMiLCAiZWxlbWVudENoaWxkcmVuIiwgInNsaWRlc0xlbmd0aCIsICJzbmFwR3JpZCIsICJzbGlkZXNHcmlkIiwgInNsaWRlc1NpemVzR3JpZCIsICJvZmZzZXRCZWZvcmUiLCAib2Zmc2V0QWZ0ZXIiLCAicHJldmlvdXNTbmFwR3JpZExlbmd0aCIsICJwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGgiLCAic3BhY2VCZXR3ZWVuIiwgInNsaWRlUG9zaXRpb24iLCAicHJldlNsaWRlU2l6ZSIsICJpbmRleCIsICJzbGlkZUVsIiwgInNldENTU1Byb3BlcnR5IiwgImdyaWRFbmFibGVkIiwgInNsaWRlU2l6ZSIsICJzaG91bGRSZXNldFNsaWRlU2l6ZSIsICJrZXkiLCAic2xpZGUiLCAic2xpZGVTdHlsZXMiLCAiY3VycmVudFRyYW5zZm9ybSIsICJjdXJyZW50V2ViS2l0VHJhbnNmb3JtIiwgImVsZW1lbnRPdXRlclNpemUiLCAicGFkZGluZ0xlZnQiLCAicGFkZGluZ1JpZ2h0IiwgIm1hcmdpbkxlZnQiLCAibWFyZ2luUmlnaHQiLCAiYm94U2l6aW5nIiwgImNsaWVudFdpZHRoIiwgIm9mZnNldFdpZHRoIiwgIm5ld1NsaWRlc0dyaWQiLCAic2xpZGVzR3JpZEl0ZW0iLCAic2l6ZSIsICJncm91cHMiLCAiZ3JvdXBTaXplIiwgIl8iLCAic2xpZGVJbmRleCIsICJhbGxTbGlkZXNTaXplIiwgInNsaWRlU2l6ZVZhbHVlIiwgIm1heFNuYXAiLCAic25hcCIsICJhbGxTbGlkZXNPZmZzZXQiLCAic25hcEluZGV4IiwgImFkZFRvU25hcEdyaWQiLCAiYWRkVG9TbGlkZXNHcmlkIiwgInYiLCAiYmFja0ZhY2VIaWRkZW5DbGFzcyIsICJoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCIsICJ1cGRhdGVBdXRvSGVpZ2h0IiwgInNwZWVkIiwgImFjdGl2ZVNsaWRlcyIsICJnZXRTbGlkZUJ5SW5kZXgiLCAidXBkYXRlU2xpZGVzT2Zmc2V0IiwgIm1pbnVzT2Zmc2V0IiwgInVwZGF0ZVNsaWRlc1Byb2dyZXNzIiwgInRyYW5zbGF0ZSIsICJvZmZzZXRDZW50ZXIiLCAic2xpZGVPZmZzZXQiLCAic2xpZGVQcm9ncmVzcyIsICJvcmlnaW5hbFNsaWRlUHJvZ3Jlc3MiLCAic2xpZGVCZWZvcmUiLCAic2xpZGVBZnRlciIsICJpc0Z1bGx5VmlzaWJsZSIsICJ1cGRhdGVQcm9ncmVzcyIsICJtdWx0aXBsaWVyIiwgInRyYW5zbGF0ZXNEaWZmIiwgInByb2dyZXNzIiwgImlzQmVnaW5uaW5nIiwgImlzRW5kIiwgInByb2dyZXNzTG9vcCIsICJ3YXNCZWdpbm5pbmciLCAid2FzRW5kIiwgImlzQmVnaW5uaW5nUm91bmRlZCIsICJpc0VuZFJvdW5kZWQiLCAiZmlyc3RTbGlkZUluZGV4IiwgImxhc3RTbGlkZUluZGV4IiwgImZpcnN0U2xpZGVUcmFuc2xhdGUiLCAibGFzdFNsaWRlVHJhbnNsYXRlIiwgInRyYW5zbGF0ZU1heCIsICJ0cmFuc2xhdGVBYnMiLCAidXBkYXRlU2xpZGVzQ2xhc3NlcyIsICJhY3RpdmVJbmRleCIsICJnZXRGaWx0ZXJlZFNsaWRlIiwgInNlbGVjdG9yIiwgImFjdGl2ZVNsaWRlIiwgInByZXZTbGlkZSIsICJuZXh0U2xpZGUiLCAiZWxlbWVudE5leHRBbGwiLCAiZWxlbWVudFByZXZBbGwiLCAiZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZSIsICJ1cGRhdGVBY3RpdmVJbmRleCIsICJuZXdBY3RpdmVJbmRleCIsICJwcmV2aW91c0luZGV4IiwgInByZXZpb3VzUmVhbEluZGV4IiwgInByZXZpb3VzU25hcEluZGV4IiwgImdldFZpcnR1YWxSZWFsSW5kZXgiLCAiYUluZGV4IiwgInJlYWxJbmRleCIsICJza2lwIiwgImZpcnN0U2xpZGVJbkNvbHVtbiIsICJhY3RpdmVTbGlkZUluZGV4IiwgInByZWxvYWQiLCAidXBkYXRlQ2xpY2tlZFNsaWRlIiwgInBhdGgiLCAicGF0aEVsIiwgInNsaWRlRm91bmQiLCAiZ2V0U3dpcGVyVHJhbnNsYXRlIiwgImF4aXMiLCAiY3VycmVudFRyYW5zbGF0ZSIsICJnZXRUcmFuc2xhdGUiLCAic2V0VHJhbnNsYXRlIiwgImJ5Q29udHJvbGxlciIsICJ4IiwgInkiLCAieiIsICJuZXdQcm9ncmVzcyIsICJtaW5UcmFuc2xhdGUiLCAibWF4VHJhbnNsYXRlIiwgInRyYW5zbGF0ZVRvIiwgInJ1bkNhbGxiYWNrcyIsICJ0cmFuc2xhdGVCb3VuZHMiLCAiaW50ZXJuYWwiLCAibmV3VHJhbnNsYXRlIiwgImlzSCIsICJhbmltYXRlQ1NTTW9kZVNjcm9sbCIsICJlIiwgInNldFRyYW5zaXRpb24iLCAiZHVyYXRpb24iLCAidHJhbnNpdGlvbkVtaXQiLCAiZGlyZWN0aW9uIiwgInN0ZXAiLCAiZGlyIiwgInRyYW5zaXRpb25TdGFydCIsICJ0cmFuc2l0aW9uRW5kIiwgInNsaWRlVG8iLCAiaW5pdGlhbCIsICJlbmFibGVkIiwgIm5vcm1hbGl6ZWRUcmFuc2xhdGUiLCAibm9ybWFsaXplZEdyaWQiLCAibm9ybWFsaXplZEdyaWROZXh0IiwgInQiLCAic2xpZGVUb0xvb3AiLCAibmV3SW5kZXgiLCAidGFyZ2V0U2xpZGVJbmRleCIsICJjb2xzIiwgImNlbnRlcmVkU2xpZGVzIiwgInNsaWRlc1BlclZpZXciLCAibmVlZExvb3BGaXgiLCAic2xpZGVOZXh0IiwgImFuaW1hdGluZyIsICJwZXJHcm91cCIsICJpbmNyZW1lbnQiLCAic2xpZGVQcmV2IiwgInJ0bFRyYW5zbGF0ZSIsICJub3JtYWxpemUiLCAidmFsIiwgIm5vcm1hbGl6ZWRTbmFwR3JpZCIsICJwcmV2U25hcCIsICJwcmV2U25hcEluZGV4IiwgInByZXZJbmRleCIsICJsYXN0SW5kZXgiLCAic2xpZGVSZXNldCIsICJzbGlkZVRvQ2xvc2VzdCIsICJ0aHJlc2hvbGQiLCAiY3VycmVudFNuYXAiLCAibmV4dFNuYXAiLCAic2xpZGVUb0NsaWNrZWRTbGlkZSIsICJzbGlkZVRvSW5kZXgiLCAic2xpZGVTZWxlY3RvciIsICJuZXh0VGljayIsICJsb29wQ3JlYXRlIiwgInNsaWRlUmVhbEluZGV4IiwgImluaXRTbGlkZXMiLCAic2xpZGVzUGVyR3JvdXAiLCAic2hvdWxkRmlsbEdyb3VwIiwgInNob3VsZEZpbGxHcmlkIiwgImFkZEJsYW5rU2xpZGVzIiwgImFtb3VudE9mU2xpZGVzIiwgImNyZWF0ZUVsZW1lbnQiLCAic2xpZGVzVG9BZGQiLCAic2hvd1dhcm5pbmciLCAibG9vcEZpeCIsICJieU1vdXNld2hlZWwiLCAiYWxsb3dTbGlkZVByZXYiLCAiYWxsb3dTbGlkZU5leHQiLCAibG9vcGVkU2xpZGVzIiwgInByZXBlbmRTbGlkZXNJbmRleGVzIiwgImFwcGVuZFNsaWRlc0luZGV4ZXMiLCAiaXNOZXh0IiwgImlzUHJldiIsICJzbGlkZXNQcmVwZW5kZWQiLCAic2xpZGVzQXBwZW5kZWQiLCAiYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQiLCAiY29sSW5kZXhUb1ByZXBlbmQiLCAiY3VycmVudFNsaWRlVHJhbnNsYXRlIiwgImRpZmYiLCAic2hpZnQiLCAibG9vcFBhcmFtcyIsICJjIiwgIl9fc3ByZWFkUHJvcHMiLCAiX19zcHJlYWRWYWx1ZXMiLCAibG9vcERlc3Ryb3kiLCAibmV3U2xpZGVzT3JkZXIiLCAic2V0R3JhYkN1cnNvciIsICJtb3ZpbmciLCAidW5zZXRHcmFiQ3Vyc29yIiwgImNsb3Nlc3RFbGVtZW50IiwgImJhc2UiLCAiX19jbG9zZXN0RnJvbSIsICJmb3VuZCIsICJwcmV2ZW50RWRnZVN3aXBlIiwgImV2ZW50IiwgInN0YXJ0WCIsICJlZGdlU3dpcGVEZXRlY3Rpb24iLCAiZWRnZVN3aXBlVGhyZXNob2xkIiwgIm9uVG91Y2hTdGFydCIsICJkYXRhIiwgInRvdWNoZXMiLCAidGFyZ2V0RWwiLCAic3dpcGluZ0NsYXNzSGFzVmFsdWUiLCAiZXZlbnRQYXRoIiwgIm5vU3dpcGluZ1NlbGVjdG9yIiwgImlzVGFyZ2V0U2hhZG93IiwgInN0YXJ0WSIsICJub3ciLCAicHJldmVudERlZmF1bHQiLCAic2hvdWxkUHJldmVudERlZmF1bHQiLCAib25Ub3VjaE1vdmUiLCAidGFyZ2V0VG91Y2giLCAicGFnZVgiLCAicGFnZVkiLCAiZGlmZlgiLCAiZGlmZlkiLCAiX19wb3ciLCAidG91Y2hBbmdsZSIsICJ0b3VjaGVzRGlmZiIsICJwcmV2VG91Y2hlc0RpcmVjdGlvbiIsICJpc0xvb3AiLCAiYWxsb3dMb29wRml4IiwgImV2dCIsICJsb29wRml4ZWQiLCAiZGlzYWJsZVBhcmVudFN3aXBlciIsICJyZXNpc3RhbmNlUmF0aW8iLCAib25Ub3VjaEVuZCIsICJ0b3VjaEVuZFRpbWUiLCAidGltZURpZmYiLCAicGF0aFRyZWUiLCAiY3VycmVudFBvcyIsICJzd2lwZVRvTGFzdCIsICJzdG9wSW5kZXgiLCAicmV3aW5kRmlyc3RJbmRleCIsICJyZXdpbmRMYXN0SW5kZXgiLCAicmF0aW8iLCAib25SZXNpemUiLCAiaXNWaXJ0dWFsTG9vcCIsICJvbkNsaWNrIiwgIm9uU2Nyb2xsIiwgIm9uTG9hZCIsICJwcm9jZXNzTGF6eVByZWxvYWRlciIsICJvbkRvY3VtZW50VG91Y2hTdGFydCIsICJhdHRhY2hFdmVudHMiLCAiZXZlbnRzIiwgImRldGFjaEV2ZW50cyIsICJzZXRCcmVha3BvaW50IiwgImluaXRpYWxpemVkIiwgImJyZWFrcG9pbnRzIiwgImJyZWFrcG9pbnQiLCAiYnJlYWtwb2ludFBhcmFtcyIsICJ3YXNNdWx0aVJvdyIsICJpc0dyaWRFbmFibGVkIiwgImlzTXVsdGlSb3ciLCAid2FzRW5hYmxlZCIsICJwcm9wIiwgIndhc01vZHVsZUVuYWJsZWQiLCAiaXNNb2R1bGVFbmFibGVkIiwgImRpcmVjdGlvbkNoYW5nZWQiLCAibmVlZHNSZUxvb3AiLCAid2FzTG9vcCIsICJleHRlbmQiLCAiaXNFbmFibGVkIiwgImhhc0xvb3AiLCAiZ2V0QnJlYWtwb2ludCIsICJjb250YWluZXJFbCIsICJjdXJyZW50SGVpZ2h0IiwgInBvaW50cyIsICJwb2ludCIsICJtaW5SYXRpbyIsICJhIiwgImIiLCAidmFsdWUiLCAicHJlcGFyZUNsYXNzZXMiLCAicHJlZml4IiwgInJlc3VsdENsYXNzZXMiLCAiaXRlbSIsICJjbGFzc05hbWVzIiwgImFkZENsYXNzZXMiLCAic3VmZml4ZXMiLCAicmVtb3ZlQ2xhc3NlcyIsICJjaGVja092ZXJmbG93IiwgIndhc0xvY2tlZCIsICJzbGlkZXNPZmZzZXRCZWZvcmUiLCAibGFzdFNsaWRlUmlnaHRFZGdlIiwgIm1vZHVsZUV4dGVuZFBhcmFtcyIsICJhbGxNb2R1bGVzUGFyYW1zIiwgIm9iaiIsICJtb2R1bGVQYXJhbU5hbWUiLCAibW9kdWxlUGFyYW1zIiwgImV2ZW50c0VtaXR0ZXIiLCAidW5sYXp5IiwgInVwZGF0ZSIsICJ0cmFuc2l0aW9uIiwgImxvb3AiLCAiZ3JhYkN1cnNvciIsICJldmVudHMkMSIsICJjbGFzc2VzIiwgImNoZWNrT3ZlcmZsb3ckMSIsICJkZWZhdWx0cyIsICJwcm90b3R5cGVzIiwgImV4dGVuZGVkRGVmYXVsdHMiLCAiU3dpcGVyIiwgImluaXRfc3dpcGVyX2NvcmUiLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJpbml0X3V0aWxzIiwgImhhbmRsZXIiLCAicHJpb3JpdHkiLCAic2VsZiIsICJtZXRob2QiLCAib25jZUhhbmRsZXIiLCAiX2xlbiIsICJhcmdzIiwgIl9rZXkiLCAiZXZlbnRIYW5kbGVyIiwgImNvbnRleHQiLCAiX2xlbjIiLCAiX2tleTIiLCAiaW1hZ2VFbCIsICJsYXp5RWwiLCAiYW1vdW50IiwgImxlbiIsICJhY3RpdmVDb2x1bW4iLCAicHJlbG9hZENvbHVtbnMiLCAic2xpZGVJbmRleExhc3RJblZpZXciLCAiY2FwdHVyZSIsICJkb21NZXRob2QiLCAic3dpcGVyTWV0aG9kIiwgIl9Td2lwZXIiLCAic3dpcGVycyIsICJuZXdQYXJhbXMiLCAibW9kIiwgInN3aXBlclBhcmFtcyIsICJldmVudE5hbWUiLCAicHJvcGVydHkiLCAiZWxlbWVudEluZGV4IiwgIm1pbiIsICJjdXJyZW50IiwgImNscyIsICJjbGFzc05hbWUiLCAidXBkYXRlcyIsICJ2aWV3IiwgImV4YWN0IiwgInNwdiIsICJicmVha0xvb3AiLCAidHJhbnNsYXRlVmFsdWUiLCAidHJhbnNsYXRlZCIsICJuZXdEaXJlY3Rpb24iLCAibmVlZFVwZGF0ZSIsICJjdXJyZW50RGlyZWN0aW9uIiwgImVsZW1lbnQiLCAiZ2V0V3JhcHBlclNlbGVjdG9yIiwgImxhenlFbGVtZW50cyIsICJkZWxldGVJbnN0YW5jZSIsICJjbGVhblN0eWxlcyIsICJkZWxldGVQcm9wcyIsICJuZXdEZWZhdWx0cyIsICJtb2R1bGVzIiwgIm1vZHVsZSIsICJtIiwgInByb3RvdHlwZUdyb3VwIiwgInByb3RvTWV0aG9kIiwgImluaXRfc3dpcGVyIiwgIl9fZXNtTWluIiwgImluaXRfc3dpcGVyX2NvcmUiLCAiaW5pdF92aXJ0dWFsIiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiaW5pdF91dGlscyIsICJpbml0X2tleWJvYXJkIiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiaW5pdF91dGlscyIsICJNb3VzZXdoZWVsIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJlbWl0IiwgIndpbmRvdyIsICJnZXRXaW5kb3ciLCAidGltZW91dCIsICJsYXN0U2Nyb2xsVGltZSIsICJub3ciLCAibGFzdEV2ZW50QmVmb3JlU25hcCIsICJyZWNlbnRXaGVlbEV2ZW50cyIsICJub3JtYWxpemUiLCAiZSIsICJzWCIsICJzWSIsICJwWCIsICJwWSIsICJoYW5kbGVNb3VzZUVudGVyIiwgImhhbmRsZU1vdXNlTGVhdmUiLCAiYW5pbWF0ZVNsaWRlciIsICJuZXdFdmVudCIsICJyZWxlYXNlU2Nyb2xsIiwgInBhcmFtcyIsICJoYW5kbGUiLCAiZXZlbnQiLCAiZGlzYWJsZVBhcmVudFN3aXBlciIsICJ0YXJnZXRFbCIsICJ0YXJnZXRFbENvbnRhaW5zVGFyZ2V0IiwgImRlbHRhIiwgInJ0bEZhY3RvciIsICJkYXRhIiwgInBvc2l0aW9ucyIsICJwcmV2RXZlbnQiLCAiaWdub3JlV2hlZWxFdmVudHMiLCAicG9zaXRpb24iLCAid2FzQmVnaW5uaW5nIiwgIndhc0VuZCIsICJmaXJzdEV2ZW50IiwgInNuYXBUb1RocmVzaG9sZCIsICJuZXh0VGljayIsICJldmVudHMiLCAibWV0aG9kIiwgImVuYWJsZSIsICJkaXNhYmxlIiwgImluaXRfbW91c2V3aGVlbCIsICJfX2VzbU1pbiIsICJpbml0X3Nzcl93aW5kb3dfZXNtIiwgImluaXRfdXRpbHMiLCAiY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCIsICJzd2lwZXIiLCAib3JpZ2luYWxQYXJhbXMiLCAicGFyYW1zIiwgImNoZWNrUHJvcHMiLCAia2V5IiwgImVsZW1lbnQiLCAiZWxlbWVudENoaWxkcmVuIiwgImNyZWF0ZUVsZW1lbnQiLCAiaW5pdF9jcmVhdGVfZWxlbWVudF9pZl9ub3RfZGVmaW5lZCIsICJfX2VzbU1pbiIsICJpbml0X3V0aWxzIiwgIk5hdmlnYXRpb24iLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVtaXQiLCAibWFrZUVsZW1lbnRzQXJyYXkiLCAiZWwiLCAiZSIsICJnZXRFbCIsICJyZXMiLCAidG9nZ2xlRWwiLCAiZGlzYWJsZWQiLCAicGFyYW1zIiwgInN1YkVsIiwgInVwZGF0ZSIsICJuZXh0RWwiLCAicHJldkVsIiwgIm9uUHJldkNsaWNrIiwgIm9uTmV4dENsaWNrIiwgImluaXQiLCAiY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCIsICJpbml0QnV0dG9uIiwgImRpciIsICJkZXN0cm95IiwgImRlc3Ryb3lCdXR0b24iLCAiZGlzYWJsZSIsICJfcyIsICJ0YXJnZXRFbCIsICJpc0hpZGRlbiIsICJlbmFibGUiLCAiaW5pdF9uYXZpZ2F0aW9uIiwgIl9fZXNtTWluIiwgImluaXRfY3JlYXRlX2VsZW1lbnRfaWZfbm90X2RlZmluZWQiLCAiY2xhc3Nlc1RvU2VsZWN0b3IiLCAiY2xhc3NlcyIsICJpbml0X2NsYXNzZXNfdG9fc2VsZWN0b3IiLCAiX19lc21NaW4iLCAiUGFnaW5hdGlvbiIsICJfcmVmIiwgInN3aXBlciIsICJleHRlbmRQYXJhbXMiLCAib24iLCAiZW1pdCIsICJwZngiLCAibnVtYmVyIiwgImJ1bGxldFNpemUiLCAiZHluYW1pY0J1bGxldEluZGV4IiwgIm1ha2VFbGVtZW50c0FycmF5IiwgImVsIiwgImUiLCAiaXNQYWdpbmF0aW9uRGlzYWJsZWQiLCAic2V0U2lkZUJ1bGxldHMiLCAiYnVsbGV0RWwiLCAicG9zaXRpb24iLCAiYnVsbGV0QWN0aXZlQ2xhc3MiLCAib25CdWxsZXRDbGljayIsICJjbGFzc2VzVG9TZWxlY3RvciIsICJpbmRleCIsICJlbGVtZW50SW5kZXgiLCAidXBkYXRlIiwgInJ0bCIsICJwYXJhbXMiLCAiY3VycmVudCIsICJwcmV2aW91c0luZGV4IiwgInNsaWRlc0xlbmd0aCIsICJ0b3RhbCIsICJidWxsZXRzIiwgImZpcnN0SW5kZXgiLCAibGFzdEluZGV4IiwgIm1pZEluZGV4IiwgImVsZW1lbnRPdXRlclNpemUiLCAic3ViRWwiLCAiY2xhc3Nlc1RvUmVtb3ZlIiwgInN1ZmZpeCIsICJzIiwgImJ1bGxldCIsICJidWxsZXRJbmRleCIsICJmaXJzdERpc3BsYXllZEJ1bGxldCIsICJsYXN0RGlzcGxheWVkQnVsbGV0IiwgImkiLCAiZHluYW1pY0J1bGxldHNMZW5ndGgiLCAiYnVsbGV0c09mZnNldCIsICJvZmZzZXRQcm9wIiwgInN1YkVsSW5kZXgiLCAiZnJhY3Rpb25FbCIsICJ0b3RhbEVsIiwgInByb2dyZXNzYmFyRGlyZWN0aW9uIiwgInNjYWxlIiwgInNjYWxlWCIsICJzY2FsZVkiLCAicHJvZ3Jlc3NFbCIsICJyZW5kZXIiLCAicGFnaW5hdGlvbkhUTUwiLCAibnVtYmVyT2ZCdWxsZXRzIiwgImluaXQiLCAiY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCIsICJlbGVtZW50UGFyZW50cyIsICJkZXN0cm95IiwgImRpc2FibGUiLCAiX3MiLCAidGFyZ2V0RWwiLCAiaXNIaWRkZW4iLCAiZW5hYmxlIiwgImluaXRfcGFnaW5hdGlvbiIsICJfX2VzbU1pbiIsICJpbml0X2NsYXNzZXNfdG9fc2VsZWN0b3IiLCAiaW5pdF9jcmVhdGVfZWxlbWVudF9pZl9ub3RfZGVmaW5lZCIsICJpbml0X3V0aWxzIiwgImluaXRfc2Nyb2xsYmFyIiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiaW5pdF91dGlscyIsICJpbml0X2NyZWF0ZV9lbGVtZW50X2lmX25vdF9kZWZpbmVkIiwgImluaXRfY2xhc3Nlc190b19zZWxlY3RvciIsICJpbml0X3BhcmFsbGF4IiwgIl9fZXNtTWluIiwgImluaXRfdXRpbHMiLCAiaW5pdF96b29tIiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiaW5pdF91dGlscyIsICJDb250cm9sbGVyIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJMaW5lYXJTcGxpbmUiLCAieCIsICJ5IiwgImJpbmFyeVNlYXJjaCIsICJtYXhJbmRleCIsICJtaW5JbmRleCIsICJndWVzcyIsICJhcnJheSIsICJ2YWwiLCAiaTEiLCAiaTMiLCAieDIiLCAiZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbiIsICJjIiwgInNldFRyYW5zbGF0ZSIsICJfdCIsICJieUNvbnRyb2xsZXIiLCAiY29udHJvbGxlZCIsICJtdWx0aXBsaWVyIiwgImNvbnRyb2xsZWRUcmFuc2xhdGUiLCAiU3dpcGVyIiwgInNldENvbnRyb2xsZWRUcmFuc2xhdGUiLCAidHJhbnNsYXRlIiwgImkiLCAic2V0VHJhbnNpdGlvbiIsICJkdXJhdGlvbiIsICJzZXRDb250cm9sbGVkVHJhbnNpdGlvbiIsICJuZXh0VGljayIsICJlbGVtZW50VHJhbnNpdGlvbkVuZCIsICJyZW1vdmVTcGxpbmUiLCAiY29udHJvbEVsZW1lbnQiLCAib25Db250cm9sbGVyU3dpcGVyIiwgImUiLCAiX3MiLCAiaW5pdF9jb250cm9sbGVyIiwgIl9fZXNtTWluIiwgImluaXRfdXRpbHMiLCAiaW5pdF9hMTF5IiwgIl9fZXNtTWluIiwgImluaXRfY2xhc3Nlc190b19zZWxlY3RvciIsICJpbml0X3V0aWxzIiwgImluaXRfaGlzdG9yeSIsICJfX2VzbU1pbiIsICJpbml0X3Nzcl93aW5kb3dfZXNtIiwgImluaXRfaGFzaF9uYXZpZ2F0aW9uIiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiaW5pdF91dGlscyIsICJBdXRvcGxheSIsICJfcmVmIiwgInN3aXBlciIsICJleHRlbmRQYXJhbXMiLCAib24iLCAiZW1pdCIsICJwYXJhbXMiLCAidGltZW91dCIsICJyYWYiLCAiYXV0b3BsYXlEZWxheVRvdGFsIiwgImF1dG9wbGF5RGVsYXlDdXJyZW50IiwgImF1dG9wbGF5VGltZUxlZnQiLCAiYXV0b3BsYXlTdGFydFRpbWUiLCAid2FzUGF1c2VkIiwgImlzVG91Y2hlZCIsICJwYXVzZWRCeVRvdWNoIiwgInRvdWNoU3RhcnRUaW1lb3V0IiwgInNsaWRlQ2hhbmdlZCIsICJwYXVzZWRCeUludGVyYWN0aW9uIiwgInBhdXNlZEJ5UG9pbnRlckVudGVyIiwgIm9uVHJhbnNpdGlvbkVuZCIsICJlIiwgInJlc3VtZSIsICJjYWxjVGltZUxlZnQiLCAidGltZUxlZnQiLCAiZ2V0U2xpZGVEZWxheSIsICJhY3RpdmVTbGlkZUVsIiwgInNsaWRlRWwiLCAicnVuIiwgImRlbGF5Rm9yY2UiLCAiZGVsYXkiLCAiY3VycmVudFNsaWRlRGVsYXkiLCAic3BlZWQiLCAicHJvY2VlZCIsICJzdGFydCIsICJzdG9wIiwgInBhdXNlIiwgImludGVybmFsIiwgInJlc2V0IiwgIm9uVmlzaWJpbGl0eUNoYW5nZSIsICJkb2N1bWVudCIsICJnZXREb2N1bWVudCIsICJvblBvaW50ZXJFbnRlciIsICJvblBvaW50ZXJMZWF2ZSIsICJhdHRhY2hNb3VzZUV2ZW50cyIsICJkZXRhY2hNb3VzZUV2ZW50cyIsICJhdHRhY2hEb2N1bWVudEV2ZW50cyIsICJkZXRhY2hEb2N1bWVudEV2ZW50cyIsICJfcyIsICJpbml0X2F1dG9wbGF5IiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiVGh1bWIiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImluaXRpYWxpemVkIiwgInN3aXBlckNyZWF0ZWQiLCAib25UaHVtYkNsaWNrIiwgInRodW1ic1N3aXBlciIsICJjbGlja2VkSW5kZXgiLCAiY2xpY2tlZFNsaWRlIiwgInNsaWRlVG9JbmRleCIsICJpbml0IiwgInRodW1ic1BhcmFtcyIsICJTd2lwZXJDbGFzcyIsICJpc09iamVjdCIsICJ0aHVtYnNTd2lwZXJQYXJhbXMiLCAidXBkYXRlIiwgImluaXRpYWwiLCAic2xpZGVzUGVyVmlldyIsICJ0aHVtYnNUb0FjdGl2YXRlIiwgInRodW1iQWN0aXZlQ2xhc3MiLCAic2xpZGVFbCIsICJpIiwgImVsZW1lbnRDaGlsZHJlbiIsICJhdXRvU2Nyb2xsT2Zmc2V0IiwgInVzZU9mZnNldCIsICJjdXJyZW50VGh1bWJzSW5kZXgiLCAibmV3VGh1bWJzSW5kZXgiLCAiZGlyZWN0aW9uIiwgIm5ld1RodW1ic1NsaWRlIiwgInRodW1icyIsICJkb2N1bWVudCIsICJnZXREb2N1bWVudCIsICJnZXRUaHVtYnNFbGVtZW50QW5kSW5pdCIsICJ0aHVtYnNFbGVtZW50IiwgIm9uVGh1bWJzU3dpcGVyIiwgImUiLCAid2F0Y2hGb3JUaHVtYnNUb0FwcGVhciIsICJfcyIsICJkdXJhdGlvbiIsICJpbml0X3RodW1icyIsICJfX2VzbU1pbiIsICJpbml0X3Nzcl93aW5kb3dfZXNtIiwgImluaXRfdXRpbHMiLCAiZnJlZU1vZGUiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgImVtaXQiLCAib25jZSIsICJvblRvdWNoU3RhcnQiLCAidHJhbnNsYXRlIiwgIm9uVG91Y2hNb3ZlIiwgImRhdGEiLCAidG91Y2hlcyIsICJub3ciLCAib25Ub3VjaEVuZCIsICJfcmVmMiIsICJjdXJyZW50UG9zIiwgInBhcmFtcyIsICJ3cmFwcGVyRWwiLCAicnRsIiwgInNuYXBHcmlkIiwgInRpbWVEaWZmIiwgImxhc3RNb3ZlRXZlbnQiLCAidmVsb2NpdHlFdmVudCIsICJkaXN0YW5jZSIsICJ0aW1lIiwgIm1vbWVudHVtRHVyYXRpb24iLCAibW9tZW50dW1EaXN0YW5jZSIsICJuZXdQb3NpdGlvbiIsICJkb0JvdW5jZSIsICJhZnRlckJvdW5jZVBvc2l0aW9uIiwgImJvdW5jZUFtb3VudCIsICJuZWVkc0xvb3BGaXgiLCAibmV4dFNsaWRlIiwgImoiLCAibW92ZURpc3RhbmNlIiwgImN1cnJlbnRTbGlkZVNpemUiLCAiZWxlbWVudFRyYW5zaXRpb25FbmQiLCAiaW5pdF9mcmVlX21vZGUiLCAiX19lc21NaW4iLCAiaW5pdF91dGlscyIsICJpbml0X2dyaWQiLCAiX19lc21NaW4iLCAiaW5pdF9tYW5pcHVsYXRpb24iLCAiX19lc21NaW4iLCAiZWZmZWN0SW5pdCIsICJwYXJhbXMiLCAiZWZmZWN0IiwgInN3aXBlciIsICJvbiIsICJzZXRUcmFuc2xhdGUiLCAic2V0VHJhbnNpdGlvbiIsICJvdmVyd3JpdGVQYXJhbXMiLCAicGVyc3BlY3RpdmUiLCAicmVjcmVhdGVTaGFkb3dzIiwgImdldEVmZmVjdFBhcmFtcyIsICJvdmVyd3JpdGVQYXJhbXNSZXN1bHQiLCAiX3MiLCAiZHVyYXRpb24iLCAic2xpZGVFbCIsICJzaGFkb3dFbCIsICJyZXF1aXJlVXBkYXRlT25WaXJ0dWFsIiwgImluaXRfZWZmZWN0X2luaXQiLCAiX19lc21NaW4iLCAiZWZmZWN0VGFyZ2V0IiwgImVmZmVjdFBhcmFtcyIsICJzbGlkZUVsIiwgInRyYW5zZm9ybUVsIiwgImdldFNsaWRlVHJhbnNmb3JtRWwiLCAiaW5pdF9lZmZlY3RfdGFyZ2V0IiwgIl9fZXNtTWluIiwgImluaXRfdXRpbHMiLCAiZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQiLCAiX3JlZiIsICJzd2lwZXIiLCAiZHVyYXRpb24iLCAidHJhbnNmb3JtRWxlbWVudHMiLCAiYWxsU2xpZGVzIiwgImFjdGl2ZUluZGV4IiwgImdldFNsaWRlIiwgImVsIiwgInNsaWRlRWwiLCAiZXZlbnRUcmlnZ2VyZWQiLCAidHJhbnNpdGlvbkVuZFRhcmdldCIsICJ0cmFuc2Zvcm1FbCIsICJlbGVtZW50VHJhbnNpdGlvbkVuZCIsICJldnQiLCAiaW5pdF9lZmZlY3RfdmlydHVhbF90cmFuc2l0aW9uX2VuZCIsICJfX2VzbU1pbiIsICJpbml0X3V0aWxzIiwgIkVmZmVjdEZhZGUiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVmZmVjdEluaXQiLCAic2xpZGVzIiwgInBhcmFtcyIsICJpIiwgInNsaWRlRWwiLCAidHgiLCAidHkiLCAic2xpZGVPcGFjaXR5IiwgInRhcmdldEVsIiwgImVmZmVjdFRhcmdldCIsICJkdXJhdGlvbiIsICJ0cmFuc2Zvcm1FbGVtZW50cyIsICJnZXRTbGlkZVRyYW5zZm9ybUVsIiwgImVsIiwgImVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIiwgImluaXRfZWZmZWN0X2ZhZGUiLCAiX19lc21NaW4iLCAiaW5pdF9lZmZlY3RfaW5pdCIsICJpbml0X2VmZmVjdF90YXJnZXQiLCAiaW5pdF9lZmZlY3RfdmlydHVhbF90cmFuc2l0aW9uX2VuZCIsICJpbml0X3V0aWxzIiwgImluaXRfZWZmZWN0X2N1YmUiLCAiX19lc21NaW4iLCAiaW5pdF9lZmZlY3RfaW5pdCIsICJpbml0X3V0aWxzIiwgImluaXRfY3JlYXRlX3NoYWRvdyIsICJfX2VzbU1pbiIsICJpbml0X3V0aWxzIiwgImluaXRfZWZmZWN0X2ZsaXAiLCAiX19lc21NaW4iLCAiaW5pdF9jcmVhdGVfc2hhZG93IiwgImluaXRfZWZmZWN0X2luaXQiLCAiaW5pdF9lZmZlY3RfdGFyZ2V0IiwgImluaXRfZWZmZWN0X3ZpcnR1YWxfdHJhbnNpdGlvbl9lbmQiLCAiaW5pdF91dGlscyIsICJpbml0X2VmZmVjdF9jb3ZlcmZsb3ciLCAiX19lc21NaW4iLCAiaW5pdF9jcmVhdGVfc2hhZG93IiwgImluaXRfZWZmZWN0X2luaXQiLCAiaW5pdF9lZmZlY3RfdGFyZ2V0IiwgImluaXRfdXRpbHMiLCAiaW5pdF9lZmZlY3RfY3JlYXRpdmUiLCAiX19lc21NaW4iLCAiaW5pdF9jcmVhdGVfc2hhZG93IiwgImluaXRfZWZmZWN0X2luaXQiLCAiaW5pdF9lZmZlY3RfdGFyZ2V0IiwgImluaXRfZWZmZWN0X3ZpcnR1YWxfdHJhbnNpdGlvbl9lbmQiLCAiaW5pdF91dGlscyIsICJpbml0X2VmZmVjdF9jYXJkcyIsICJfX2VzbU1pbiIsICJpbml0X2NyZWF0ZV9zaGFkb3ciLCAiaW5pdF9lZmZlY3RfaW5pdCIsICJpbml0X2VmZmVjdF90YXJnZXQiLCAiaW5pdF9lZmZlY3RfdmlydHVhbF90cmFuc2l0aW9uX2VuZCIsICJpbml0X3V0aWxzIiwgImluaXRfbW9kdWxlcyIsICJfX2VzbU1pbiIsICJpbml0X3ZpcnR1YWwiLCAiaW5pdF9rZXlib2FyZCIsICJpbml0X21vdXNld2hlZWwiLCAiaW5pdF9uYXZpZ2F0aW9uIiwgImluaXRfcGFnaW5hdGlvbiIsICJpbml0X3Njcm9sbGJhciIsICJpbml0X3BhcmFsbGF4IiwgImluaXRfem9vbSIsICJpbml0X2NvbnRyb2xsZXIiLCAiaW5pdF9hMTF5IiwgImluaXRfaGlzdG9yeSIsICJpbml0X2hhc2hfbmF2aWdhdGlvbiIsICJpbml0X2F1dG9wbGF5IiwgImluaXRfdGh1bWJzIiwgImluaXRfZnJlZV9tb2RlIiwgImluaXRfZ3JpZCIsICJpbml0X21hbmlwdWxhdGlvbiIsICJpbml0X2VmZmVjdF9mYWRlIiwgImluaXRfZWZmZWN0X2N1YmUiLCAiaW5pdF9lZmZlY3RfZmxpcCIsICJpbml0X2VmZmVjdF9jb3ZlcmZsb3ciLCAiaW5pdF9lZmZlY3RfY3JlYXRpdmUiLCAiaW5pdF9lZmZlY3RfY2FyZHMiLCAic3dpcGVySW5pdCIsICJpbml0SGlzdG9yeVN3aXBlciIsICJpbmRleCIsICIkdGhpcyIsICJjb25maWciLCAiU3dpcGVyIiwgIl9fc3ByZWFkUHJvcHMiLCAiX19zcHJlYWRWYWx1ZXMiLCAiTmF2aWdhdGlvbiIsICJQYWdpbmF0aW9uIiwgIk1vdXNld2hlZWwiLCAiQXV0b3BsYXkiLCAiRWZmZWN0RmFkZSIsICJjbGFzc05hbWUiLCAidGl0bGUiLCAidXBkYXRlU2xpZGVPcGFjaXR5IiwgInN3aXBlciIsICJzbGlkZSIsICJoaXN0b3J5VGltZWxpbmUiLCAiQ29udHJvbGxlciIsICJoaXN0b3J5TWFpbiIsICJ0b3RhbFdpZHRoIiwgImNvbnRhaW5lcldpZHRoIiwgIm1heFRyYW5zbGF0ZSIsICJ2aXN1YWxUcmFuc2xhdGUiLCAiYWN0aXZlSW5kZXgiLCAiZSIsICJpbml0X3N3aXBlciIsICJfX2VzbU1pbiIsICJpbml0X21vZHVsZXMiLCAicHJvZHVjdERldGFpbCIsICJ0aHVtYnNTd2lwZXIiLCAiU3dpcGVyIiwgImZyZWVNb2RlIiwgIk5hdmlnYXRpb24iLCAiVGh1bWIiLCAibWFpbkdhbGxlcnkiLCAiRWZmZWN0RmFkZSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVzIiwgImJ1dHRvbiIsICJ0YXJnZXRUYWIiLCAiYnRuIiwgInBhbmUiLCAidGFyZ2V0UGFuZSIsICJpbmRleCIsICJlIiwgIm5ld0luZGV4IiwgIkF1dG9wbGF5IiwgImluaXRfcHJvZHVjdERldGFpbCIsICJfX2VzbU1pbiIsICJpbml0X3N3aXBlciIsICJpbml0X21vZHVsZXMiLCAiY3VzdG9tZXJzRGV0YWlsIiwgIndyYXBwZXIiLCAiYnRuVmlld01vcmUiLCAiQ09MTEFQU0VEX0hFSUdIVCIsICJzcGFuIiwgInJlbGF0ZWRTd2lwZXIiLCAiU3dpcGVyIiwgIk5hdmlnYXRpb24iLCAiQXV0b3BsYXkiLCAiaW5pdF9jdXN0b21lcnNEZXRhaWwiLCAiX19lc21NaW4iLCAiaW5pdF9zd2lwZXIiLCAiaW5pdF9tb2R1bGVzIiwgInJlcXVpcmVfbWFpbiIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImltcG9ydF9hb3MiLCAiaW1wb3J0X2xvemFkIiwgImluaXRfaGVscGVyIiwgImluaXRfaGVhZGVyIiwgImluaXRfc3dpcGVyIiwgImluaXRfcHJvZHVjdERldGFpbCIsICJpbml0X2N1c3RvbWVyc0RldGFpbCIsICJzZXRCYWNrZ3JvdW5kRWxlbWVudCIsICJzdGlja0VsZW1lbnRUb0VkZ2UiLCAibWVudVNweSIsICJidXR0b25Ub1RvcCIsICJpbml0QWNjb3JkaW9uIiwgImhlYWRlciIsICJwcm9kdWN0RGV0YWlsIiwgImN1c3RvbWVyc0RldGFpbCIsICJzd2lwZXJJbml0IiwgIkFPUyIsICJvYnNlcnZlciIsICJsb3phZCIsICIkIiwgIm9yZGVyYnkiLCAidXJsIiwgIiRzdWJNZW51IiwgIkN1c3RvbVNlbGVjdCIsICJfQ3VzdG9tU2VsZWN0IiwgImVsZW1lbnQiLCAib3B0aW9ucyIsICJfX3NwcmVhZFZhbHVlcyIsICJvcHRpb24iLCAiaW5kZXgiLCAiZSIsICJhY3RpdmVPcHRpb24iLCAiX2EiLCAidmFsdWUiLCAidGV4dCIsICJvcHQiLCAiX2IiLCAiZXhjZXB0U2VsZWN0IiwgInNlbGVjdCIsICJzZWxlY3RvciIsICJpbnN0YW5jZXMiLCAic2VsZWN0cyIsICJmaWx0ZXJzIiwgIm5hbWUiLCAiYXBwbHlGaWx0ZXJzIiwgImtleSIsICJhcHBseUZpbHRlcnNBamF4IiwgIiRncmlkIiwgInJlc3BvbnNlIiwgImRhdGEiLCAiZXJyb3IiLCAiZ2V0QWxsRmlsdGVyVmFsdWVzIiwgInZhbHVlcyIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVzIiwgImJ1dHRvbiIsICJ0YXJnZXRUYWIiLCAiYnRuIiwgInBhbmUiLCAidGFyZ2V0UGFuZSIsICJuZXdJbmRleCJdCn0K
